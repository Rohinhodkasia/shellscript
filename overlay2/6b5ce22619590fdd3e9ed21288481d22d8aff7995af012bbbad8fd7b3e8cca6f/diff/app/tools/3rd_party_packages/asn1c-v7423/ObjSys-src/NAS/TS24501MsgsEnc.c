/**
 * This file was generated by the Objective Systems ASN1C Compiler
 * (http://www.obj-sys.com).  Version: 7.4.2.3, Date: 13-Jul-2020.
 */
#include "TS24501Msgs.h"
#include "rtxsrc/rtxCommon.h"
#include "rtxsrc/rtxBitEncode.h"
#include "rtxsrc/rtxIntEncode.h"
#include "rt3gppsrc/rtx3GPP.h"
#include "rt3gppsrc/rt3gppNasSec.h"
#include "rtxsrc/rtxDiagBitTrace.h"

EXTERN int NASEnc_TS24501Msg_NAS5GProtoDiscr (OSCTXT* pctxt
   , TS24501Msg_NAS5GProtoDiscr value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NAS5GProtoDiscr");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_NAS5GProtoDiscr_sessMgmt5G:
      case TS24501Msg_NAS5GProtoDiscr_mobMgmt5G:
      case TS24501Msg_NAS5GProtoDiscr_maxProtoDiscr:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NAS5GSecHdrType (OSCTXT* pctxt
   , TS24501Msg_NAS5GSecHdrType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NAS5GSecHdrType");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_NAS5GSecHdrType_noSec:
      case TS24501Msg_NAS5GSecHdrType_integProt:
      case TS24501Msg_NAS5GSecHdrType_integProtAndCipher:
      case TS24501Msg_NAS5GSecHdrType_integProtAnd5GSecCtxt:
      case TS24501Msg_NAS5GSecHdrType_integProtAndCipherAnd5GSecCtxt:
      case TS24501Msg_NAS5GSecHdrType_secMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PDUSessionIdentity (OSCTXT* pctxt
   , TS24501Msg_PDUSessionIdentity value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUSessionIdentity");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_PDUSessionIdentity_noPduId:
      case TS24501Msg_PDUSessionIdentity_pduId1:
      case TS24501Msg_PDUSessionIdentity_pduId2:
      case TS24501Msg_PDUSessionIdentity_pduId3:
      case TS24501Msg_PDUSessionIdentity_pduId4:
      case TS24501Msg_PDUSessionIdentity_pduId5:
      case TS24501Msg_PDUSessionIdentity_pduId6:
      case TS24501Msg_PDUSessionIdentity_pduId7:
      case TS24501Msg_PDUSessionIdentity_pduId8:
      case TS24501Msg_PDUSessionIdentity_pduId9:
      case TS24501Msg_PDUSessionIdentity_pduId10:
      case TS24501Msg_PDUSessionIdentity_pduId11:
      case TS24501Msg_PDUSessionIdentity_pduId12:
      case TS24501Msg_PDUSessionIdentity_pduId13:
      case TS24501Msg_PDUSessionIdentity_pduId14:
      case TS24501Msg_PDUSessionIdentity_pduId15:
      case TS24501Msg_PDUSessionIdentity_pduIdMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AdditionalInfo (OSCTXT* pctxt
   , TS24501Msg_AdditionalInfo value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AdditionalInfo");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DNNList (OSCTXT* pctxt, TS24501Msg_DNNList value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DNNList");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EAPFormatCode (OSCTXT* pctxt
   , TS24501Msg_EAPFormatCode value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EAPFormatCode");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_EAPFormatCode_request:
      case TS24501Msg_EAPFormatCode_response:
      case TS24501Msg_EAPFormatCode_success:
      case TS24501Msg_EAPFormatCode_failure:
      case TS24501Msg_EAPFormatCode_codeMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_N1ToS1NASContainer (OSCTXT* pctxt
   , TS24501Msg_N1ToS1NASContainer value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "N1ToS1NASContainer");

   /* Encode INTEGER value */
   if (!(value >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SST (OSCTXT* pctxt, TS24501Msg_SST value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SST");

   /* Encode INTEGER value */
   if (!(value >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SD (OSCTXT* pctxt, TS24501Msg_SD value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SD");

   /* Encode INTEGER value */
   if (!((value >= 1 && value <= 16777215))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 24);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MMCause (OSCTXT* pctxt, TS24501Msg_MMCause value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MMCause");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_MMCause_illegalUE:
      case TS24501Msg_MMCause_peiNotAccept:
      case TS24501Msg_MMCause_illegalME:
      case TS24501Msg_MMCause_svcNotAllowed:
      case TS24501Msg_MMCause_idNotDerived:
      case TS24501Msg_MMCause_implDereg:
      case TS24501Msg_MMCause_plmnNotAllowed:
      case TS24501Msg_MMCause_trkAreaNotAllowed:
      case TS24501Msg_MMCause_roamNotAllowed:
      case TS24501Msg_MMCause_noCells:
      case TS24501Msg_MMCause_macFailure:
      case TS24501Msg_MMCause_synchFailure:
      case TS24501Msg_MMCause_congestion:
      case TS24501Msg_MMCause_secCapMismatch:
      case TS24501Msg_MMCause_secModeRej:
      case TS24501Msg_MMCause_authUnaccept:
      case TS24501Msg_MMCause_n1ModeNotAllowed:
      case TS24501Msg_MMCause_restrictedArea:
      case TS24501Msg_MMCause_redirToEpc:
      case TS24501Msg_MMCause_ladnUnavail:
      case TS24501Msg_MMCause_noNetSlices:
      case TS24501Msg_MMCause_maxSessions:
      case TS24501Msg_MMCause_insuffResDNN:
      case TS24501Msg_MMCause_insuffResSlice:
      case TS24501Msg_MMCause_ngksiInUse:
      case TS24501Msg_MMCause_accTo5GNotAllowed:
      case TS24501Msg_MMCause_netNotAuth:
      case TS24501Msg_MMCause_noTempAuthSnpn:
      case TS24501Msg_MMCause_noPermAuthSnpn:
      case TS24501Msg_MMCause_noAuthCag:
      case TS24501Msg_MMCause_notForwarded:
      case TS24501Msg_MMCause_dnnUnsupp:
      case TS24501Msg_MMCause_insuffRes:
      case TS24501Msg_MMCause_semIncorrectMsg:
      case TS24501Msg_MMCause_invMandInfo:
      case TS24501Msg_MMCause_msgTypeNotExist:
      case TS24501Msg_MMCause_msgTypeNotCompat:
      case TS24501Msg_MMCause_infoElemNotExist:
      case TS24501Msg_MMCause_condIEError:
      case TS24501Msg_MMCause_msgNotCompat:
      case TS24501Msg_MMCause_unspecProtoErr:
      case TS24501Msg_MMCause_mmCauseMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_TypeOfIdentity (OSCTXT* pctxt
   , TS24501Msg_TypeOfIdentity value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TypeOfIdentity");

   /* Encode ENUMERATED value */
   if (value >= 8) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegistrationResultValue (OSCTXT* pctxt
   , TS24501Msg_RegistrationResultValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationResultValue");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_RegistrationResultValue_access:
      case TS24501Msg_RegistrationResultValue_nonAccess:
      case TS24501Msg_RegistrationResultValue_accessAndNonAccess:
      case TS24501Msg_RegistrationResultValue_regResultMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegistrationTypeValue (OSCTXT* pctxt
   , TS24501Msg_RegistrationTypeValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationTypeValue");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_RegistrationTypeValue_initial:
      case TS24501Msg_RegistrationTypeValue_mobilityUpdate:
      case TS24501Msg_RegistrationTypeValue_periodicUpdate:
      case TS24501Msg_RegistrationTypeValue_emergency:
      case TS24501Msg_RegistrationTypeValue_regisTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_TrackingAreaCode (OSCTXT* pctxt
   , TS24501Msg_TrackingAreaCode* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaCode");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ABBA (OSCTXT* pctxt, TS24501Msg_ABBA value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ABBA");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CIoTDataTypes (OSCTXT* pctxt
   , TS24501Msg_CIoTDataTypes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CIoTDataTypes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_CIoTDataTypes_ciotCtrlPlaneUserData:
      case TS24501Msg_CIoTDataTypes_ciotSMS:
      case TS24501Msg_CIoTDataTypes_ciotLocSvcsMsg:
      case TS24501Msg_CIoTDataTypes_ciotMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PayloadContainerType (OSCTXT* pctxt
   , TS24501Msg_PayloadContainerType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PayloadContainerType");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_PayloadContainerType_n1SmInfo:
      case TS24501Msg_PayloadContainerType_sms:
      case TS24501Msg_PayloadContainerType_lppMessage:
      case TS24501Msg_PayloadContainerType_transparent:
      case TS24501Msg_PayloadContainerType_uePolicy:
      case TS24501Msg_PayloadContainerType_ueParams:
      case TS24501Msg_PayloadContainerType_locSvcs:
      case TS24501Msg_PayloadContainerType_ciotUserData:
      case TS24501Msg_PayloadContainerType_multPayloads:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PDUSessionId2 (OSCTXT* pctxt
   , TS24501Msg_PDUSessionId2 value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUSessionId2");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SessionReactivateRslt_psi (OSCTXT* pctxt
   , TS24501Msg_SessionReactivateRslt_psi* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 16; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SessionReactivateRslt (OSCTXT* pctxt
   , TS24501Msg_SessionReactivateRslt* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionReactivateRslt");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psi */

   RTXCTXTPUSHELEMNAME (pctxt, "psi");

   ret = NASEnc_TS24501Msg_SessionReactivateRslt_psi (pctxt, &pvalue->psi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PDUSessionStatus (OSCTXT* pctxt
   , TS24501Msg_PDUSessionStatus* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUSessionStatus");

   ret = NASEnc_TS24501Msg_SessionReactivateRslt (pctxt, pvalue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RequestTypes (OSCTXT* pctxt
   , TS24501Msg_RequestTypes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RequestTypes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_RequestTypes_initialReq:
      case TS24501Msg_RequestTypes_existPduSession:
      case TS24501Msg_RequestTypes_initialEmerReq:
      case TS24501Msg_RequestTypes_emerPduSession:
      case TS24501Msg_RequestTypes_modifyReq:
      case TS24501Msg_RequestTypes_reqTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ServiceType (OSCTXT* pctxt
   , TS24501Msg_ServiceType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ServiceType");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_ServiceType_signaling:
      case TS24501Msg_ServiceType_data:
      case TS24501Msg_ServiceType_mobTermSvc:
      case TS24501Msg_ServiceType_emerSvc:
      case TS24501Msg_ServiceType_emerSvcFallback:
      case TS24501Msg_ServiceType_hiPriAccess:
      case TS24501Msg_ServiceType_elevSignal:
      case TS24501Msg_ServiceType_serviceTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMCause (OSCTXT* pctxt, TS24501Msg_SMCause value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMCause");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_SMCause_opBarring:
      case TS24501Msg_SMCause_insuffResources:
      case TS24501Msg_SMCause_unkOrMissDNN:
      case TS24501Msg_SMCause_unknownPDUType:
      case TS24501Msg_SMCause_userAuthFailed:
      case TS24501Msg_SMCause_reqRejectUnspecified:
      case TS24501Msg_SMCause_optNotSupported:
      case TS24501Msg_SMCause_reqSvcOptNotSubscr:
      case TS24501Msg_SMCause_svcOptTempOutOfOrder:
      case TS24501Msg_SMCause_ptiAlreadyInUse:
      case TS24501Msg_SMCause_regularDeactivation:
      case TS24501Msg_SMCause_networkFailure:
      case TS24501Msg_SMCause_reactivateRequest:
      case TS24501Msg_SMCause_semanticErrTft:
      case TS24501Msg_SMCause_syntaxErrTft:
      case TS24501Msg_SMCause_invPduId:
      case TS24501Msg_SMCause_semanticErrInFilter:
      case TS24501Msg_SMCause_syntaxErrInFilter:
      case TS24501Msg_SMCause_outOfArea:
      case TS24501Msg_SMCause_ptiMismatch:
      case TS24501Msg_SMCause_pdnTypeIPv4OnlyAllow:
      case TS24501Msg_SMCause_pdnTypeIPv6OnlyAllow:
      case TS24501Msg_SMCause_pduNotExist:
      case TS24501Msg_SMCause_pdnTypeIPv4v6OnlyAllow:
      case TS24501Msg_SMCause_pdnTypeUnstructOnlyAllow:
      case TS24501Msg_SMCause_pdnTypeEthOnlyAllow:
      case TS24501Msg_SMCause_insufResForDNN:
      case TS24501Msg_SMCause_notSuppSSCMode:
      case TS24501Msg_SMCause_insufResForSlice:
      case TS24501Msg_SMCause_unkOrMissDNNInSlice:
      case TS24501Msg_SMCause_invPTIValue:
      case TS24501Msg_SMCause_maxDRTooLow:
      case TS24501Msg_SMCause_semanticErrQoS:
      case TS24501Msg_SMCause_syntaxErrQoS:
      case TS24501Msg_SMCause_invEpsId:
      case TS24501Msg_SMCause_semIncorrectMessage:
      case TS24501Msg_SMCause_invMandatoryInfo:
      case TS24501Msg_SMCause_msgTypeNonExistOrNotImpl:
      case TS24501Msg_SMCause_msgTypeNotCompatWithProtoState:
      case TS24501Msg_SMCause_ieNonExistOrNotImpl:
      case TS24501Msg_SMCause_condIEError:
      case TS24501Msg_SMCause_msgNotCompatWithProtoState:
      case TS24501Msg_SMCause_protocolErrorUnspecified:
      case TS24501Msg_SMCause_smCauseMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MaxDataRates (OSCTXT* pctxt
   , TS24501Msg_MaxDataRates value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MaxDataRates");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_MaxDataRates_dr64kbps:
      case TS24501Msg_MaxDataRates_drFull:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_FlowOpCodes (OSCTXT* pctxt
   , TS24501Msg_FlowOpCodes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "FlowOpCodes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_FlowOpCodes_flowCreate:
      case TS24501Msg_FlowOpCodes_flowDelete:
      case TS24501Msg_FlowOpCodes_flowModify:
      case TS24501Msg_FlowOpCodes_ruleOpMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RuleOpCodes (OSCTXT* pctxt
   , TS24501Msg_RuleOpCodes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RuleOpCodes");

   /* Encode ENUMERATED value */
   if (value >= 8) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PacketFilterTypeId (OSCTXT* pctxt
   , TS24501Msg_PacketFilterTypeId value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PacketFilterTypeId");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_PacketFilterTypeId_matchAll:
      case TS24501Msg_PacketFilterTypeId_ipv4Remote:
      case TS24501Msg_PacketFilterTypeId_ipv4Local:
      case TS24501Msg_PacketFilterTypeId_ipv6Remote:
      case TS24501Msg_PacketFilterTypeId_ipv6Local:
      case TS24501Msg_PacketFilterTypeId_protId:
      case TS24501Msg_PacketFilterTypeId_singleLocalPort:
      case TS24501Msg_PacketFilterTypeId_localPortRange:
      case TS24501Msg_PacketFilterTypeId_singleRemPort:
      case TS24501Msg_PacketFilterTypeId_remPortRange:
      case TS24501Msg_PacketFilterTypeId_secParam:
      case TS24501Msg_PacketFilterTypeId_typeOfSvc:
      case TS24501Msg_PacketFilterTypeId_flowLabel:
      case TS24501Msg_PacketFilterTypeId_destMacAddr:
      case TS24501Msg_PacketFilterTypeId_srcMacAddr:
      case TS24501Msg_PacketFilterTypeId_ctagVid:
      case TS24501Msg_PacketFilterTypeId_stagVid:
      case TS24501Msg_PacketFilterTypeId_ctagPcp:
      case TS24501Msg_PacketFilterTypeId_stagPcp:
      case TS24501Msg_PacketFilterTypeId_ethernet:
      case TS24501Msg_PacketFilterTypeId_typeIdMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SessionUnits (OSCTXT* pctxt
   , TS24501Msg_SessionUnits value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionUnits");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_SessionUnits_unused:
      case TS24501Msg_SessionUnits_mult1kbps:
      case TS24501Msg_SessionUnits_mult4kbps:
      case TS24501Msg_SessionUnits_mult16kbps:
      case TS24501Msg_SessionUnits_mult64kbps:
      case TS24501Msg_SessionUnits_mult256kbps:
      case TS24501Msg_SessionUnits_mult1mbps:
      case TS24501Msg_SessionUnits_mult4mbps:
      case TS24501Msg_SessionUnits_mult16mbps:
      case TS24501Msg_SessionUnits_mult64mbps:
      case TS24501Msg_SessionUnits_mult256mbps:
      case TS24501Msg_SessionUnits_mult1gbps:
      case TS24501Msg_SessionUnits_mult4gbps:
      case TS24501Msg_SessionUnits_mult16gbps:
      case TS24501Msg_SessionUnits_mult64gbps:
      case TS24501Msg_SessionUnits_mult256gbps:
      case TS24501Msg_SessionUnits_mult1tbps:
      case TS24501Msg_SessionUnits_unitsMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AccessType_typeOfAccess (OSCTXT* pctxt
   , TS24501Msg_AccessType_typeOfAccess value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 3) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NSSAIInclusionMode_inclusionMode (OSCTXT* pctxt
   , TS24501Msg_NSSAIInclusionMode_inclusionMode value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RejectedNSSAI_cause (OSCTXT* pctxt
   , TS24501Msg_RejectedNSSAI_cause value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501Msg_RejectedNSSAI_cause_unavailInCurrPlmn:
      case TS24501Msg_RejectedNSSAI_cause_unavailInCurrRegisArea:
      case TS24501Msg_RejectedNSSAI_cause_authPending:
      case TS24501Msg_RejectedNSSAI_cause_causeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ParamsList_paramContent (OSCTXT* pctxt
   , TS24501Msg_ParamsList_paramContent* pvalue)
{
   int ret = 0;

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->numocts >= 1 && pvalue->numocts <= 17))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PDUAddress_addressInfo (OSCTXT* pctxt
   , TS24501Msg_PDUAddress_addressInfo* pvalue)
{
   int ret = 0;

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->numocts >= 4 && pvalue->numocts <= 12))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NAS5GSecProtMsgHdr (OSCTXT* pctxt
   , TS24501Msg_NAS5GSecProtMsgHdr* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NAS5GSecProtMsgHdr");

   /* encode protoDiscr */

   RTXCTXTPUSHELEMNAME (pctxt, "protoDiscr");

   ret = NASEnc_TS24501Msg_NAS5GProtoDiscr (pctxt, pvalue->protoDiscr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode secHdrType */

   RTXCTXTPUSHELEMNAME (pctxt, "secHdrType");

   ret = NASEnc_TS24501Msg_NAS5GSecHdrType (pctxt, pvalue->secHdrType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode msgAuthCode */

   RTXCTXTPUSHELEMNAME (pctxt, "msgAuthCode");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->msgAuthCode, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode seqNumber */

   RTXCTXTPUSHELEMNAME (pctxt, "seqNumber");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->seqNumber, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EAPPacketFormat (OSCTXT* pctxt
   , TS24501Msg_EAPPacketFormat* pvalue)
{
   int ret = 0;

   /* encode code */

   RTXCTXTPUSHELEMNAME (pctxt, "code");

   ret = NASEnc_TS24501Msg_EAPFormatCode (pctxt, pvalue->code);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");
   if (!(pvalue->id >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->id);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->id, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->length, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode data */

   RTXCTXTPUSHELEMNAME (pctxt, "data");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data.data, pvalue->data.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EAPMessage (OSCTXT* pctxt
   , TS24501Msg_EAPMessage* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EAPMessage");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode packetFormat */

   RTXCTXTPUSHELEMNAME (pctxt, "packetFormat");

   ret = NASEnc_TS24501Msg_EAPPacketFormat (pctxt, &pvalue->packetFormat);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AuthRequest (OSCTXT* pctxt
   , TS24501Msg_AuthRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthRequest");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nasKeySetIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "nasKeySetIdent");

   ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->nasKeySetIdent
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode abba */

   RTXCTXTPUSHELEMNAME (pctxt, "abba");

   ret = NASEnc_TS24501Msg_ABBA (pctxt, pvalue->abba);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode authParamRAND */

   RTXCTXTPUSHELEMNAME (pctxt, "authParamRAND");
   if (pvalue->m.authParamRANDPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x21, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_AuthParamRAND (pctxt, &pvalue->authParamRAND);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode authParamAUTN */

   RTXCTXTPUSHELEMNAME (pctxt, "authParamAUTN");
   if (pvalue->m.authParamAUTNPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x20, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_AuthParamAUTN (pctxt, &pvalue->authParamAUTN);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AuthResponse (OSCTXT* pctxt
   , TS24501Msg_AuthResponse* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthResponse");

   /* encode authRespParam */

   RTXCTXTPUSHELEMNAME (pctxt, "authRespParam");
   if (pvalue->m.authRespParamPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x2d, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24301IE_AuthRespParam (pctxt, &pvalue->authRespParam);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AuthResult (OSCTXT* pctxt
   , TS24501Msg_AuthResult* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthResult");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nasKeySetIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "nasKeySetIdent");

   ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->nasKeySetIdent
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");

   ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode abba */

   RTXCTXTPUSHELEMNAME (pctxt, "abba");
   if (pvalue->m.abbaPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x38, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_ABBA (pctxt, pvalue->abba);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AuthFailure (OSCTXT* pctxt
   , TS24501Msg_AuthFailure* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthFailure");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode authFailureParam */

   RTXCTXTPUSHELEMNAME (pctxt, "authFailureParam");
   if (pvalue->m.authFailureParamPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x30, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_AuthFailureParam (pctxt, &pvalue->authFailureParam
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AuthReject (OSCTXT* pctxt
   , TS24501Msg_AuthReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthReject");

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegistrationType (OSCTXT* pctxt
   , TS24501Msg_RegistrationType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationType");

   /* encode forBit */

   RTXCTXTPUSHELEMNAME (pctxt, "forBit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->forBit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode regisType */

   RTXCTXTPUSHELEMNAME (pctxt, "regisType");

   ret = NASEnc_TS24501Msg_RegistrationTypeValue (pctxt, pvalue->regisType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MobileIdentity_SUCI_IMSI (OSCTXT* pctxt
   , TS24501Msg_MobileIdentity_SUCI_IMSI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_SUCI_IMSI");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd2 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd2");
   if (!(pvalue->routingInd2 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd2, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd1 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd1");
   if (!(pvalue->routingInd1 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd1, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd4 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd4");
   if (!(pvalue->routingInd4 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd4);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd4, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd3 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd3");
   if (!(pvalue->routingInd3 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd3);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd3, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode protSchemeId */

   RTXCTXTPUSHELEMNAME (pctxt, "protSchemeId");
   if (!(pvalue->protSchemeId <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->protSchemeId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->protSchemeId, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode homeNetId */

   RTXCTXTPUSHELEMNAME (pctxt, "homeNetId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->homeNetId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode schemeOutput */

   RTXCTXTPUSHELEMNAME (pctxt, "schemeOutput");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->schemeOutput.data, pvalue->schemeOutput.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MobileIdentity_SUCI_NetId (OSCTXT* pctxt
   , TS24501Msg_MobileIdentity_SUCI_NetId* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_SUCI_NetId");

   /* encode nai */

   RTXCTXTPUSHELEMNAME (pctxt, "nai");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->nai.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->nai.data, pvalue->nai.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MobileIdentity_GUTI (OSCTXT* pctxt
   , TS24501Msg_MobileIdentity_GUTI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_GUTI");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfRegionID */

   RTXCTXTPUSHELEMNAME (pctxt, "amfRegionID");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->amfRegionID, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfSetID */

   RTXCTXTPUSHELEMNAME (pctxt, "amfSetID");
   if (!(pvalue->amfSetID <= 1023)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfSetID);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfSetID, 10);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfPointer */

   RTXCTXTPUSHELEMNAME (pctxt, "amfPointer");
   if (!(pvalue->amfPointer <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfPointer);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfPointer, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tmsi */

   RTXCTXTPUSHELEMNAME (pctxt, "tmsi");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->tmsi, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MobileIdentity_STMSI (OSCTXT* pctxt
   , TS24501Msg_MobileIdentity_STMSI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_STMSI");

   /* encode amfSetID */

   RTXCTXTPUSHELEMNAME (pctxt, "amfSetID");
   if (!(pvalue->amfSetID <= 1023)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfSetID);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfSetID, 10);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfPointer */

   RTXCTXTPUSHELEMNAME (pctxt, "amfPointer");
   if (!(pvalue->amfPointer <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfPointer);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfPointer, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tmsi */

   RTXCTXTPUSHELEMNAME (pctxt, "tmsi");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->tmsi, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MobileIdentity_MAC (OSCTXT* pctxt
   , TS24501Msg_MobileIdentity_MAC* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_MAC");

   /* encode mauri */

   RTXCTXTPUSHELEMNAME (pctxt, "mauri");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mauri);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode macaddr */

   RTXCTXTPUSHELEMNAME (pctxt, "macaddr");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->macaddr, 48);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24501MsgEnc_MobileIdentity.c */

/* Start custom code.
Handle first octet holding data for some of the cases, and use of nested
choice type.
*/
EXTERN int NASEnc_TS24501Msg_MobileIdentity (OSCTXT* pctxt,
   TS24501Msg_MobileIdentity* pvalue)
{
   int ret = 0;
   OSSIZE startIndex;
   OSUINT8 len = 0;          /* non-zero if known upfront. */
   OSUINT8 firstOctet = 0;   /* firstOctet for certain cases */

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity");

   /* We encode a length and the first octet for all cases except
      IMEI and IMEISV, for which we'll call separate functions.
   */   
   switch (pvalue->t) {
      case T_TS24501Msg_MobileIdentity_none:
         len = 1; firstOctet = 0; break;
      case T_TS24501Msg_MobileIdentity_suci: {
         /* SUCI */
         len = 0;    /* we'll fill in length afterward */
         firstOctet = 1;
         if ( pvalue->u.suci.t == T_TS24501Msg_MobileIdentity_suci_supiNetSpecificId)
            firstOctet += 0x10;
         break;
      }
      case T_TS24501Msg_MobileIdentity_guti:
         len = 11; firstOctet = 0xF2; break;
      case T_TS24501Msg_MobileIdentity_stmsi:
         len = 7; firstOctet = 0xF4; break;
      case T_TS24501Msg_MobileIdentity_mac: {
         len = 7; firstOctet = 6;
         if ( pvalue->u.mac.mauri ) firstOctet += 0x08;
         break;
      }
      case T_TS24501Msg_MobileIdentity_eui_64:
         len = 9; firstOctet = 0x07; break;
      default:
         break;
   }
   
   if ( pvalue->t == T_TS24501Msg_MobileIdentity_imei ||
         pvalue->t == T_TS24501Msg_MobileIdentity_imeisv )
   {
      /* Encode 0 for the first octet of the two-octet length. */
      RTDIAG_NEWBITFIELD (pctxt, "length-1st-octet");

      ret = rtxEncUInt32 (pctxt, 0, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }         
   else {
      /* Encode zero or expected length.  We'll correct it after encoding,
         if necessary. */

      RTXCTXTPUSHELEMNAME (pctxt, "length");

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncUInt32 (pctxt, len, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);
      
      startIndex = rtxCtxtGetBitOffset (pctxt);

      /* encode first octet */
      RTXCTXTPUSHELEMNAME (pctxt, "bits+type");

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, firstOctet, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);
   }

   /* Encode whatever remains for each type. */
   switch (pvalue->t)
   {
      case T_TS24501Msg_MobileIdentity_none:
         break;    /* None.  Nothing remains */
      case T_TS24501Msg_MobileIdentity_suci: {       
         RTXCTXTPUSHELEMNAME (pctxt, "suci");

         switch (pvalue->u.suci.t) {
            case T_TS24501Msg_MobileIdentity_suci_supiImsi:
               ret = NASEnc_TS24501Msg_MobileIdentity_SUCI_IMSI(pctxt,
                  &pvalue->u.suci.u.supiImsi);
               break;
            case T_TS24501Msg_MobileIdentity_suci_supiNetSpecificId:
               ret = NASEnc_TS24501Msg_MobileIdentity_SUCI_NetId (pctxt,
                  &pvalue->u.suci.u.supiNetSpecificId);
               break;
            default:
               return LOG_RTERR (pctxt, RTERR_INVOPT);
         }       
         if (ret < 0) return LOG_RTERR (pctxt, ret);     

         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501Msg_MobileIdentity_guti: {
         RTXCTXTPUSHELEMNAME (pctxt, "guti");
         ret = NASEnc_TS24501Msg_MobileIdentity_GUTI(pctxt, &pvalue->u.guti);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501Msg_MobileIdentity_imei: {
         /* IMEI */
         RTXCTXTPUSHELEMNAME (pctxt, "imei");

         ret = rtx3GPPEncMobileIdentityType1 
            (pctxt, 3, pvalue->u.imei);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501Msg_MobileIdentity_stmsi: {
         /* stmsi */
         RTXCTXTPUSHELEMNAME (pctxt, "stmsi");
         ret = NASEnc_TS24501Msg_MobileIdentity_STMSI(pctxt, &pvalue->u.stmsi);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501Msg_MobileIdentity_imeisv: {
         /* IMEISV */
         RTXCTXTPUSHELEMNAME (pctxt, "imeisv");

         ret = rtx3GPPEncMobileIdentityType1 
            (pctxt, 5, pvalue->u.imeisv);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501Msg_MobileIdentity_mac: {
         /* mac */
         RTXCTXTPUSHELEMNAME (pctxt, "macaddr");
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->u.mac.macaddr, 48);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         
         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);
         break;
      }
      case T_TS24501Msg_MobileIdentity_eui_64: {
         /* eui64 */
         RTXCTXTPUSHELEMNAME (pctxt, "eui-64");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->u.eui_64, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;
      }
      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   
   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)) {
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }

   if ( pvalue->t != T_TS24501Msg_MobileIdentity_imei &&
         pvalue->t != T_TS24501Msg_MobileIdentity_imeisv ) 
   {
      /* Go back and encode the correct length, if the previously encoded
         length is different than the actual length.
      */
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      OSUINT32 actualLen = (OSUINT32)((endIndex - startIndex)/8);
      if (len != actualLen) {
         rtxCtxtSetBitOffset (pctxt, startIndex - 16);
         ret = rtxMergeBits (pctxt, actualLen, 16);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         rtxCtxtSetBitOffset (pctxt, endIndex);
      }
   }
   
   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* End custom code */

/* end custom source file TS24501MsgEnc_MobileIdentity.c */

EXTERN int NASEnc_TS24501Msg_MMCapability_octet4 (OSCTXT* pctxt
   , TS24501Msg_MMCapability_octet4* pvalue)
{
   int ret = 0;

   /* encode racs */

   RTXCTXTPUSHELEMNAME (pctxt, "racs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->racs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nssaa */

   RTXCTXTPUSHELEMNAME (pctxt, "nssaa");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nssaa);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lcs */

   RTXCTXTPUSHELEMNAME (pctxt, "lcs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lcs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode v2xcnpc5 */

   RTXCTXTPUSHELEMNAME (pctxt, "v2xcnpc5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->v2xcnpc5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode v2xcepc5 */

   RTXCTXTPUSHELEMNAME (pctxt, "v2xcepc5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->v2xcepc5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode v2x */

   RTXCTXTPUSHELEMNAME (pctxt, "v2x");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->v2x);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode upCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "upCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->upCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode srvcc */

   RTXCTXTPUSHELEMNAME (pctxt, "srvcc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->srvcc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MMCapability_octet5 (OSCTXT* pctxt
   , TS24501Msg_MMCapability_octet5* pvalue)
{
   int ret = 0;

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cag */

   RTXCTXTPUSHELEMNAME (pctxt, "cag");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cag);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MMCapability (OSCTXT* pctxt
   , TS24501Msg_MMCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MMCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sgc */

   RTXCTXTPUSHELEMNAME (pctxt, "sgc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->sgc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hcCpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "hcCpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->hcCpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode n3Data */

   RTXCTXTPUSHELEMNAME (pctxt, "n3Data");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->n3Data);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "cpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode restrictedEC */

   RTXCTXTPUSHELEMNAME (pctxt, "restrictedEC");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->restrictedEC);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lppSupported */

   RTXCTXTPUSHELEMNAME (pctxt, "lppSupported");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lppSupported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode handoverSupported */

   RTXCTXTPUSHELEMNAME (pctxt, "handoverSupported");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->handoverSupported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode s1Supported */

   RTXCTXTPUSHELEMNAME (pctxt, "s1Supported");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->s1Supported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {

      ret = NASEnc_TS24501Msg_MMCapability_octet4 (pctxt, &pvalue->octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet5 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet5");
   if (pvalue->m.octet5Present) {

      ret = NASEnc_TS24501Msg_MMCapability_octet5 (pctxt, &pvalue->octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (pvalue->m.spare2Present) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare2.data, pvalue->spare2.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UESecurityCapability_octet5 (OSCTXT* pctxt
   , TS24501Msg_UESecurityCapability_octet5* pvalue)
{
   int ret = 0;

   /* encode eea0 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea1 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea2 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea3 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea4 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea5 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea6 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea7 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UESecurityCapability_octet6 (OSCTXT* pctxt
   , TS24501Msg_UESecurityCapability_octet6* pvalue)
{
   int ret = 0;

   /* encode eia0 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia1 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia2 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia3 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia4 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia5 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia6 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia7 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UESecurityCapability (OSCTXT* pctxt
   , TS24501Msg_UESecurityCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UESecurityCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea0 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea1 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea2 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea3 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea4 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea5 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea6 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea7 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia0 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia1 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia2 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia3 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia4 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia5 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia6 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia7 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet5 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet5");
   if (pvalue->m.octet5Present) {

      ret = NASEnc_TS24501Msg_UESecurityCapability_octet5 (pctxt, &pvalue->
         octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet6 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet6");
   if (pvalue->m.octet6Present) {

      ret = NASEnc_TS24501Msg_UESecurityCapability_octet6 (pctxt, &pvalue->
         octet6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SNSSAI (OSCTXT* pctxt, TS24501Msg_SNSSAI* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SNSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sst */

   RTXCTXTPUSHELEMNAME (pctxt, "sst");

   ret = NASEnc_TS24501Msg_SST (pctxt, pvalue->sst);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sd */

   RTXCTXTPUSHELEMNAME (pctxt, "sd");
   if (pvalue->m.sdPresent) {

      ret = NASEnc_TS24501Msg_SD (pctxt, pvalue->sd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSST */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSST");
   if (pvalue->m.mappedSSTPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSST, 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSD */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSD");
   if (pvalue->m.mappedSDPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSD, 24);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NSSAI (OSCTXT* pctxt, TS24501Msg_NSSAI* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      if (!((pvalue->contents.n >= 1 && pvalue->contents.n <= 16))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_SNSSAI (pctxt, &pvalue->contents.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_TrackingAreaIdent (OSCTXT* pctxt
   , TS24501Msg_TrackingAreaIdent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaIdent");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tac */

   RTXCTXTPUSHELEMNAME (pctxt, "tac");

   ret = NASEnc_TS24501Msg_TrackingAreaCode (pctxt, &pvalue->tac);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UplinkDataStatus_psi (OSCTXT* pctxt
   , TS24501Msg_UplinkDataStatus_psi* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 15; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UplinkDataStatus (OSCTXT* pctxt
   , TS24501Msg_UplinkDataStatus* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UplinkDataStatus");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psi */

   RTXCTXTPUSHELEMNAME (pctxt, "psi");

   ret = NASEnc_TS24501Msg_UplinkDataStatus_psi (pctxt, &pvalue->psi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (pvalue->m.spare2Present) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare2.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare2.data, pvalue->spare2.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 2)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MICOIndication (OSCTXT* pctxt
   , TS24501Msg_MICOIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MICOIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sprti */

   RTXCTXTPUSHELEMNAME (pctxt, "sprti");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->sprti);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode raai */

   RTXCTXTPUSHELEMNAME (pctxt, "raai");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->raai);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AllowedPDUSessionStatus_psi (OSCTXT* pctxt
   , TS24501Msg_AllowedPDUSessionStatus_psi* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 16; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AllowedPDUSessionStatus (OSCTXT* pctxt
   , TS24501Msg_AllowedPDUSessionStatus* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AllowedPDUSessionStatus");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psi */

   RTXCTXTPUSHELEMNAME (pctxt, "psi");

   ret = NASEnc_TS24501Msg_AllowedPDUSessionStatus_psi (pctxt, &pvalue->psi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UEUsageSetting (OSCTXT* pctxt
   , TS24501Msg_UEUsageSetting* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEUsageSetting");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode usage */

   RTXCTXTPUSHELEMNAME (pctxt, "usage");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->usage);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DRXParams (OSCTXT* pctxt
   , TS24501Msg_DRXParams* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DRXParams");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode drxValue */

   RTXCTXTPUSHELEMNAME (pctxt, "drxValue");
   if (!(pvalue->drxValue <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->drxValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->drxValue, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EPSMessageContainer (OSCTXT* pctxt
   , TS24501Msg_EPSMessageContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSMessageContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24301IE_NASMessageContainer (pctxt, &pvalue->contents.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_LADNIndication (OSCTXT* pctxt
   , TS24501Msg_LADNIndication* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LADNIndication");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   if (pvalue->m.contentsPresent) {
      {
         OSUINT8 i;
         if (!(pvalue->contents.n <= 8)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         for (i = 0; i < pvalue->contents.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501Msg_DNNList (pctxt, pvalue->contents.elem[i]);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_OpaqueData (OSCTXT* pctxt
   , TS24501Msg_OpaqueData* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "OpaqueData");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NetSliceIndication (OSCTXT* pctxt
   , TS24501Msg_NetSliceIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetSliceIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dcni */

   RTXCTXTPUSHELEMNAME (pctxt, "dcni");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->dcni);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nssci */

   RTXCTXTPUSHELEMNAME (pctxt, "nssci");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nssci);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UpdateType (OSCTXT* pctxt
   , TS24501Msg_UpdateType* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UpdateType");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsPnbCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "epsPnbCIoT");
   if (!((pvalue->epsPnbCIoT >= 0 && pvalue->epsPnbCIoT <= 3))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->epsPnbCIoT);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->epsPnbCIoT, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pnbCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "pnbCIoT");
   if (!((pvalue->pnbCIoT >= 0 && pvalue->pnbCIoT <= 3))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->pnbCIoT);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->pnbCIoT, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ngranUpd */

   RTXCTXTPUSHELEMNAME (pctxt, "ngranUpd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ngranUpd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode smsReq */

   RTXCTXTPUSHELEMNAME (pctxt, "smsReq");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->smsReq);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NASMessageContainer2 (OSCTXT* pctxt
   , TS24501Msg_NASMessageContainer2* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NASMessageContainer2");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->contents.numocts >= 1 && pvalue->contents.numocts <= 65535))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->contents.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MappedSNSSAIContent (OSCTXT* pctxt
   , TS24501Msg_MappedSNSSAIContent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MappedSNSSAIContent");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->length, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSST */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSST");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSST, 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSD */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSD");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSD, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MappedNSSAI (OSCTXT* pctxt
   , TS24501Msg_MappedNSSAI* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MappedNSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      if (!((pvalue->contents.n >= 1 && pvalue->contents.n <= 8))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_MappedSNSSAIContent (pctxt, &pvalue->contents.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AdditionalInfoRequested (OSCTXT* pctxt
   , TS24501Msg_AdditionalInfoRequested* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AdditionalInfoRequested");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipherKey */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherKey");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cipherKey);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegRequest (OSCTXT* pctxt
   , TS24501Msg_RegRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegRequest");

   /* encode nasKeySetIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "nasKeySetIdent");

   ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->nasKeySetIdent
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode registrationType */

   RTXCTXTPUSHELEMNAME (pctxt, "registrationType");

   ret = NASEnc_TS24501Msg_RegistrationType (pctxt, &pvalue->registrationType
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mobileId */

   RTXCTXTPUSHELEMNAME (pctxt, "mobileId");

   ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->mobileId);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode nativeNasKeySetIdent */

      RTXCTXTPUSHELEMNAME (pctxt, "nativeNasKeySetIdent");
      if (pvalue->m.nativeNasKeySetIdentPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xc, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->
            nativeNasKeySetIdent);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode capability */

      RTXCTXTPUSHELEMNAME (pctxt, "capability");
      if (pvalue->m.capabilityPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x10, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_MMCapability (pctxt, &pvalue->capability);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode securityCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "securityCapability");
      if (pvalue->m.securityCapabilityPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x2e, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_UESecurityCapability (pctxt, &pvalue->
            securityCapability);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode requestedNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "requestedNSSAI");
      if (pvalue->m.requestedNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x2f, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NSSAI (pctxt, &pvalue->requestedNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode lastVisitedTAI */

      RTXCTXTPUSHELEMNAME (pctxt, "lastVisitedTAI");
      if (pvalue->m.lastVisitedTAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x52, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_TrackingAreaIdent (pctxt, &pvalue->
            lastVisitedTAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode s1NetworkCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "s1NetworkCapability");
      if (pvalue->m.s1NetworkCapabilityPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x17, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24301IE_UENetworkCapability (pctxt, &pvalue->
            s1NetworkCapability);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode uplinkStat */

      RTXCTXTPUSHELEMNAME (pctxt, "uplinkStat");
      if (pvalue->m.uplinkStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x40, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_UplinkDataStatus (pctxt, &pvalue->uplinkStat
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode sessionStat */

      RTXCTXTPUSHELEMNAME (pctxt, "sessionStat");
      if (pvalue->m.sessionStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x50, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PDUSessionStatus (pctxt, &pvalue->sessionStat
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode micoInd */

      RTXCTXTPUSHELEMNAME (pctxt, "micoInd");
      if (pvalue->m.micoIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xb, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_MICOIndication (pctxt, &pvalue->micoInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode ueStat */

      RTXCTXTPUSHELEMNAME (pctxt, "ueStat");
      if (pvalue->m.ueStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x2b, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24301IE_UEStatus (pctxt, &pvalue->ueStat);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode addlGUTI */

      RTXCTXTPUSHELEMNAME (pctxt, "addlGUTI");
      if (pvalue->m.addlGUTIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x77, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->addlGUTI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode allowedSessionStat */

      RTXCTXTPUSHELEMNAME (pctxt, "allowedSessionStat");
      if (pvalue->m.allowedSessionStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x25, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_AllowedPDUSessionStatus (pctxt, &pvalue->
            allowedSessionStat);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode ueUsage */

      RTXCTXTPUSHELEMNAME (pctxt, "ueUsage");
      if (pvalue->m.ueUsagePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x18, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_UEUsageSetting (pctxt, &pvalue->ueUsage);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode reqDrxParams */

      RTXCTXTPUSHELEMNAME (pctxt, "reqDrxParams");
      if (pvalue->m.reqDrxParamsPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x51, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_DRXParams (pctxt, &pvalue->reqDrxParams);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode epsContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "epsContainer");
      if (pvalue->m.epsContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x70, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_EPSMessageContainer (pctxt, &pvalue->
            epsContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode ladnInd */

      RTXCTXTPUSHELEMNAME (pctxt, "ladnInd");
      if (pvalue->m.ladnIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x74, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_LADNIndication (pctxt, &pvalue->ladnInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode containerType */

      RTXCTXTPUSHELEMNAME (pctxt, "containerType");
      if (pvalue->m.containerTypePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x8, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PayloadContainerType (pctxt, pvalue->
            containerType);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode container */

      RTXCTXTPUSHELEMNAME (pctxt, "container");
      if (pvalue->m.containerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x7b, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* Encode choice data value */

         switch (pvalue->containerType)
         {
            /* uePolicy */
            case 5:
               RTXCTXTPUSHELEMNAME (pctxt, "uePolicy");

               ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
                  u.uePolicy);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPELEMNAME (pctxt);
               break;

            default:
               return LOG_RTERR (pctxt, RTERR_INVOPT);
         }
      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode netSliceInd */

      RTXCTXTPUSHELEMNAME (pctxt, "netSliceInd");
      if (pvalue->m.netSliceIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x9, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NetSliceIndication (pctxt, &pvalue->
            netSliceInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode updateType */

      RTXCTXTPUSHELEMNAME (pctxt, "updateType");
      if (pvalue->m.updateTypePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x53, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_UpdateType (pctxt, &pvalue->updateType);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode nasContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "nasContainer");
      if (pvalue->m.nasContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x71, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NASMessageContainer2 (pctxt, &pvalue->
            nasContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode epsBearerStat */

      RTXCTXTPUSHELEMNAME (pctxt, "epsBearerStat");
      if (pvalue->m.epsBearerStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x60, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24301IE_EPSBearerContextStatus (pctxt, &pvalue->
            epsBearerStat);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v16ExtPresent) {
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode mobileStationClassmark2 */

         RTXCTXTPUSHELEMNAME (pctxt, "mobileStationClassmark2");
         if (pvalue->m.mobileStationClassmark2Present) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x41, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_MobileStationClassmark2 (pctxt, &pvalue->
               mobileStationClassmark2);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode supportedCodecs */

         RTXCTXTPUSHELEMNAME (pctxt, "supportedCodecs");
         if (pvalue->m.supportedCodecsPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x42, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_SupportedCodecList (pctxt, &pvalue->
               supportedCodecs);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode reqDRXParams */

         RTXCTXTPUSHELEMNAME (pctxt, "reqDRXParams");
         if (pvalue->m.reqDRXParamsPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x6e, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_ExtDRXParams (pctxt, &pvalue->reqDRXParams
               );
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode t3324 */

         RTXCTXTPUSHELEMNAME (pctxt, "t3324");
         if (pvalue->m.t3324Present) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x6a, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3324);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode ueRadioCapabilityId */

         RTXCTXTPUSHELEMNAME (pctxt, "ueRadioCapabilityId");
         if (pvalue->m.ueRadioCapabilityIdPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x67, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24301IE_UERadioCapId (pctxt, &pvalue->
               ueRadioCapabilityId);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode reqMappedNSSAI */

         RTXCTXTPUSHELEMNAME (pctxt, "reqMappedNSSAI");
         if (pvalue->m.reqMappedNSSAIPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x35, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24501Msg_MappedNSSAI (pctxt, &pvalue->reqMappedNSSAI
               );
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode addlInfoRequested */

         RTXCTXTPUSHELEMNAME (pctxt, "addlInfoRequested");
         if (pvalue->m.addlInfoRequestedPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x48, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24501Msg_AdditionalInfoRequested (pctxt, &pvalue->
               addlInfoRequested);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegistrationResult (OSCTXT* pctxt
   , TS24501Msg_RegistrationResult* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationResult");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emergencyRegistered */

   RTXCTXTPUSHELEMNAME (pctxt, "emergencyRegistered");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->emergencyRegistered);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nssaa */

   RTXCTXTPUSHELEMNAME (pctxt, "nssaa");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nssaa);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode smsAllowed */

   RTXCTXTPUSHELEMNAME (pctxt, "smsAllowed");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->smsAllowed);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode regResult */

   RTXCTXTPUSHELEMNAME (pctxt, "regResult");

   ret = NASEnc_TS24501Msg_RegistrationResultValue (pctxt, pvalue->regResult);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PartialTrkAreaIdent0 (OSCTXT* pctxt
   , TS24501Msg_PartialTrkAreaIdent0* pvalue)
{
   int ret = 0;

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tacs */

   RTXCTXTPUSHELEMNAME (pctxt, "tacs");
   {
      OSUINT8 i;
      if (!((pvalue->tacs.n >= 1 && pvalue->tacs.n <= 32))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->tacs.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->tacs.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_TrackingAreaCode (pctxt, &pvalue->tacs.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PartialTrkAreaIdent1 (OSCTXT* pctxt
   , TS24501Msg_PartialTrkAreaIdent1* pvalue)
{
   int ret = 0;

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tac */

   RTXCTXTPUSHELEMNAME (pctxt, "tac");

   ret = NASEnc_TS24501Msg_TrackingAreaCode (pctxt, &pvalue->tac);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PartialTrkAreaIdent2 (OSCTXT* pctxt
   , TS24501Msg_PartialTrkAreaIdent2* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   if (!((pvalue->n >= 1 && pvalue->n <= 32))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->n);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   for (i = 0; i < pvalue->n; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

      ret = NASEnc_TS24501Msg_TrackingAreaIdent (pctxt, &pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_TrackingAreaIdentListItem (OSCTXT* pctxt
   , TS24501Msg_TrackingAreaIdentListItem* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaIdentListItem");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfList */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfList");
   if (!(pvalue->typeOfList <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->typeOfList);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->typeOfList, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numElements */

   RTXCTXTPUSHELEMNAME (pctxt, "numElements");
   if (!(pvalue->numElements <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numElements);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numElements, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode elements */

   RTXCTXTPUSHELEMNAME (pctxt, "elements");
   /* Encode choice data value */

   switch (pvalue->typeOfList)
   {
      /* partTrkIdentList0 */
      case 0:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList0");

         ret = NASEnc_TS24501Msg_PartialTrkAreaIdent0 (pctxt, &pvalue->elements
            .u.partTrkIdentList0);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* partTrkIdentList1 */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList1");

         ret = NASEnc_TS24501Msg_PartialTrkAreaIdent1 (pctxt, &pvalue->elements
            .u.partTrkIdentList1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* partTrkIdentList2 */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList2");

         ret = NASEnc_TS24501Msg_PartialTrkAreaIdent2 (pctxt, &pvalue->elements
            .u.partTrkIdentList2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* partTrkIdentList3 */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList3");

         ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->elements.
            u.partTrkIdentList3);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_TrackingAreaIdentList (OSCTXT* pctxt
   , TS24501Msg_TrackingAreaIdentList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaIdentList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode idents */

   RTXCTXTPUSHELEMNAME (pctxt, "idents");
   {
      OSUINT8 i;
      if (!((pvalue->idents.n >= 1 && pvalue->idents.n <= 16))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->idents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->idents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_TrackingAreaIdentListItem (pctxt, &pvalue->
            idents.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24501MsgEnc_RejectedNSSAI.c */

EXTERN int NASEnc_TS24501Msg_RejectedNSSAI (OSCTXT* pctxt,
   TS24501Msg_RejectedNSSAI* pvalue)
{
   int ret = 0;
   OSSIZE startIndex;

   RTXCTXTPUSHTYPENAME (pctxt, "RejectedNSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_RejectedNSSAI_cause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sst */

   RTXCTXTPUSHELEMNAME (pctxt, "sst");

   ret = NASEnc_TS24501Msg_SST (pctxt, pvalue->sst);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sd */

   RTXCTXTPUSHELEMNAME (pctxt, "sd");
   if (pvalue->m.sdPresent) {

      ret = NASEnc_TS24501Msg_SD (pctxt, pvalue->sd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (rtxCtxtTestFlag(pctxt, OSCONTCLOSED)) {
      if (!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else {
      rtxByteAlign (pctxt);
   }

   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 4);
      ret = rtxMergeBits (pctxt, pvalue->length, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   if (!((pvalue->length >= 1 && pvalue->length <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}


/* end custom source file TS24501MsgEnc_RejectedNSSAI.c */

EXTERN int NASEnc_TS24501Msg_RejectedNSSAIList (OSCTXT* pctxt
   , TS24501Msg_RejectedNSSAIList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RejectedNSSAIList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rejectedNSSAI */

   RTXCTXTPUSHELEMNAME (pctxt, "rejectedNSSAI");
   {
      OSUINT8 i;
      if (!((pvalue->rejectedNSSAI.n >= 1 && pvalue->rejectedNSSAI.n <= 8))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->rejectedNSSAI.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->rejectedNSSAI.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_RejectedNSSAI (pctxt, &pvalue->rejectedNSSAI.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NetworkFeatureSupport_octet4 (OSCTXT* pctxt
   , TS24501Msg_NetworkFeatureSupport_octet4* pvalue)
{
   int ret = 0;

   /* encode lcs */

   RTXCTXTPUSHELEMNAME (pctxt, "lcs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lcs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode upCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "upCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->upCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hcCpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "hcCpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->hcCpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode n3Data */

   RTXCTXTPUSHELEMNAME (pctxt, "n3Data");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->n3Data);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "cpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode restrictedEC */

   RTXCTXTPUSHELEMNAME (pctxt, "restrictedEC");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->restrictedEC);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mcsi */

   RTXCTXTPUSHELEMNAME (pctxt, "mcsi");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mcsi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emcn3 */

   RTXCTXTPUSHELEMNAME (pctxt, "emcn3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->emcn3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NetworkFeatureSupport (OSCTXT* pctxt
   , TS24501Msg_NetworkFeatureSupport* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetworkFeatureSupport");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mpsInd */

   RTXCTXTPUSHELEMNAME (pctxt, "mpsInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mpsInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode withoutN26Ind */

   RTXCTXTPUSHELEMNAME (pctxt, "withoutN26Ind");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->withoutN26Ind);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emfInd */

   RTXCTXTPUSHELEMNAME (pctxt, "emfInd");
   if (!(pvalue->emfInd <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->emfInd);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->emfInd, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emcInd */

   RTXCTXTPUSHELEMNAME (pctxt, "emcInd");
   if (!(pvalue->emcInd <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->emcInd);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->emcInd, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode imsVoPSInd */

   RTXCTXTPUSHELEMNAME (pctxt, "imsVoPSInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->imsVoPSInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode imsVoPS3GInd */

   RTXCTXTPUSHELEMNAME (pctxt, "imsVoPS3GInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->imsVoPS3GInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {

      ret = NASEnc_TS24501Msg_NetworkFeatureSupport_octet4 (pctxt, &pvalue->
         octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ReactivateCause (OSCTXT* pctxt
   , TS24501Msg_ReactivateCause* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReactivateCause");

   /* encode sessionId */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->sessionId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SessionReactivateCause (OSCTXT* pctxt
   , TS24501Msg_SessionReactivateCause* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionReactivateCause");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reactivateCause */

   RTXCTXTPUSHELEMNAME (pctxt, "reactivateCause");
   {
      OSUINT8 i;
      if (!(pvalue->reactivateCause.n >= 1)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->reactivateCause.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->reactivateCause.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_ReactivateCause (pctxt, &pvalue->
            reactivateCause.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 1 && pvalue->length <= 512))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_LADN (OSCTXT* pctxt, TS24501Msg_LADN* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LADN");

   /* encode dnn */

   RTXCTXTPUSHELEMNAME (pctxt, "dnn");

   ret = NASEnc_TS24501Msg_DNNList (pctxt, pvalue->dnn);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tai */

   RTXCTXTPUSHELEMNAME (pctxt, "taiList");

   //ret = NASEnc_TS24501Msg_TrackingAreaIdent (pctxt, &pvalue->tai);
   ret = NASEnc_TS24501Msg_TrackingAreaIdentList (pctxt, &pvalue->tai);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_LADNList (OSCTXT* pctxt
   , TS24501Msg_LADNList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LADNList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      if (!(pvalue->contents.n <= 8)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_LADN (pctxt, &pvalue->contents.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 1 && pvalue->length <= 1715))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PLMNTechList (OSCTXT* pctxt
   , TS24501Msg_PLMNTechList* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PLMNTechList");

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->id, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode techId */

   RTXCTXTPUSHELEMNAME (pctxt, "techId");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->techId, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SORSteering (OSCTXT* pctxt
   , TS24501Msg_SORSteering* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SORSteering");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ack */

   RTXCTXTPUSHELEMNAME (pctxt, "ack");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ack);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode listType */

   RTXCTXTPUSHELEMNAME (pctxt, "listType");
   if (!(pvalue->listType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->listType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->listType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode listInd */

   RTXCTXTPUSHELEMNAME (pctxt, "listInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->listInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sorMAC */

   RTXCTXTPUSHELEMNAME (pctxt, "sorMAC");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->sorMAC, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode counter */

   RTXCTXTPUSHELEMNAME (pctxt, "counter");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->counter, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode content */

   RTXCTXTPUSHELEMNAME (pctxt, "content");
   if (pvalue->m.contentPresent) {
      /* Encode choice data value */

      switch (pvalue->listType)
      {
         /* securedPacket */
         case 0:
            RTXCTXTPUSHELEMNAME (pctxt, "securedPacket");

            RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

            ret = rtxEncBitsFromByteArray (pctxt, pvalue->content.u.securedPacket.data, pvalue->content.u.securedPacket.numocts * 8);

            RTDIAG_SETBITFLDCOUNT (pctxt);
            rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* plmnAccess */
         case 1:
            RTXCTXTPUSHELEMNAME (pctxt, "plmnAccess");

            {
               OSUINT8 i;
               for (i = 0; i < pvalue->content.u.plmnAccess.n; i++) {
                  RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

                  ret = NASEnc_TS24501Msg_PLMNTechList (pctxt, &pvalue->content
                     .u.plmnAccess.elem[i]);
                  if (ret < 0) return LOG_RTERR (pctxt, ret);

                  RTXCTXTPOPARRAYELEMNAME (pctxt);
               }
            }
            rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         default:
            return LOG_RTERR (pctxt, RTERR_INVOPT);
      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SORAck (OSCTXT* pctxt, TS24501Msg_SORAck* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SORAck");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sorMAC */

   RTXCTXTPUSHELEMNAME (pctxt, "sorMAC");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->sorMAC, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SORTransparentContainer_steeringOrAck (OSCTXT* pctxt
   , TS24501Msg_SORTransparentContainer_steeringOrAck* pvalue)
{
   int ret = 0;

   /* Encode choice selector */

   RTDIAG_NEWBITFIELD (pctxt, "choice selector");

   ret = rtxEncBits (pctxt, pvalue->t - 1, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   /* Encode choice data value */

   switch (pvalue->t)
   {
      /* steering */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "steering");

         ret = NASEnc_TS24501Msg_SORSteering (pctxt, &pvalue->u.steering);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ack */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "ack");

         ret = NASEnc_TS24501Msg_SORAck (pctxt, &pvalue->u.ack);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }

   return (ret);
}

/* begin custom source file TS24501MsgEnc_SORTransparentContainer.c */

/* Start custom code.
Handle first octet holding data for some of the cases, and use of nested
choice type.
*/
EXTERN int NASEnc_TS24501Msg_SORTransparentContainer (OSCTXT* pctxt,
   TS24501Msg_SORTransparentContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SORTransparentContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);
   
   /* encode steeringOrAck */
   RTXCTXTPUSHELEMNAME (pctxt, "steeringOrAck");
   
   if (pvalue->steeringOrAck.t == T_SORTransparentContainer_steeringOrAck_steering)
   {
      ret = NASEnc_TS24501Msg_SORSteering (pctxt, &pvalue->steeringOrAck.u.steering);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else if (pvalue->steeringOrAck.t == T_SORTransparentContainer_steeringOrAck_ack)
   {
      ret = NASEnc_TS24501Msg_SORAck (pctxt, &pvalue->steeringOrAck.u.ack);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else return LOG_RTERR (pctxt, RTERR_INVOPT);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* End custom code */

/* end custom source file TS24501MsgEnc_SORTransparentContainer.c */

EXTERN int NASEnc_TS24501Msg_NSSAIInclusionMode (OSCTXT* pctxt
   , TS24501Msg_NSSAIInclusionMode* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NSSAIInclusionMode");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode inclusionMode */

   RTXCTXTPUSHELEMNAME (pctxt, "inclusionMode");

   ret = NASEnc_TS24501Msg_NSSAIInclusionMode_inclusionMode (pctxt, pvalue->
      inclusionMode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AccessCategoryDefinition (OSCTXT* pctxt
   , TS24501Msg_AccessCategoryDefinition* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessCategoryDefinition");

   /* encode precedence */

   RTXCTXTPUSHELEMNAME (pctxt, "precedence");
   if (!(pvalue->precedence >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->precedence);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->precedence, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psac */

   RTXCTXTPUSHELEMNAME (pctxt, "psac");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->psac);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode categoryNum */

   RTXCTXTPUSHELEMNAME (pctxt, "categoryNum");
   if (!(pvalue->categoryNum <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->categoryNum);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->categoryNum, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode criteria */

   RTXCTXTPUSHELEMNAME (pctxt, "criteria");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->criteria.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncUInt32 (pctxt, pvalue->criteria.elem[i].numocts, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->criteria.elem[i].data, pvalue->criteria.elem[i].numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare2, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode accessCategory */

   RTXCTXTPUSHELEMNAME (pctxt, "accessCategory");
   if (!(pvalue->accessCategory <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->accessCategory);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->accessCategory, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AccessCategoryDefinitions (OSCTXT* pctxt
   , TS24501Msg_AccessCategoryDefinitions* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessCategoryDefinitions");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   if (pvalue->m.contentsPresent) {
      {
         OSUINT8 i;
         for (i = 0; i < pvalue->contents.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501Msg_AccessCategoryDefinition (pctxt, &pvalue->
               contents.elem[i]);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CipherDataSet_eutraPosSIBType (OSCTXT* pctxt
   , TS24501Msg_CipherDataSet_eutraPosSIBType* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 32; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CipherDataSet_nrPosSIBType (OSCTXT* pctxt
   , TS24501Msg_CipherDataSet_nrPosSIBType* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 34; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CipherDataSet (OSCTXT* pctxt
   , TS24501Msg_CipherDataSet* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CipherDataSet");

   /* encode cipherKey */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherKey");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->cipherKey, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode c0Len */

   RTXCTXTPUSHELEMNAME (pctxt, "c0Len");
   if (!(pvalue->c0Len <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->c0Len);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->c0Len, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode c0 */

   RTXCTXTPUSHELEMNAME (pctxt, "c0");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->c0.data, pvalue->c0.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare2, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eutraPosSIBLen */

   RTXCTXTPUSHELEMNAME (pctxt, "eutraPosSIBLen");
   if (!(pvalue->eutraPosSIBLen <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->eutraPosSIBLen);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->eutraPosSIBLen, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eutraPosSIBType */

   RTXCTXTPUSHELEMNAME (pctxt, "eutraPosSIBType");

   ret = NASEnc_TS24501Msg_CipherDataSet_eutraPosSIBType (pctxt, &pvalue->
      eutraPosSIBType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   if (!(pvalue->spare3 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare3);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare3, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nrPosSIBLen */

   RTXCTXTPUSHELEMNAME (pctxt, "nrPosSIBLen");
   if (!(pvalue->nrPosSIBLen <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nrPosSIBLen);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nrPosSIBLen, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nrPosSIBType */

   RTXCTXTPUSHELEMNAME (pctxt, "nrPosSIBType");

   ret = NASEnc_TS24501Msg_CipherDataSet_nrPosSIBType (pctxt, &pvalue->
      nrPosSIBType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare4 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare4");
   if (!(pvalue->spare4 <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare4);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare4, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode validityStartTime */

   RTXCTXTPUSHELEMNAME (pctxt, "validityStartTime");

   ret = NASEnc_TS24008IE_TimeZoneAndTime (pctxt, &pvalue->validityStartTime);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode validityDuration */

   RTXCTXTPUSHELEMNAME (pctxt, "validityDuration");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->validityDuration, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode taiList */

   RTXCTXTPUSHELEMNAME (pctxt, "taiList");

   ret = NASEnc_TS24501Msg_TrackingAreaIdentList (pctxt, &pvalue->taiList);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CipheringKeyData (OSCTXT* pctxt
   , TS24501Msg_CipheringKeyData* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CipheringKeyData");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSet */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSet");
   {
      OSUINT8 i;
      if (!((pvalue->dataSet.n >= 1 && pvalue->dataSet.n <= 16))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->dataSet.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->dataSet.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_CipherDataSet (pctxt, &pvalue->dataSet.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegAccept (OSCTXT* pctxt
   , TS24501Msg_RegAccept* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegAccept");

   /* encode regResult */

   RTXCTXTPUSHELEMNAME (pctxt, "regResult");

   ret = NASEnc_TS24501Msg_RegistrationResult (pctxt, &pvalue->regResult);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode guti */

   RTXCTXTPUSHELEMNAME (pctxt, "guti");
   if (pvalue->m.gutiPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x77, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->guti);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode plmnList */

      RTXCTXTPUSHELEMNAME (pctxt, "plmnList");
      if (pvalue->m.plmnListPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x4a, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_PLMNList (pctxt, &pvalue->plmnList);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode taiList */

      RTXCTXTPUSHELEMNAME (pctxt, "taiList");
      if (pvalue->m.taiListPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x54, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_TrackingAreaIdentList (pctxt, &pvalue->taiList
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode allowedNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "allowedNSSAI");
      if (pvalue->m.allowedNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x15, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NSSAI (pctxt, &pvalue->allowedNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode rejectedNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "rejectedNSSAI");
      if (pvalue->m.rejectedNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x11, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_RejectedNSSAIList (pctxt, &pvalue->
            rejectedNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode configuredNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "configuredNSSAI");
      if (pvalue->m.configuredNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x31, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NSSAI (pctxt, &pvalue->configuredNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode netSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "netSupport");
      if (pvalue->m.netSupportPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x21, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NetworkFeatureSupport (pctxt, &pvalue->
            netSupport);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode sessionStat */

      RTXCTXTPUSHELEMNAME (pctxt, "sessionStat");
      if (pvalue->m.sessionStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x50, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PDUSessionStatus (pctxt, &pvalue->sessionStat
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode reactivateRslt */

      RTXCTXTPUSHELEMNAME (pctxt, "reactivateRslt");
      if (pvalue->m.reactivateRsltPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x26, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_SessionReactivateRslt (pctxt, &pvalue->
            reactivateRslt);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode reactivateRsltCause */

      RTXCTXTPUSHELEMNAME (pctxt, "reactivateRsltCause");
      if (pvalue->m.reactivateRsltCausePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x72, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_SessionReactivateCause (pctxt, &pvalue->
            reactivateRsltCause);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode ladn */

      RTXCTXTPUSHELEMNAME (pctxt, "ladn");
      if (pvalue->m.ladnPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x79, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_LADNList (pctxt, &pvalue->ladn);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode micoInd */

      RTXCTXTPUSHELEMNAME (pctxt, "micoInd");
      if (pvalue->m.micoIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xb, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_MICOIndication (pctxt, &pvalue->micoInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode netSliceInd */

      RTXCTXTPUSHELEMNAME (pctxt, "netSliceInd");
      if (pvalue->m.netSliceIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x9, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NetSliceIndication (pctxt, &pvalue->
            netSliceInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode svcAreaList */

      RTXCTXTPUSHELEMNAME (pctxt, "svcAreaList");
      if (pvalue->m.svcAreaListPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x27, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_TrackingAreaIdentList (pctxt, &pvalue->
            svcAreaList);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode t3512 */

      RTXCTXTPUSHELEMNAME (pctxt, "t3512");
      if (pvalue->m.t3512Present) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x5e, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3512);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode non3GPPDeregTimer */

      RTXCTXTPUSHELEMNAME (pctxt, "non3GPPDeregTimer");
      if (pvalue->m.non3GPPDeregTimerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x5d, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_GPRSTimer2 (pctxt, &pvalue->non3GPPDeregTimer
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode t3502 */

      RTXCTXTPUSHELEMNAME (pctxt, "t3502");
      if (pvalue->m.t3502Present) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x16, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_GPRSTimer2 (pctxt, &pvalue->t3502);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode emergencyNumList */

      RTXCTXTPUSHELEMNAME (pctxt, "emergencyNumList");
      if (pvalue->m.emergencyNumListPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x34, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_EmergencyNumberList (pctxt, &pvalue->
            emergencyNumList);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode extEmergencyNumList */

      RTXCTXTPUSHELEMNAME (pctxt, "extEmergencyNumList");
      if (pvalue->m.extEmergencyNumListPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x7a, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24301IE_ExtEmergencyNumberList (pctxt, &pvalue->
            extEmergencyNumList);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode transparentContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "transparentContainer");
      if (pvalue->m.transparentContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x73, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_SORTransparentContainer (pctxt, &pvalue->
            transparentContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode eapMessage */

      RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
      if (pvalue->m.eapMessagePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x78, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode inclusionMode */

      RTXCTXTPUSHELEMNAME (pctxt, "inclusionMode");
      if (pvalue->m.inclusionModePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xa, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NSSAIInclusionMode (pctxt, &pvalue->
            inclusionMode);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode accessDefs */

      RTXCTXTPUSHELEMNAME (pctxt, "accessDefs");
      if (pvalue->m.accessDefsPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x76, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_AccessCategoryDefinitions (pctxt, &pvalue->
            accessDefs);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode negotiatedDrxParams */

      RTXCTXTPUSHELEMNAME (pctxt, "negotiatedDrxParams");
      if (pvalue->m.negotiatedDrxParamsPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x51, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_DRXParams (pctxt, &pvalue->negotiatedDrxParams
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode non3GPPNWPolicies */

      RTXCTXTPUSHELEMNAME (pctxt, "non3GPPNWPolicies");
      if (pvalue->m.non3GPPNWPoliciesPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xd, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_Non3GPPNetPolicies (pctxt, &pvalue->
            non3GPPNWPolicies);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode epsBearerStat */

      RTXCTXTPUSHELEMNAME (pctxt, "epsBearerStat");
      if (pvalue->m.epsBearerStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x60, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24301IE_EPSBearerContextStatus (pctxt, &pvalue->
            epsBearerStat);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v16ExtPresent) {
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode negotiatedExtDrxParams */

         RTXCTXTPUSHELEMNAME (pctxt, "negotiatedExtDrxParams");
         if (pvalue->m.negotiatedExtDrxParamsPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x6e, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_ExtDRXParams (pctxt, &pvalue->
               negotiatedExtDrxParams);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode t3447 */

         RTXCTXTPUSHELEMNAME (pctxt, "t3447");
         if (pvalue->m.t3447Present) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x6c, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3447);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode t3448 */

         RTXCTXTPUSHELEMNAME (pctxt, "t3448");
         if (pvalue->m.t3448Present) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x6b, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3448);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode t3324 */

         RTXCTXTPUSHELEMNAME (pctxt, "t3324");
         if (pvalue->m.t3324Present) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x6a, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3324);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode ueRadioCapabilityId */

         RTXCTXTPUSHELEMNAME (pctxt, "ueRadioCapabilityId");
         if (pvalue->m.ueRadioCapabilityIdPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x67, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24301IE_UERadioCapId (pctxt, &pvalue->
               ueRadioCapabilityId);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode ueRadioCapIdDeletionIndication */

         RTXCTXTPUSHELEMNAME (pctxt, "ueRadioCapIdDeletionIndication");
         if (pvalue->m.ueRadioCapIdDeletionIndicationPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x68, 4);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24301IE_UERadioCapIdDeletionInd (pctxt, &pvalue->
               ueRadioCapIdDeletionIndication);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode pendingNSSAI */

         RTXCTXTPUSHELEMNAME (pctxt, "pendingNSSAI");
         if (pvalue->m.pendingNSSAIPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x39, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24501Msg_NSSAI (pctxt, &pvalue->pendingNSSAI);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode cipherKeyData */

         RTXCTXTPUSHELEMNAME (pctxt, "cipherKeyData");
         if (pvalue->m.cipherKeyDataPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x74, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24501Msg_CipheringKeyData (pctxt, &pvalue->
               cipherKeyData);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegComplete (OSCTXT* pctxt
   , TS24501Msg_RegComplete* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegComplete");

   /* encode transparentContainer */

   RTXCTXTPUSHELEMNAME (pctxt, "transparentContainer");
   if (pvalue->m.transparentContainerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x73, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SORTransparentContainer (pctxt, &pvalue->
         transparentContainer);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RegReject (OSCTXT* pctxt
   , TS24501Msg_RegReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegReject");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode t3346 */

   RTXCTXTPUSHELEMNAME (pctxt, "t3346");
   if (pvalue->m.t3346Present) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x5f, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer2 (pctxt, &pvalue->t3346);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode t3502 */

   RTXCTXTPUSHELEMNAME (pctxt, "t3502");
   if (pvalue->m.t3502Present) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x16, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer2 (pctxt, &pvalue->t3502);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode rejectedNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "rejectedNSSAI");
      if (pvalue->m.rejectedNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x69, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_RejectedNSSAIList (pctxt, &pvalue->
            rejectedNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_OptionalIE (OSCTXT* pctxt
   , TS24501Msg_OptionalIE* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "OptionalIE");

   /* encode type */

   RTXCTXTPUSHELEMNAME (pctxt, "type");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->type, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.data, pvalue->value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PayloadContainerEntry (OSCTXT* pctxt
   , TS24501Msg_PayloadContainerEntry* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PayloadContainerEntry");

   /* encode entryLength */

   RTXCTXTPUSHELEMNAME (pctxt, "entryLength");
   if (!(pvalue->entryLength >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->entryLength);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->entryLength, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numOptIEs */

   RTXCTXTPUSHELEMNAME (pctxt, "numOptIEs");
   if (!((pvalue->numOptIEs >= 1 && pvalue->numOptIEs <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numOptIEs);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numOptIEs, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode type */

   RTXCTXTPUSHELEMNAME (pctxt, "type");

   ret = NASEnc_TS24501Msg_PayloadContainerType (pctxt, pvalue->type);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode optionalIEs */

   RTXCTXTPUSHELEMNAME (pctxt, "optionalIEs");
   {
      OSUINT8 i;
      if (!((pvalue->optionalIEs.n >= 1 && pvalue->optionalIEs.n <= 15))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->optionalIEs.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->optionalIEs.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_OptionalIE (pctxt, &pvalue->optionalIEs.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->contents.numocts <= 65535)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->contents.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PayloadContainerContents (OSCTXT* pctxt
   , TS24501Msg_PayloadContainerContents* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PayloadContainerContents");

   /* encode numEntries */

   RTXCTXTPUSHELEMNAME (pctxt, "numEntries");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->numEntries, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode entries */

   RTXCTXTPUSHELEMNAME (pctxt, "entries");
   {
      OSUINT8 i;
      if (!(TRUE)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->entries.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->entries.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_PayloadContainerEntry (pctxt, &pvalue->entries
            .elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MultiPayloadContainer (OSCTXT* pctxt
   , TS24501Msg_MultiPayloadContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MultiPayloadContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");

   ret = NASEnc_TS24501Msg_PayloadContainerContents (pctxt, &pvalue->contents
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_RequestType (OSCTXT* pctxt
   , TS24501Msg_RequestType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RequestType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reqType */

   RTXCTXTPUSHELEMNAME (pctxt, "reqType");

   ret = NASEnc_TS24501Msg_RequestTypes (pctxt, pvalue->reqType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ULNASTrans (OSCTXT* pctxt
   , TS24501Msg_ULNASTrans* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ULNASTrans");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode containerType */

   RTXCTXTPUSHELEMNAME (pctxt, "containerType");

   ret = NASEnc_TS24501Msg_PayloadContainerType (pctxt, pvalue->containerType
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode container */

   RTXCTXTPUSHELEMNAME (pctxt, "container");
   /* Encode choice data value */

   switch (pvalue->containerType)
   {
      /* n1sm */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "n1sm");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.n1sm
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* sms */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "sms");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.sms);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* lpp */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "lpp");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.lpp);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* sor */
      case 4:
         RTXCTXTPUSHELEMNAME (pctxt, "sor");

         ret = NASEnc_TS24501Msg_SORAck (pctxt, &pvalue->container.u.sor);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* uePolicy */
      case 5:
         RTXCTXTPUSHELEMNAME (pctxt, "uePolicy");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
            u.uePolicy);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ueParamUpdate */
      case 6:
         RTXCTXTPUSHELEMNAME (pctxt, "ueParamUpdate");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
            u.ueParamUpdate);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* locSvcs */
      case 7:
         RTXCTXTPUSHELEMNAME (pctxt, "locSvcs");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
            u.locSvcs);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* cIOTUserData */
      case 8:
         RTXCTXTPUSHELEMNAME (pctxt, "cIOTUserData");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
            u.cIOTUserData);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* multiple */
      case 15:
         RTXCTXTPUSHELEMNAME (pctxt, "multiple");

         ret = NASEnc_TS24501Msg_MultiPayloadContainer (pctxt, &pvalue->
            container.u.multiple);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pduSessionId */

   RTXCTXTPUSHELEMNAME (pctxt, "pduSessionId");
   if (pvalue->m.pduSessionIdPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x12, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionId2 (pctxt, pvalue->pduSessionId);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode oldPduSessionId */

   RTXCTXTPUSHELEMNAME (pctxt, "oldPduSessionId");
   if (pvalue->m.oldPduSessionIdPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x59, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionId2 (pctxt, pvalue->oldPduSessionId);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode requestType */

   RTXCTXTPUSHELEMNAME (pctxt, "requestType");
   if (pvalue->m.requestTypePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x8, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_RequestType (pctxt, &pvalue->requestType);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode snssai */

   RTXCTXTPUSHELEMNAME (pctxt, "snssai");
   if (pvalue->m.snssaiPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x22, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SNSSAI (pctxt, &pvalue->snssai);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dnn */

   RTXCTXTPUSHELEMNAME (pctxt, "dnn");
   if (pvalue->m.dnnPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x25, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_DNNList (pctxt, pvalue->dnn);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addlInfo */

   RTXCTXTPUSHELEMNAME (pctxt, "addlInfo");
   if (pvalue->m.addlInfoPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x24, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_AdditionalInfo (pctxt, pvalue->addlInfo);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode maPduSessionInfo */

      RTXCTXTPUSHELEMNAME (pctxt, "maPduSessionInfo");
      if (pvalue->m.maPduSessionInfoPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xa, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         if (!(pvalue->maPduSessionInfo <= 15)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->maPduSessionInfo);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->maPduSessionInfo, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode relAssistInd */

      RTXCTXTPUSHELEMNAME (pctxt, "relAssistInd");
      if (pvalue->m.relAssistIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xf, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24301IE_ReleaseAssistInd (pctxt, &pvalue->relAssistInd
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UEParamUpdateDataSet (OSCTXT* pctxt
   , TS24501Msg_UEParamUpdateDataSet* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdateDataSet");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSetType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSetType");
   if (!(pvalue->dataSetType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataSetType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataSetType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSetLen */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSetLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->dataSetLen, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSet */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSet");
   /* Encode choice data value */

   switch (pvalue->dataSetType)
   {
      /* securedPacket */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "securedPacket");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->dataSet.u.securedPacket.data, pvalue->dataSet.u.securedPacket.numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* defCfgNSSAI */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "defCfgNSSAI");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->dataSet.u.defCfgNSSAI.data, pvalue->dataSet.u.defCfgNSSAI.numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UEParamUpdate (OSCTXT* pctxt
   , TS24501Msg_UEParamUpdate* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdate");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reg */

   RTXCTXTPUSHELEMNAME (pctxt, "reg");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->reg);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ack */

   RTXCTXTPUSHELEMNAME (pctxt, "ack");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ack);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mac */

   RTXCTXTPUSHELEMNAME (pctxt, "mac");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mac, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode counter */

   RTXCTXTPUSHELEMNAME (pctxt, "counter");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->counter, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode updateList */

   RTXCTXTPUSHELEMNAME (pctxt, "updateList");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->updateList.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_UEParamUpdateDataSet (pctxt, &pvalue->
            updateList.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DLNASTrans (OSCTXT* pctxt
   , TS24501Msg_DLNASTrans* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DLNASTrans");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode containerType */

   RTXCTXTPUSHELEMNAME (pctxt, "containerType");

   ret = NASEnc_TS24501Msg_PayloadContainerType (pctxt, pvalue->containerType
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode container */

   RTXCTXTPUSHELEMNAME (pctxt, "container");
   /* Encode choice data value */

   switch (pvalue->containerType)
   {
      /* n1sm */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "n1sm");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.n1sm
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* sms */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "sms");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.sms);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* lpp */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "lpp");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.lpp);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* sor */
      case 4:
         RTXCTXTPUSHELEMNAME (pctxt, "sor");

         ret = NASEnc_TS24501Msg_SORSteering (pctxt, &pvalue->container.u.sor
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* uePolicy */
      case 5:
         RTXCTXTPUSHELEMNAME (pctxt, "uePolicy");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
            u.uePolicy);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ueParamUpdate */
      case 6:
         RTXCTXTPUSHELEMNAME (pctxt, "ueParamUpdate");

         ret = NASEnc_TS24501Msg_UEParamUpdate (pctxt, &pvalue->container.
            u.ueParamUpdate);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* locSvcs */
      case 7:
         RTXCTXTPUSHELEMNAME (pctxt, "locSvcs");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
            u.locSvcs);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* cIOTUserData */
      case 8:
         RTXCTXTPUSHELEMNAME (pctxt, "cIOTUserData");

         ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
            u.cIOTUserData);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* multiple */
      case 15:
         RTXCTXTPUSHELEMNAME (pctxt, "multiple");

         ret = NASEnc_TS24501Msg_MultiPayloadContainer (pctxt, &pvalue->
            container.u.multiple);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode pduSessionId */

      RTXCTXTPUSHELEMNAME (pctxt, "pduSessionId");
      if (pvalue->m.pduSessionIdPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x12, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PDUSessionId2 (pctxt, pvalue->pduSessionId);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode addlInfo */

      RTXCTXTPUSHELEMNAME (pctxt, "addlInfo");
      if (pvalue->m.addlInfoPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x24, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_AdditionalInfo (pctxt, pvalue->addlInfo);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode cause */

      RTXCTXTPUSHELEMNAME (pctxt, "cause");
      if (pvalue->m.causePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x58, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode backoffTimer */

      RTXCTXTPUSHELEMNAME (pctxt, "backoffTimer");
      if (pvalue->m.backoffTimerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x37, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->backoffTimer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DeregistrationType (OSCTXT* pctxt
   , TS24501Msg_DeregistrationType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DeregistrationType");

   /* encode switchOff */

   RTXCTXTPUSHELEMNAME (pctxt, "switchOff");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->switchOff);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reregReqd */

   RTXCTXTPUSHELEMNAME (pctxt, "reregReqd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->reregReqd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode accessType */

   RTXCTXTPUSHELEMNAME (pctxt, "accessType");
   if (!(pvalue->accessType <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->accessType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->accessType, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DeregReqUEOrig (OSCTXT* pctxt
   , TS24501Msg_DeregReqUEOrig* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DeregReqUEOrig");

   /* encode nasKeySetIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "nasKeySetIdent");

   ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->nasKeySetIdent
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode deregType */

   RTXCTXTPUSHELEMNAME (pctxt, "deregType");

   ret = NASEnc_TS24501Msg_DeregistrationType (pctxt, &pvalue->deregType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mobileId */

   RTXCTXTPUSHELEMNAME (pctxt, "mobileId");

   ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->mobileId);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DeregReqUETerm (OSCTXT* pctxt
   , TS24501Msg_DeregReqUETerm* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DeregReqUETerm");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode deregType */

   RTXCTXTPUSHELEMNAME (pctxt, "deregType");

   ret = NASEnc_TS24501Msg_DeregistrationType (pctxt, &pvalue->deregType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");
   if (pvalue->m.causePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x58, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode t3346 */

   RTXCTXTPUSHELEMNAME (pctxt, "t3346");
   if (pvalue->m.t3346Present) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x5f, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer2 (pctxt, &pvalue->t3346);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode rejectedNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "rejectedNSSAI");
      if (pvalue->m.rejectedNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x6d, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_RejectedNSSAIList (pctxt, &pvalue->
            rejectedNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ServRequest (OSCTXT* pctxt
   , TS24501Msg_ServRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ServRequest");

   /* encode serviceType */

   RTXCTXTPUSHELEMNAME (pctxt, "serviceType");

   ret = NASEnc_TS24501Msg_ServiceType (pctxt, pvalue->serviceType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nasKeySetIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "nasKeySetIdent");

   ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->nasKeySetIdent
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode stmsi */

   RTXCTXTPUSHELEMNAME (pctxt, "stmsi");

   ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->stmsi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode uplinkStat */

      RTXCTXTPUSHELEMNAME (pctxt, "uplinkStat");
      if (pvalue->m.uplinkStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x40, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_UplinkDataStatus (pctxt, &pvalue->uplinkStat
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode sessionStat */

      RTXCTXTPUSHELEMNAME (pctxt, "sessionStat");
      if (pvalue->m.sessionStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x50, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PDUSessionStatus (pctxt, &pvalue->sessionStat
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode allowedSessionStat */

      RTXCTXTPUSHELEMNAME (pctxt, "allowedSessionStat");
      if (pvalue->m.allowedSessionStatPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x25, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_AllowedPDUSessionStatus (pctxt, &pvalue->
            allowedSessionStat);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode nasContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "nasContainer");
      if (pvalue->m.nasContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x71, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NASMessageContainer2 (pctxt, &pvalue->
            nasContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ServAccept (OSCTXT* pctxt
   , TS24501Msg_ServAccept* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ServAccept");

   /* encode sessionStat */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionStat");
   if (pvalue->m.sessionStatPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x50, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionStatus (pctxt, &pvalue->sessionStat);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reactivateRslt */

   RTXCTXTPUSHELEMNAME (pctxt, "reactivateRslt");
   if (pvalue->m.reactivateRsltPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x26, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SessionReactivateRslt (pctxt, &pvalue->
         reactivateRslt);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reactivateRsltCause */

   RTXCTXTPUSHELEMNAME (pctxt, "reactivateRsltCause");
   if (pvalue->m.reactivateRsltCausePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x72, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SessionReactivateCause (pctxt, &pvalue->
         reactivateRsltCause);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode t3448 */

      RTXCTXTPUSHELEMNAME (pctxt, "t3448");
      if (pvalue->m.t3448Present) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x6b, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3448);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ServReject (OSCTXT* pctxt
   , TS24501Msg_ServReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ServReject");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionStat */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionStat");
   if (pvalue->m.sessionStatPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x50, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionStatus (pctxt, &pvalue->sessionStat);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode t3346 */

   RTXCTXTPUSHELEMNAME (pctxt, "t3346");
   if (pvalue->m.t3346Present) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x5f, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer2 (pctxt, &pvalue->t3346);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode t3448 */

      RTXCTXTPUSHELEMNAME (pctxt, "t3448");
      if (pvalue->m.t3448Present) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x6b, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3448);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ConfigUpdateIndication (OSCTXT* pctxt
   , TS24501Msg_ConfigUpdateIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ConfigUpdateIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode regRequested */

   RTXCTXTPUSHELEMNAME (pctxt, "regRequested");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->regRequested);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ack */

   RTXCTXTPUSHELEMNAME (pctxt, "ack");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ack);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMSIndication (OSCTXT* pctxt
   , TS24501Msg_SMSIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMSIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sai */

   RTXCTXTPUSHELEMNAME (pctxt, "sai");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->sai);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CAGEntry_cagID (OSCTXT* pctxt
   , TS24501Msg_CAGEntry_cagID* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < pvalue->n; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->elem[i].numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->elem[i].data, pvalue->elem[i].numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CAGEntry (OSCTXT* pctxt
   , TS24501Msg_CAGEntry* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CAGEntry");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->length, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cagOnly */

   RTXCTXTPUSHELEMNAME (pctxt, "cagOnly");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cagOnly);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cagID */

   RTXCTXTPUSHELEMNAME (pctxt, "cagID");

   ret = NASEnc_TS24501Msg_CAGEntry_cagID (pctxt, &pvalue->cagID);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CAGInfoList (OSCTXT* pctxt
   , TS24501Msg_CAGInfoList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CAGInfoList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode entries */

   RTXCTXTPUSHELEMNAME (pctxt, "entries");
   if (pvalue->m.entriesPresent) {
      {
         OSUINT8 i;
         for (i = 0; i < pvalue->entries.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501Msg_CAGEntry (pctxt, &pvalue->entries.elem[i]
               );
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CfgUpdateCmd (OSCTXT* pctxt
   , TS24501Msg_CfgUpdateCmd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CfgUpdateCmd");

   /* encode cfgUpdIndication */

   RTXCTXTPUSHELEMNAME (pctxt, "cfgUpdIndication");
   if (pvalue->m.cfgUpdIndicationPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0xd, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_ConfigUpdateIndication (pctxt, &pvalue->
         cfgUpdIndication);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode guti */

   RTXCTXTPUSHELEMNAME (pctxt, "guti");
   if (pvalue->m.gutiPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x77, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->guti);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode taiList */

      RTXCTXTPUSHELEMNAME (pctxt, "taiList");
      if (pvalue->m.taiListPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x54, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_TrackingAreaIdentList (pctxt, &pvalue->taiList
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode allowedNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "allowedNSSAI");
      if (pvalue->m.allowedNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x15, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NSSAI (pctxt, &pvalue->allowedNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode svcAreaList */

      RTXCTXTPUSHELEMNAME (pctxt, "svcAreaList");
      if (pvalue->m.svcAreaListPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x27, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_TrackingAreaIdentList (pctxt, &pvalue->
            svcAreaList);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode fullNetworkName */

      RTXCTXTPUSHELEMNAME (pctxt, "fullNetworkName");
      if (pvalue->m.fullNetworkNamePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x43, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_NetworkName (pctxt, &pvalue->fullNetworkName);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode shortNetworkName */

      RTXCTXTPUSHELEMNAME (pctxt, "shortNetworkName");
      if (pvalue->m.shortNetworkNamePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x45, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_NetworkName (pctxt, &pvalue->shortNetworkName
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode localTZ */

      RTXCTXTPUSHELEMNAME (pctxt, "localTZ");
      if (pvalue->m.localTZPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x46, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_TimeZone (pctxt, pvalue->localTZ);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode univAndLocalTZ */

      RTXCTXTPUSHELEMNAME (pctxt, "univAndLocalTZ");
      if (pvalue->m.univAndLocalTZPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x47, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_TimeZoneAndTime (pctxt, &pvalue->univAndLocalTZ
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode dst */

      RTXCTXTPUSHELEMNAME (pctxt, "dst");
      if (pvalue->m.dstPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x49, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_DaylightSavingTime (pctxt, &pvalue->dst);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode ladn */

      RTXCTXTPUSHELEMNAME (pctxt, "ladn");
      if (pvalue->m.ladnPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x79, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_LADNList (pctxt, &pvalue->ladn);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode micoInd */

      RTXCTXTPUSHELEMNAME (pctxt, "micoInd");
      if (pvalue->m.micoIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xb, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_MICOIndication (pctxt, &pvalue->micoInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode netSliceInd */

      RTXCTXTPUSHELEMNAME (pctxt, "netSliceInd");
      if (pvalue->m.netSliceIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x9, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NetSliceIndication (pctxt, &pvalue->
            netSliceInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode configuredNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "configuredNSSAI");
      if (pvalue->m.configuredNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x31, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NSSAI (pctxt, &pvalue->configuredNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode rejectedNSSAI */

      RTXCTXTPUSHELEMNAME (pctxt, "rejectedNSSAI");
      if (pvalue->m.rejectedNSSAIPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x11, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_RejectedNSSAIList (pctxt, &pvalue->
            rejectedNSSAI);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode accessDefs */

      RTXCTXTPUSHELEMNAME (pctxt, "accessDefs");
      if (pvalue->m.accessDefsPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x76, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_AccessCategoryDefinitions (pctxt, &pvalue->
            accessDefs);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode smsInd */

      RTXCTXTPUSHELEMNAME (pctxt, "smsInd");
      if (pvalue->m.smsIndPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0xf, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_SMSIndication (pctxt, &pvalue->smsInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v16ExtPresent) {
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode t3447 */

         RTXCTXTPUSHELEMNAME (pctxt, "t3447");
         if (pvalue->m.t3447Present) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x6c, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->t3447);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode cagInfoList */

         RTXCTXTPUSHELEMNAME (pctxt, "cagInfoList");
         if (pvalue->m.cagInfoListPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x75, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24501Msg_CAGInfoList (pctxt, &pvalue->cagInfoList);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode ueRadioCapabilityId */

         RTXCTXTPUSHELEMNAME (pctxt, "ueRadioCapabilityId");
         if (pvalue->m.ueRadioCapabilityIdPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x67, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24301IE_UERadioCapId (pctxt, &pvalue->
               ueRadioCapabilityId);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode ueRadioCapIdDeletionIndication */

         RTXCTXTPUSHELEMNAME (pctxt, "ueRadioCapIdDeletionIndication");
         if (pvalue->m.ueRadioCapIdDeletionIndicationPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x68, 4);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24301IE_UERadioCapIdDeletionInd (pctxt, &pvalue->
               ueRadioCapIdDeletionIndication);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode regResult */

         RTXCTXTPUSHELEMNAME (pctxt, "regResult");
         if (pvalue->m.regResultPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x44, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24501Msg_RegistrationResult (pctxt, &pvalue->
               regResult);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_IdentityType (OSCTXT* pctxt
   , TS24501Msg_IdentityType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IdentityType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfIdent");

   ret = NASEnc_TS24501Msg_TypeOfIdentity (pctxt, pvalue->typeOfIdent);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_IdentityRequest (OSCTXT* pctxt
   , TS24501Msg_IdentityRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IdentityRequest");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode identity */

   RTXCTXTPUSHELEMNAME (pctxt, "identity");

   ret = NASEnc_TS24501Msg_IdentityType (pctxt, &pvalue->identity);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_IdentityResponse (OSCTXT* pctxt
   , TS24501Msg_IdentityResponse* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IdentityResponse");

   /* encode mobileId */

   RTXCTXTPUSHELEMNAME (pctxt, "mobileId");

   ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->mobileId);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AccessType (OSCTXT* pctxt
   , TS24501Msg_AccessType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfAccess */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfAccess");

   ret = NASEnc_TS24501Msg_AccessType_typeOfAccess (pctxt, pvalue->typeOfAccess
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_Notify (OSCTXT* pctxt, TS24501Msg_Notify* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Notify");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode access */

   RTXCTXTPUSHELEMNAME (pctxt, "access");

   ret = NASEnc_TS24501Msg_AccessType (pctxt, &pvalue->access_);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NotifyResponse (OSCTXT* pctxt
   , TS24501Msg_NotifyResponse* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NotifyResponse");

   /* encode sessionStat */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionStat");
   if (pvalue->m.sessionStatPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x50, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionStatus (pctxt, &pvalue->sessionStat);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_NASSecurityAlgorithm (OSCTXT* pctxt
   , TS24501Msg_NASSecurityAlgorithm* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NASSecurityAlgorithm");

   /* encode cipherType */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherType");
   if (!(pvalue->cipherType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->cipherType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->cipherType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode protectionType */

   RTXCTXTPUSHELEMNAME (pctxt, "protectionType");
   if (!(pvalue->protectionType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->protectionType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->protectionType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AddlSecurityInfo (OSCTXT* pctxt
   , TS24501Msg_AddlSecurityInfo* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddlSecurityInfo");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rinmr */

   RTXCTXTPUSHELEMNAME (pctxt, "rinmr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->rinmr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hdp */

   RTXCTXTPUSHELEMNAME (pctxt, "hdp");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->hdp);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SecModeCmd (OSCTXT* pctxt
   , TS24501Msg_SecModeCmd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SecModeCmd");

   /* encode nasSecAlgorithm */

   RTXCTXTPUSHELEMNAME (pctxt, "nasSecAlgorithm");

   ret = NASEnc_TS24501Msg_NASSecurityAlgorithm (pctxt, &pvalue->
      nasSecAlgorithm);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nasKeySetIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "nasKeySetIdent");

   ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->nasKeySetIdent
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode replayedUECapabilities */

   RTXCTXTPUSHELEMNAME (pctxt, "replayedUECapabilities");

   ret = NASEnc_TS24501Msg_UESecurityCapability (pctxt, &pvalue->
      replayedUECapabilities);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode imeisvReq */

   RTXCTXTPUSHELEMNAME (pctxt, "imeisvReq");
   if (pvalue->m.imeisvReqPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0xe, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_IMEISVRequest (pctxt, &pvalue->imeisvReq);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsSecAlgorithm */

   RTXCTXTPUSHELEMNAME (pctxt, "epsSecAlgorithm");
   if (pvalue->m.epsSecAlgorithmPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x57, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24301IE_NASSecurityAlgorithms (pctxt, &pvalue->
         epsSecAlgorithm);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addlSecInfo */

   RTXCTXTPUSHELEMNAME (pctxt, "addlSecInfo");
   if (pvalue->m.addlSecInfoPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x36, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_AddlSecurityInfo (pctxt, &pvalue->addlSecInfo);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode abba */

   RTXCTXTPUSHELEMNAME (pctxt, "abba");
   if (pvalue->m.abbaPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x38, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_ABBA (pctxt, pvalue->abba);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode replayedS1UECapabilities */

   RTXCTXTPUSHELEMNAME (pctxt, "replayedS1UECapabilities");
   if (pvalue->m.replayedS1UECapabilitiesPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x19, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_UESecurityCapability (pctxt, &pvalue->
         replayedS1UECapabilities);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SecModeDone (OSCTXT* pctxt
   , TS24501Msg_SecModeDone* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SecModeDone");

   /* encode imeisv */

   RTXCTXTPUSHELEMNAME (pctxt, "imeisv");
   if (pvalue->m.imeisvPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x77, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->imeisv);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      /* encode nasMsgContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "nasMsgContainer");
      if (pvalue->m.nasMsgContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x71, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_NASMessageContainer2 (pctxt, &pvalue->
            nasMsgContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v16ExtPresent) {
      if(!rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
         /* encode nonImeisvPei */

         RTXCTXTPUSHELEMNAME (pctxt, "nonImeisvPei");
         if (pvalue->m.nonImeisvPeiPresent) {
            if (!OSRTBYTEALIGNED(pctxt)) {
               return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
            }
            RTDIAG_NEWBITFIELD (pctxt, "iei");

            ret = rtxEncBits (pctxt, 0x78, 8);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTDIAG_SETBITFLDCOUNT (pctxt);

            ret = NASEnc_TS24501Msg_MobileIdentity (pctxt, &pvalue->
               nonImeisvPei);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

         }
         RTXCTXTPOPELEMNAME (pctxt);

      }
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SecModeReject (OSCTXT* pctxt
   , TS24501Msg_SecModeReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SecModeReject");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MMStatus (OSCTXT* pctxt
   , TS24501Msg_MMStatus* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MMStatus");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_MMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_IntegrityProtMaxDataRate (OSCTXT* pctxt
   , TS24501Msg_IntegrityProtMaxDataRate* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IntegrityProtMaxDataRate");

   /* encode maxUEDataRateUplink */

   RTXCTXTPUSHELEMNAME (pctxt, "maxUEDataRateUplink");

   ret = NASEnc_TS24501Msg_MaxDataRates (pctxt, pvalue->maxUEDataRateUplink);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxUEDataRateDownlink */

   RTXCTXTPUSHELEMNAME (pctxt, "maxUEDataRateDownlink");

   ret = NASEnc_TS24501Msg_MaxDataRates (pctxt, pvalue->maxUEDataRateDownlink
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PDUSessionType (OSCTXT* pctxt
   , TS24501Msg_PDUSessionType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUSessionType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionType */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionType");
   if (!(pvalue->sessionType <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->sessionType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->sessionType, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SSCMode (OSCTXT* pctxt, TS24501Msg_SSCMode* pvalue
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SSCMode");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sscMode */

   RTXCTXTPUSHELEMNAME (pctxt, "sscMode");
   if (!(pvalue->sscMode <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->sscMode);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->sscMode, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMCapability (OSCTXT* pctxt
   , TS24501Msg_SMCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tpmic */

   RTXCTXTPUSHELEMNAME (pctxt, "tpmic");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->tpmic);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mptc */

   RTXCTXTPUSHELEMNAME (pctxt, "mptc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mptc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode atsll */

   RTXCTXTPUSHELEMNAME (pctxt, "atsll");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->atsll);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epts1 */

   RTXCTXTPUSHELEMNAME (pctxt, "epts1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->epts1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mh6Pdu */

   RTXCTXTPUSHELEMNAME (pctxt, "mh6Pdu");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mh6Pdu);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rqos */

   RTXCTXTPUSHELEMNAME (pctxt, "rqos");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->rqos);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (pvalue->m.spare2Present) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare2.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare2.data, pvalue->spare2.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_MaxSupportedPacketFilters (OSCTXT* pctxt
   , TS24501Msg_MaxSupportedPacketFilters* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MaxSupportedPacketFilters");

   /* encode maxFilters */

   RTXCTXTPUSHELEMNAME (pctxt, "maxFilters");
   if (!((pvalue->maxFilters >= 1 && pvalue->maxFilters <= 2047))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->maxFilters);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->maxFilters, 11);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AlwaysOnPDUSessionReq (OSCTXT* pctxt
   , TS24501Msg_AlwaysOnPDUSessionReq* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AlwaysOnPDUSessionReq");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode apsr */

   RTXCTXTPUSHELEMNAME (pctxt, "apsr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->apsr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SmPduDnReqContainer (OSCTXT* pctxt
   , TS24501Msg_SmPduDnReqContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SmPduDnReqContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dnSpecificId */

   RTXCTXTPUSHELEMNAME (pctxt, "dnSpecificId");
   if (pvalue->m.dnSpecificIdPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->dnSpecificId.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->dnSpecificId.data, pvalue->dnSpecificId.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_HeaderCompressionConfig (OSCTXT* pctxt
   , TS24501Msg_HeaderCompressionConfig* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "HeaderCompressionConfig");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0104 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0104");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0104);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0103 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0103");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0103);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0102 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0102");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0102);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0006 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0006");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0006);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0004 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0004");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0004);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0003 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0003");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0003);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0002 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0002");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0002);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxCID */

   RTXCTXTPUSHELEMNAME (pctxt, "maxCID");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->maxCID, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addlCompressParamsType */

   RTXCTXTPUSHELEMNAME (pctxt, "addlCompressParamsType");
   if (pvalue->m.addlCompressParamsTypePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncUInt32 (pctxt, pvalue->addlCompressParamsType, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addlCompressParamsContainer */

   RTXCTXTPUSHELEMNAME (pctxt, "addlCompressParamsContainer");
   if (pvalue->m.addlCompressParamsContainerPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->addlCompressParamsContainer.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->addlCompressParamsContainer.data, pvalue->addlCompressParamsContainer.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DSTTEthMACAddr (OSCTXT* pctxt
   , TS24501Msg_DSTTEthMACAddr* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DSTTEthMACAddr");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents, 48);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_DSTTResidenceTime (OSCTXT* pctxt
   , TS24501Msg_DSTTResidenceTime* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DSTTResidenceTime");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->length, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents, 64);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PortMgmtInfoContainer (OSCTXT* pctxt
   , TS24501Msg_PortMgmtInfoContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PortMgmtInfoContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode container */

   RTXCTXTPUSHELEMNAME (pctxt, "container");
   if (pvalue->m.containerPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->container.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->container.data, pvalue->container.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EstablishRequest (OSCTXT* pctxt
   , TS24501Msg_EstablishRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EstablishRequest");

   /* encode integProtMaxRate */

   RTXCTXTPUSHELEMNAME (pctxt, "integProtMaxRate");

   ret = NASEnc_TS24501Msg_IntegrityProtMaxDataRate (pctxt, &pvalue->
      integProtMaxRate);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pduSessionType */

   RTXCTXTPUSHELEMNAME (pctxt, "pduSessionType");
   if (pvalue->m.pduSessionTypePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x9, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionType (pctxt, &pvalue->pduSessionType);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sscMode */

   RTXCTXTPUSHELEMNAME (pctxt, "sscMode");
   if (pvalue->m.sscModePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0xa, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SSCMode (pctxt, &pvalue->sscMode);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode capability */

   RTXCTXTPUSHELEMNAME (pctxt, "capability");
   if (pvalue->m.capabilityPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x28, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SMCapability (pctxt, &pvalue->capability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxPktFilters */

   RTXCTXTPUSHELEMNAME (pctxt, "maxPktFilters");
   if (pvalue->m.maxPktFiltersPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x55, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_MaxSupportedPacketFilters (pctxt, &pvalue->
         maxPktFilters);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode alwaysOnPDUSession */

   RTXCTXTPUSHELEMNAME (pctxt, "alwaysOnPDUSession");
   if (pvalue->m.alwaysOnPDUSessionPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0xb, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_AlwaysOnPDUSessionReq (pctxt, &pvalue->
         alwaysOnPDUSession);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reqContainer */

   RTXCTXTPUSHELEMNAME (pctxt, "reqContainer");
   if (pvalue->m.reqContainerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x39, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SmPduDnReqContainer (pctxt, &pvalue->reqContainer
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode headerCompressionCfg */

      RTXCTXTPUSHELEMNAME (pctxt, "headerCompressionCfg");
      if (pvalue->m.headerCompressionCfgPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x66, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_HeaderCompressionConfig (pctxt, &pvalue->
            headerCompressionCfg);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode dsttPortMacAddr */

      RTXCTXTPUSHELEMNAME (pctxt, "dsttPortMacAddr");
      if (pvalue->m.dsttPortMacAddrPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x6e, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_DSTTEthMACAddr (pctxt, &pvalue->
            dsttPortMacAddr);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode dsttResidenceTime */

      RTXCTXTPUSHELEMNAME (pctxt, "dsttResidenceTime");
      if (pvalue->m.dsttResidenceTimePresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x6f, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_DSTTResidenceTime (pctxt, &pvalue->
            dsttResidenceTime);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode portMgmtInfoContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "portMgmtInfoContainer");
      if (pvalue->m.portMgmtInfoContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x7c, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PortMgmtInfoContainer (pctxt, &pvalue->
            portMgmtInfoContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PFComponent (OSCTXT* pctxt
   , TS24501Msg_PFComponent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PFComponent");

   /* encode typeId */

   RTXCTXTPUSHELEMNAME (pctxt, "typeId");

   ret = NASEnc_TS24501Msg_PacketFilterTypeId (pctxt, pvalue->typeId);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   /* Encode choice data value */

   switch (pvalue->typeId)
   {
      /* matchAll */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "matchAll");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv4Remote */
      case 16:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv4Remote");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv4Remote, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv4Local */
      case 17:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv4Local");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv4Local, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv6Remote */
      case 33:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv6Remote");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv6Remote, 136);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv6Local */
      case 35:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv6Local");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv6Local, 136);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* protId */
      case 48:
         RTXCTXTPUSHELEMNAME (pctxt, "protId");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.protId, 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* singleLocalPort */
      case 64:
         RTXCTXTPUSHELEMNAME (pctxt, "singleLocalPort");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.singleLocalPort, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* localPortRange */
      case 65:
         RTXCTXTPUSHELEMNAME (pctxt, "localPortRange");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.localPortRange, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* singleRemPort */
      case 80:
         RTXCTXTPUSHELEMNAME (pctxt, "singleRemPort");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.singleRemPort, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* remPortRange */
      case 81:
         RTXCTXTPUSHELEMNAME (pctxt, "remPortRange");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.remPortRange, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* secParam */
      case 96:
         RTXCTXTPUSHELEMNAME (pctxt, "secParam");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.secParam, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* typeOfSvc */
      case 112:
         RTXCTXTPUSHELEMNAME (pctxt, "typeOfSvc");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.typeOfSvc, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* flowLabel */
      case 128:
         RTXCTXTPUSHELEMNAME (pctxt, "flowLabel");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.flowLabel, 24);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* destMacAddr */
      case 129:
         RTXCTXTPUSHELEMNAME (pctxt, "destMacAddr");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.destMacAddr, 48);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* srcMacAddr */
      case 130:
         RTXCTXTPUSHELEMNAME (pctxt, "srcMacAddr");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.srcMacAddr, 48);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ctagVid */
      case 131:
         RTXCTXTPUSHELEMNAME (pctxt, "ctagVid");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ctagVid, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* stagVid */
      case 132:
         RTXCTXTPUSHELEMNAME (pctxt, "stagVid");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.stagVid, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ctagPcp */
      case 133:
         RTXCTXTPUSHELEMNAME (pctxt, "ctagPcp");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ctagPcp, 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* stagPcp */
      case 134:
         RTXCTXTPUSHELEMNAME (pctxt, "stagPcp");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.stagPcp, 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ethernet */
      case 135:
         RTXCTXTPUSHELEMNAME (pctxt, "ethernet");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ethernet, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PFCreateNew (OSCTXT* pctxt
   , TS24501Msg_PFCreateNew* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PFCreateNew");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterDirection */

   RTXCTXTPUSHELEMNAME (pctxt, "filterDirection");
   if (!(pvalue->filterDirection <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->filterDirection);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->filterDirection, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterId */

   RTXCTXTPUSHELEMNAME (pctxt, "filterId");
   if (!(pvalue->filterId <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->filterId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->filterId, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterContentLen */

   RTXCTXTPUSHELEMNAME (pctxt, "filterContentLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterContent */

   RTXCTXTPUSHELEMNAME (pctxt, "filterContent");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->filterContent.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_PFComponent (pctxt, &pvalue->filterContent.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->filterContentLen = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->filterContentLen, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PFModifyAndDelete (OSCTXT* pctxt
   , TS24501Msg_PFModifyAndDelete* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PFModifyAndDelete");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterId */

   RTXCTXTPUSHELEMNAME (pctxt, "filterId");
   if (!(pvalue->filterId <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->filterId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->filterId, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_QoSRule (OSCTXT* pctxt, TS24501Msg_QoSRule* pvalue
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QoSRule");

   /* encode ruleId */

   RTXCTXTPUSHELEMNAME (pctxt, "ruleId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->ruleId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ruleLen */

   RTXCTXTPUSHELEMNAME (pctxt, "ruleLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->ruleLen, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ruleOpCode */

   RTXCTXTPUSHELEMNAME (pctxt, "ruleOpCode");

   ret = NASEnc_TS24501Msg_RuleOpCodes (pctxt, pvalue->ruleOpCode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dqr */

   RTXCTXTPUSHELEMNAME (pctxt, "dqr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->dqr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numPacketFilters */

   RTXCTXTPUSHELEMNAME (pctxt, "numPacketFilters");
   if (!(pvalue->numPacketFilters <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numPacketFilters);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numPacketFilters, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode packetFilterList */

   RTXCTXTPUSHELEMNAME (pctxt, "packetFilterList");
   /* Encode choice data value */

   switch (pvalue->ruleOpCode)
   {
      /* createNew */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "createNew");

         {
            OSUINT8 i;
            if (!(pvalue->packetFilterList.u.createNew.n <= 15)) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.createNew.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.createNew.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501Msg_PFCreateNew (pctxt, &pvalue->
                  packetFilterList.u.createNew.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* delete */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "delete");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyAndAdd */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyAndAdd");

         {
            OSUINT8 i;
            if (!((pvalue->packetFilterList.u.modifyAndAdd.n >= 1 && pvalue->
               packetFilterList.u.modifyAndAdd.n <= 15))) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.modifyAndAdd.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.modifyAndAdd.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501Msg_PFCreateNew (pctxt, &pvalue->
                  packetFilterList.u.modifyAndAdd.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyAndReplace */
      case 4:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyAndReplace");

         {
            OSUINT8 i;
            if (!(pvalue->packetFilterList.u.modifyAndReplace.n <= 15)) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.modifyAndReplace.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.modifyAndReplace.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501Msg_PFCreateNew (pctxt, &pvalue->
                  packetFilterList.u.modifyAndReplace.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyAndDelete */
      case 5:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyAndDelete");

         {
            OSUINT8 i;
            if (!((pvalue->packetFilterList.u.modifyAndDelete.n >= 1 && pvalue->
               packetFilterList.u.modifyAndDelete.n <= 15))) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.modifyAndDelete.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.modifyAndDelete.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501Msg_PFModifyAndDelete (pctxt, &pvalue->
                  packetFilterList.u.modifyAndDelete.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyNoModify */
      case 6:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyNoModify");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode precedence */

   RTXCTXTPUSHELEMNAME (pctxt, "precedence");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->precedence, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode segregation */

   RTXCTXTPUSHELEMNAME (pctxt, "segregation");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->segregation);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode flowId */

   RTXCTXTPUSHELEMNAME (pctxt, "flowId");
   if (!(pvalue->flowId <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->flowId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->flowId, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_QoSRules (OSCTXT* pctxt
   , TS24501Msg_QoSRules* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QoSRules");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rules */

   RTXCTXTPUSHELEMNAME (pctxt, "rules");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->rules.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_QoSRule (pctxt, &pvalue->rules.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SessionAMBR (OSCTXT* pctxt
   , TS24501Msg_SessionAMBR* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionAMBR");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode unitAmbrDL */

   RTXCTXTPUSHELEMNAME (pctxt, "unitAmbrDL");

   ret = NASEnc_TS24501Msg_SessionUnits (pctxt, pvalue->unitAmbrDL);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionAmbrDL */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionAmbrDL");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->sessionAmbrDL, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode unitAmbrUL */

   RTXCTXTPUSHELEMNAME (pctxt, "unitAmbrUL");

   ret = NASEnc_TS24501Msg_SessionUnits (pctxt, pvalue->unitAmbrUL);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionAmbrUL */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionAmbrUL");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->sessionAmbrUL, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PDUAddress (OSCTXT* pctxt
   , TS24501Msg_PDUAddress* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUAddress");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionType */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionType");
   if (!(pvalue->sessionType <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->sessionType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->sessionType, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addressInfo */

   RTXCTXTPUSHELEMNAME (pctxt, "addressInfo");

   ret = NASEnc_TS24501Msg_PDUAddress_addressInfo (pctxt, &pvalue->addressInfo
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AlwaysOnPDUSessionInd (OSCTXT* pctxt
   , TS24501Msg_AlwaysOnPDUSessionInd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AlwaysOnPDUSessionInd");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode apsi */

   RTXCTXTPUSHELEMNAME (pctxt, "apsi");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->apsi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ParamsList (OSCTXT* pctxt
   , TS24501Msg_ParamsList* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ParamsList");

   /* encode paramId */

   RTXCTXTPUSHELEMNAME (pctxt, "paramId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->paramId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode paramContentLen */

   RTXCTXTPUSHELEMNAME (pctxt, "paramContentLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->paramContentLen, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode paramContent */

   RTXCTXTPUSHELEMNAME (pctxt, "paramContent");

   ret = NASEnc_TS24501Msg_ParamsList_paramContent (pctxt, &pvalue->
      paramContent);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EPSBearerCtxt (OSCTXT* pctxt
   , TS24501Msg_EPSBearerCtxt* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSBearerCtxt");

   /* encode bearerId */

   RTXCTXTPUSHELEMNAME (pctxt, "bearerId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->bearerId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode bearerCtxtLen */

   RTXCTXTPUSHELEMNAME (pctxt, "bearerCtxtLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->bearerCtxtLen, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode opCode */

   RTXCTXTPUSHELEMNAME (pctxt, "opCode");
   if (!(pvalue->opCode <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->opCode);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->opCode, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eBit */

   RTXCTXTPUSHELEMNAME (pctxt, "eBit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eBit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numParams */

   RTXCTXTPUSHELEMNAME (pctxt, "numParams");
   if (!(pvalue->numParams <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numParams);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numParams, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode paramsList */

   RTXCTXTPUSHELEMNAME (pctxt, "paramsList");
   {
      OSUINT8 i;
      if (!(pvalue->paramsList.n <= 15)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->paramsList.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->paramsList.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_ParamsList (pctxt, &pvalue->paramsList.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EPSBearerCtxts (OSCTXT* pctxt
   , TS24501Msg_EPSBearerCtxts* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSBearerCtxts");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsBearerCtxts */

   RTXCTXTPUSHELEMNAME (pctxt, "epsBearerCtxts");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->epsBearerCtxts.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_EPSBearerCtxt (pctxt, &pvalue->epsBearerCtxts.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_Parameter (OSCTXT* pctxt
   , TS24501Msg_Parameter* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Parameter");

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->id, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_QOSFlowDescription (OSCTXT* pctxt
   , TS24501Msg_QOSFlowDescription* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QOSFlowDescription");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qfi */

   RTXCTXTPUSHELEMNAME (pctxt, "qfi");
   if (!(pvalue->qfi <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->qfi);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->qfi, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode opCode */

   RTXCTXTPUSHELEMNAME (pctxt, "opCode");

   ret = NASEnc_TS24501Msg_FlowOpCodes (pctxt, pvalue->opCode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare2, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eBit */

   RTXCTXTPUSHELEMNAME (pctxt, "eBit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eBit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numParams */

   RTXCTXTPUSHELEMNAME (pctxt, "numParams");
   if (!(pvalue->numParams <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numParams);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numParams, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode paramsList */

   RTXCTXTPUSHELEMNAME (pctxt, "paramsList");
   if (pvalue->m.paramsListPresent) {
      {
         OSUINT8 i;
         if (!(pvalue->paramsList.n <= 63)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->paramsList.n);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         for (i = 0; i < pvalue->paramsList.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501Msg_Parameter (pctxt, &pvalue->paramsList.
               elem[i]);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_QOSFlowDescriptions (OSCTXT* pctxt
   , TS24501Msg_QOSFlowDescriptions* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QOSFlowDescriptions");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosFlowDesr */

   RTXCTXTPUSHELEMNAME (pctxt, "qosFlowDesr");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->qosFlowDesr.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501Msg_QOSFlowDescription (pctxt, &pvalue->
            qosFlowDesr.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 6)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EstablishAccept (OSCTXT* pctxt
   , TS24501Msg_EstablishAccept* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EstablishAccept");

   /* encode sscMode */

   RTXCTXTPUSHELEMNAME (pctxt, "sscMode");

   ret = NASEnc_TS24501Msg_SSCMode (pctxt, &pvalue->sscMode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pduSessionType */

   RTXCTXTPUSHELEMNAME (pctxt, "pduSessionType");

   ret = NASEnc_TS24501Msg_PDUSessionType (pctxt, &pvalue->pduSessionType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosRules */

   RTXCTXTPUSHELEMNAME (pctxt, "qosRules");

   ret = NASEnc_TS24501Msg_QoSRules (pctxt, &pvalue->qosRules);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionAMBR */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionAMBR");

   ret = NASEnc_TS24501Msg_SessionAMBR (pctxt, &pvalue->sessionAMBR);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");
   if (pvalue->m.causePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x59, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pduAddress */

   RTXCTXTPUSHELEMNAME (pctxt, "pduAddress");
   if (pvalue->m.pduAddressPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x29, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUAddress (pctxt, &pvalue->pduAddress);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rqTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "rqTimer");
   if (pvalue->m.rqTimerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x56, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer (pctxt, &pvalue->rqTimer);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode snssai */

   RTXCTXTPUSHELEMNAME (pctxt, "snssai");
   if (pvalue->m.snssaiPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x22, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SNSSAI (pctxt, &pvalue->snssai);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode alwaysOnPDUSession */

   RTXCTXTPUSHELEMNAME (pctxt, "alwaysOnPDUSession");
   if (pvalue->m.alwaysOnPDUSessionPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x8, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_AlwaysOnPDUSessionInd (pctxt, &pvalue->
         alwaysOnPDUSession);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsBearerCtxts */

   RTXCTXTPUSHELEMNAME (pctxt, "epsBearerCtxts");
   if (pvalue->m.epsBearerCtxtsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x75, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EPSBearerCtxts (pctxt, &pvalue->epsBearerCtxts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosFlowDesr */

   RTXCTXTPUSHELEMNAME (pctxt, "qosFlowDesr");
   if (pvalue->m.qosFlowDesrPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x79, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_QOSFlowDescriptions (pctxt, &pvalue->qosFlowDesr
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dnn */

   RTXCTXTPUSHELEMNAME (pctxt, "dnn");
   if (pvalue->m.dnnPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x25, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_DNNList (pctxt, pvalue->dnn);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode headerCompressionCfg */

      RTXCTXTPUSHELEMNAME (pctxt, "headerCompressionCfg");
      if (pvalue->m.headerCompressionCfgPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x66, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_HeaderCompressionConfig (pctxt, &pvalue->
            headerCompressionCfg);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_AllowedSSCMode (OSCTXT* pctxt
   , TS24501Msg_AllowedSSCMode* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AllowedSSCMode");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ssc3 */

   RTXCTXTPUSHELEMNAME (pctxt, "ssc3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ssc3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ssc2 */

   RTXCTXTPUSHELEMNAME (pctxt, "ssc2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ssc2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ssc1 */

   RTXCTXTPUSHELEMNAME (pctxt, "ssc1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ssc1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CongestionReattemptIndicator (OSCTXT* pctxt
   , TS24501Msg_CongestionReattemptIndicator* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CongestionReattemptIndicator");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode abo */

   RTXCTXTPUSHELEMNAME (pctxt, "abo");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->abo);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_EstablishReject (OSCTXT* pctxt
   , TS24501Msg_EstablishReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EstablishReject");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode backoffTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "backoffTimer");
   if (pvalue->m.backoffTimerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x37, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->backoffTimer);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode allowedSSCMode */

   RTXCTXTPUSHELEMNAME (pctxt, "allowedSSCMode");
   if (pvalue->m.allowedSSCModePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0xf, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_AllowedSSCMode (pctxt, &pvalue->allowedSSCMode);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode congestionReattemptInd */

   RTXCTXTPUSHELEMNAME (pctxt, "congestionReattemptInd");
   if (pvalue->m.congestionReattemptIndPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x61, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_CongestionReattemptIndicator (pctxt, &pvalue->
         congestionReattemptInd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMAuthCmd (OSCTXT* pctxt
   , TS24501Msg_SMAuthCmd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMAuthCmd");

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");

   ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMAuthDone (OSCTXT* pctxt
   , TS24501Msg_SMAuthDone* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMAuthDone");

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");

   ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMAuthResult (OSCTXT* pctxt
   , TS24501Msg_SMAuthResult* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMAuthResult");

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ModifyRequest (OSCTXT* pctxt
   , TS24501Msg_ModifyRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ModifyRequest");

   /* encode capability */

   RTXCTXTPUSHELEMNAME (pctxt, "capability");
   if (pvalue->m.capabilityPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x28, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SMCapability (pctxt, &pvalue->capability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");
   if (pvalue->m.causePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x59, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxPktFilters */

   RTXCTXTPUSHELEMNAME (pctxt, "maxPktFilters");
   if (pvalue->m.maxPktFiltersPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x55, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_MaxSupportedPacketFilters (pctxt, &pvalue->
         maxPktFilters);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode alwaysOnPDUSession */

   RTXCTXTPUSHELEMNAME (pctxt, "alwaysOnPDUSession");
   if (pvalue->m.alwaysOnPDUSessionPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0xb, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_AlwaysOnPDUSessionReq (pctxt, &pvalue->
         alwaysOnPDUSession);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode integProtMaxRate */

   RTXCTXTPUSHELEMNAME (pctxt, "integProtMaxRate");
   if (pvalue->m.integProtMaxRatePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x13, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_IntegrityProtMaxDataRate (pctxt, &pvalue->
         integProtMaxRate);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosRules */

   RTXCTXTPUSHELEMNAME (pctxt, "qosRules");
   if (pvalue->m.qosRulesPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7a, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_QoSRules (pctxt, &pvalue->qosRules);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosFlowDesr */

   RTXCTXTPUSHELEMNAME (pctxt, "qosFlowDesr");
   if (pvalue->m.qosFlowDesrPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x79, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_QOSFlowDescriptions (pctxt, &pvalue->qosFlowDesr
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsBearerCtxts */

   RTXCTXTPUSHELEMNAME (pctxt, "epsBearerCtxts");
   if (pvalue->m.epsBearerCtxtsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x75, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EPSBearerCtxts (pctxt, &pvalue->epsBearerCtxts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode portMgmtInfoContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "portMgmtInfoContainer");
      if (pvalue->m.portMgmtInfoContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x7c, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PortMgmtInfoContainer (pctxt, &pvalue->
            portMgmtInfoContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ModifyReject (OSCTXT* pctxt
   , TS24501Msg_ModifyReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ModifyReject");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode backoffTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "backoffTimer");
   if (pvalue->m.backoffTimerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x37, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->backoffTimer);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode congestionReattemptInd */

   RTXCTXTPUSHELEMNAME (pctxt, "congestionReattemptInd");
   if (pvalue->m.congestionReattemptIndPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x61, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_CongestionReattemptIndicator (pctxt, &pvalue->
         congestionReattemptInd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ModifyCmd (OSCTXT* pctxt
   , TS24501Msg_ModifyCmd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ModifyCmd");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");
   if (pvalue->m.causePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x59, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionAMBR */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionAMBR");
   if (pvalue->m.sessionAMBRPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x2a, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SessionAMBR (pctxt, &pvalue->sessionAMBR);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rqTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "rqTimer");
   if (pvalue->m.rqTimerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x56, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer (pctxt, &pvalue->rqTimer);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode alwaysOnPDUSession */

   RTXCTXTPUSHELEMNAME (pctxt, "alwaysOnPDUSession");
   if (pvalue->m.alwaysOnPDUSessionPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x8, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_AlwaysOnPDUSessionReq (pctxt, &pvalue->
         alwaysOnPDUSession);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosRules */

   RTXCTXTPUSHELEMNAME (pctxt, "qosRules");
   if (pvalue->m.qosRulesPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7a, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_QoSRules (pctxt, &pvalue->qosRules);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsBearerCtxts */

   RTXCTXTPUSHELEMNAME (pctxt, "epsBearerCtxts");
   if (pvalue->m.epsBearerCtxtsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x75, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EPSBearerCtxts (pctxt, &pvalue->epsBearerCtxts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosFlowDesr */

   RTXCTXTPUSHELEMNAME (pctxt, "qosFlowDesr");
   if (pvalue->m.qosFlowDesrPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x79, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_QOSFlowDescriptions (pctxt, &pvalue->qosFlowDesr
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode headerCompressionCfg */

      RTXCTXTPUSHELEMNAME (pctxt, "headerCompressionCfg");
      if (pvalue->m.headerCompressionCfgPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x66, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_HeaderCompressionConfig (pctxt, &pvalue->
            headerCompressionCfg);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode portMgmtInfoContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "portMgmtInfoContainer");
      if (pvalue->m.portMgmtInfoContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x7c, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PortMgmtInfoContainer (pctxt, &pvalue->
            portMgmtInfoContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ModifyDone (OSCTXT* pctxt
   , TS24501Msg_ModifyDone* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ModifyDone");

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode portMgmtInfoContainer */

      RTXCTXTPUSHELEMNAME (pctxt, "portMgmtInfoContainer");
      if (pvalue->m.portMgmtInfoContainerPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x7c, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_PortMgmtInfoContainer (pctxt, &pvalue->
            portMgmtInfoContainer);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ModifyCmdReject (OSCTXT* pctxt
   , TS24501Msg_ModifyCmdReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ModifyCmdReject");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ReleaseRequest (OSCTXT* pctxt
   , TS24501Msg_ReleaseRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReleaseRequest");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");
   if (pvalue->m.causePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x59, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ReleaseReject (OSCTXT* pctxt
   , TS24501Msg_ReleaseReject* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReleaseReject");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ReleaseCmd (OSCTXT* pctxt
   , TS24501Msg_ReleaseCmd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReleaseCmd");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode backoffTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "backoffTimer");
   if (pvalue->m.backoffTimerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x37, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_GPRSTimer3 (pctxt, &pvalue->backoffTimer);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eapMessage */

   RTXCTXTPUSHELEMNAME (pctxt, "eapMessage");
   if (pvalue->m.eapMessagePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x78, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_EAPMessage (pctxt, &pvalue->eapMessage);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode congestionReattemptInd */

   RTXCTXTPUSHELEMNAME (pctxt, "congestionReattemptInd");
   if (pvalue->m.congestionReattemptIndPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x61, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_CongestionReattemptIndicator (pctxt, &pvalue->
         congestionReattemptInd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ReleaseDone (OSCTXT* pctxt
   , TS24501Msg_ReleaseDone* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReleaseDone");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");
   if (pvalue->m.causePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x59, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extProtoCfgOpts */

   RTXCTXTPUSHELEMNAME (pctxt, "extProtoCfgOpts");
   if (pvalue->m.extProtoCfgOptsPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_ExtProtoConfigOptions (pctxt, &pvalue->
         extProtoCfgOpts);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMStatus (OSCTXT* pctxt
   , TS24501Msg_SMStatus* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMStatus");

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501Msg_SMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ControlPlaneServiceType (OSCTXT* pctxt
   , TS24501Msg_ControlPlaneServiceType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ControlPlaneServiceType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ControlPlaneServReq (OSCTXT* pctxt
   , TS24501Msg_ControlPlaneServReq* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ControlPlaneServReq");

   /* encode nasKeySetIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "nasKeySetIdent");

   ret = NASEnc_TS24301IE_NASKeySetIdentifier (pctxt, &pvalue->nasKeySetIdent
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ctrlPlaneServType */

   RTXCTXTPUSHELEMNAME (pctxt, "ctrlPlaneServType");

   ret = NASEnc_TS24501Msg_ControlPlaneServiceType (pctxt, &pvalue->
      ctrlPlaneServType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode containerType */

   RTXCTXTPUSHELEMNAME (pctxt, "containerType");
   if (pvalue->m.containerTypePresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x8, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PayloadContainerType (pctxt, pvalue->
         containerType);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode container */

   RTXCTXTPUSHELEMNAME (pctxt, "container");
   if (pvalue->m.containerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x7b, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      /* Encode choice data value */

      switch (pvalue->containerType)
      {
         /* n1sm */
         case 1:
            RTXCTXTPUSHELEMNAME (pctxt, "n1sm");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
               u.n1sm);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* sms */
         case 2:
            RTXCTXTPUSHELEMNAME (pctxt, "sms");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.sms
               );
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* lpp */
         case 3:
            RTXCTXTPUSHELEMNAME (pctxt, "lpp");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.lpp
               );
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* sor */
         case 4:
            RTXCTXTPUSHELEMNAME (pctxt, "sor");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.u.sor
               );
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* uePolicy */
         case 5:
            RTXCTXTPUSHELEMNAME (pctxt, "uePolicy");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
               u.uePolicy);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* ueParamUpdate */
         case 6:
            RTXCTXTPUSHELEMNAME (pctxt, "ueParamUpdate");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
               u.ueParamUpdate);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* locSvcs */
         case 7:
            RTXCTXTPUSHELEMNAME (pctxt, "locSvcs");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
               u.locSvcs);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* cIOTUserData */
         case 8:
            RTXCTXTPUSHELEMNAME (pctxt, "cIOTUserData");

            ret = NASEnc_TS24501Msg_OpaqueData (pctxt, &pvalue->container.
               u.cIOTUserData);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* multiple */
         case 15:
            RTXCTXTPUSHELEMNAME (pctxt, "multiple");

            ret = NASEnc_TS24501Msg_MultiPayloadContainer (pctxt, &pvalue->
               container.u.multiple);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         default:
            return LOG_RTERR (pctxt, RTERR_INVOPT);
      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pduSessionId */

   RTXCTXTPUSHELEMNAME (pctxt, "pduSessionId");
   if (pvalue->m.pduSessionIdPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x12, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionId2 (pctxt, pvalue->pduSessionId);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionStat */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionStat");
   if (pvalue->m.sessionStatPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x50, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_PDUSessionStatus (pctxt, &pvalue->sessionStat);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode releaseAssistIndication */

   RTXCTXTPUSHELEMNAME (pctxt, "releaseAssistIndication");
   if (pvalue->m.releaseAssistIndicationPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0xf, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24301IE_ReleaseAssistInd (pctxt, &pvalue->
         releaseAssistIndication);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode uplinkStat */

   RTXCTXTPUSHELEMNAME (pctxt, "uplinkStat");
   if (pvalue->m.uplinkStatPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x40, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_UplinkDataStatus (pctxt, &pvalue->uplinkStat);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nasMsgContainer */

   RTXCTXTPUSHELEMNAME (pctxt, "nasMsgContainer");
   if (pvalue->m.nasMsgContainerPresent) {
      if (!OSRTBYTEALIGNED(pctxt)) {
         return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
      }
      RTDIAG_NEWBITFIELD (pctxt, "iei");

      ret = rtxEncBits (pctxt, 0x71, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24501Msg_NASMessageContainer2 (pctxt, &pvalue->
         nasMsgContainer);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v16ExtPresent) {
      /* encode addlInfo */

      RTXCTXTPUSHELEMNAME (pctxt, "addlInfo");
      if (pvalue->m.addlInfoPresent) {
         if (!OSRTBYTEALIGNED(pctxt)) {
            return LOG_RTERR (pctxt, RTERR_NOTALIGNED);
         }
         RTDIAG_NEWBITFIELD (pctxt, "iei");

         ret = rtxEncBits (pctxt, 0x24, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24501Msg_AdditionalInfo (pctxt, pvalue->addlInfo);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_PDU (OSCTXT* pctxt, TS24501Msg_PDU* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDU");

   /* encode secHdr */

   /* begin custom source file TS24501MsgEnc_PDU_secHdr.c */

   /* start custom code */
   /* open scope for declaration of saveinfo. This block is closed in fragment
      TS24501MsgEnc_PDU_eom.c */
   {
      OSRTBufSave saveinfo;
      OSRTBUFSAVE2(pctxt, &saveinfo);
   
      /* only encode header if optional bit set and header type != noSec */
      if (pvalue->m.secHdrPresent && 
          pvalue->secHdr.protoDiscr == TS24501Msg_NAS5GProtoDiscr_mobMgmt5G &&
          pvalue->secHdr.secHdrType != TS24501Msg_NAS5GSecHdrType_noSec) {
         
         RTXCTXTPUSHELEMNAME (pctxt, "secHdr");
   
         /* This is going to encode the header, but we'll later go back
            and fill in the msgAuthCode, which starts at 2nd octet and takes 4 
            octets. */
            
         ret = NASEnc_TS24501Msg_NAS5GSecProtMsgHdr (pctxt, &pvalue->secHdr);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
   
         RTXCTXTPOPELEMNAME (pctxt);
      }
      /* end custom code */

   /* end custom source file TS24501MsgEnc_PDU_secHdr.c */

   /* encode protoDiscr */

   RTXCTXTPUSHELEMNAME (pctxt, "protoDiscr");

   ret = NASEnc_TS24501Msg_NAS5GProtoDiscr (pctxt, pvalue->protoDiscr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hdrData */

   RTXCTXTPUSHELEMNAME (pctxt, "hdrData");
   /* Encode choice data value */

   switch (pvalue->protoDiscr)
   {
      /* mm */
      case 126:
         RTXCTXTPUSHELEMNAME (pctxt, "mm");

         /* encode spare1 */

         RTXCTXTPUSHELEMNAME (pctxt, "spare1");
         if (!(pvalue->hdrData.u.mm.spare1 <= 15)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->hdrData.u.mm.spare1);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->hdrData.u.mm.spare1, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode secHdrType */

         RTXCTXTPUSHELEMNAME (pctxt, "secHdrType");

         ret = NASEnc_TS24501Msg_NAS5GSecHdrType (pctxt, pvalue->hdrData.u.mm.
            secHdrType);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* sm */
      case 46:
         RTXCTXTPUSHELEMNAME (pctxt, "sm");

         /* encode pduSessIdent */

         RTXCTXTPUSHELEMNAME (pctxt, "pduSessIdent");

         ret = NASEnc_TS24501Msg_PDUSessionIdentity (pctxt, pvalue->hdrData.
            u.sm.pduSessIdent);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);

         /* encode procTransIdent */

         RTXCTXTPUSHELEMNAME (pctxt, "procTransIdent");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->hdrData.u.sm.procTransIdent, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode msgType */

   RTXCTXTPUSHELEMNAME (pctxt, "msgType");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->msgType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode data */

   RTXCTXTPUSHELEMNAME (pctxt, "data");
   switch (pvalue->data.t) {
   /* obj_MMAuthRequest5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_MMAuthRequest5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_MMAuthRequest5G");

      ret = NASEnc_TS24501Msg_AuthRequest (pctxt, pvalue->data.
         u.obj_MMAuthRequest5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_MMAuthResponse5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_MMAuthResponse5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_MMAuthResponse5G");

      ret = NASEnc_TS24501Msg_AuthResponse (pctxt, pvalue->data.
         u.obj_MMAuthResponse5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_MMAuthResult5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_MMAuthResult5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_MMAuthResult5G");

      ret = NASEnc_TS24501Msg_AuthResult (pctxt, pvalue->data.
         u.obj_MMAuthResult5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_MMAuthFailure5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_MMAuthFailure5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_MMAuthFailure5G");

      ret = NASEnc_TS24501Msg_AuthFailure (pctxt, pvalue->data.
         u.obj_MMAuthFailure5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_MMAuthReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_MMAuthReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_MMAuthReject5G");

      ret = NASEnc_TS24501Msg_AuthReject (pctxt, pvalue->data.
         u.obj_MMAuthReject5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_RegRequest5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_RegRequest5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_RegRequest5G");

      ret = NASEnc_TS24501Msg_RegRequest (pctxt, pvalue->data.
         u.obj_RegRequest5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_RegAccept5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_RegAccept5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_RegAccept5G");

      ret = NASEnc_TS24501Msg_RegAccept (pctxt, pvalue->data.u.obj_RegAccept5G
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_RegComplete5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_RegComplete5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_RegComplete5G");

      ret = NASEnc_TS24501Msg_RegComplete (pctxt, pvalue->data.
         u.obj_RegComplete5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_RegReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_RegReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_RegReject5G");

      ret = NASEnc_TS24501Msg_RegReject (pctxt, pvalue->data.u.obj_RegReject5G
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ULNASTrans5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ULNASTrans5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ULNASTrans5G");

      ret = NASEnc_TS24501Msg_ULNASTrans (pctxt, pvalue->data.
         u.obj_ULNASTrans5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_DLNASTrans5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_DLNASTrans5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_DLNASTrans5G");

      ret = NASEnc_TS24501Msg_DLNASTrans (pctxt, pvalue->data.
         u.obj_DLNASTrans5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_DeregReqUEOrig5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_DeregReqUEOrig5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_DeregReqUEOrig5G");

      ret = NASEnc_TS24501Msg_DeregReqUEOrig (pctxt, pvalue->data.
         u.obj_DeregReqUEOrig5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_DeregAcceptUEOrig5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_DeregAcceptUEOrig5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_DeregAcceptUEOrig5G");

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_DeregReqUETerm5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_DeregReqUETerm5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_DeregReqUETerm5G");

      ret = NASEnc_TS24501Msg_DeregReqUETerm (pctxt, pvalue->data.
         u.obj_DeregReqUETerm5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_DeregAcceptUETerm5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_DeregAcceptUETerm5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_DeregAcceptUETerm5G");

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ServRequest5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ServRequest5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ServRequest5G");

      ret = NASEnc_TS24501Msg_ServRequest (pctxt, pvalue->data.
         u.obj_ServRequest5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ServAccept5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ServAccept5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ServAccept5G");

      ret = NASEnc_TS24501Msg_ServAccept (pctxt, pvalue->data.
         u.obj_ServAccept5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ServReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ServReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ServReject5G");

      ret = NASEnc_TS24501Msg_ServReject (pctxt, pvalue->data.
         u.obj_ServReject5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_CfgUpdateCmd5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_CfgUpdateCmd5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_CfgUpdateCmd5G");

      ret = NASEnc_TS24501Msg_CfgUpdateCmd (pctxt, pvalue->data.
         u.obj_CfgUpdateCmd5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_CfgUpdateDone5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_CfgUpdateDone5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_CfgUpdateDone5G");

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_IdentityRequest5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_IdentityRequest5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_IdentityRequest5G");

      ret = NASEnc_TS24501Msg_IdentityRequest (pctxt, pvalue->data.
         u.obj_IdentityRequest5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_IdentityResponse5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_IdentityResponse5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_IdentityResponse5G");

      ret = NASEnc_TS24501Msg_IdentityResponse (pctxt, pvalue->data.
         u.obj_IdentityResponse5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_Notify5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_Notify5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_Notify5G");

      ret = NASEnc_TS24501Msg_Notify (pctxt, pvalue->data.u.obj_Notify5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_NotifyResponse5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_NotifyResponse5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_NotifyResponse5G");

      ret = NASEnc_TS24501Msg_NotifyResponse (pctxt, pvalue->data.
         u.obj_NotifyResponse5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_SecModeCmd5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_SecModeCmd5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_SecModeCmd5G");

      ret = NASEnc_TS24501Msg_SecModeCmd (pctxt, pvalue->data.
         u.obj_SecModeCmd5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_SecModeDone5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_SecModeDone5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_SecModeDone5G");

      ret = NASEnc_TS24501Msg_SecModeDone (pctxt, pvalue->data.
         u.obj_SecModeDone5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_SecModeReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_SecModeReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_SecModeReject5G");

      ret = NASEnc_TS24501Msg_SecModeReject (pctxt, pvalue->data.
         u.obj_SecModeReject5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_MMStatus5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_MMStatus5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_MMStatus5G");

      ret = NASEnc_TS24501Msg_MMStatus (pctxt, pvalue->data.u.obj_MMStatus5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_EstablishRequest5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_EstablishRequest5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_EstablishRequest5G");

      ret = NASEnc_TS24501Msg_EstablishRequest (pctxt, pvalue->data.
         u.obj_EstablishRequest5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_EstablishAccept5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_EstablishAccept5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_EstablishAccept5G");

      ret = NASEnc_TS24501Msg_EstablishAccept (pctxt, pvalue->data.
         u.obj_EstablishAccept5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_EstablishReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_EstablishReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_EstablishReject5G");

      ret = NASEnc_TS24501Msg_EstablishReject (pctxt, pvalue->data.
         u.obj_EstablishReject5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_SMAuthCmd5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_SMAuthCmd5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_SMAuthCmd5G");

      ret = NASEnc_TS24501Msg_SMAuthCmd (pctxt, pvalue->data.u.obj_SMAuthCmd5G
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_SMAuthDone5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_SMAuthDone5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_SMAuthDone5G");

      ret = NASEnc_TS24501Msg_SMAuthDone (pctxt, pvalue->data.
         u.obj_SMAuthDone5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_SMAuthResult5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_SMAuthResult5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_SMAuthResult5G");

      ret = NASEnc_TS24501Msg_SMAuthResult (pctxt, pvalue->data.
         u.obj_SMAuthResult5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ModifyRequest5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ModifyRequest5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ModifyRequest5G");

      ret = NASEnc_TS24501Msg_ModifyRequest (pctxt, pvalue->data.
         u.obj_ModifyRequest5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ModifyReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ModifyReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ModifyReject5G");

      ret = NASEnc_TS24501Msg_ModifyReject (pctxt, pvalue->data.
         u.obj_ModifyReject5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ModifyCmd5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ModifyCmd5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ModifyCmd5G");

      ret = NASEnc_TS24501Msg_ModifyCmd (pctxt, pvalue->data.u.obj_ModifyCmd5G
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ModifyDone5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ModifyDone5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ModifyDone5G");

      ret = NASEnc_TS24501Msg_ModifyDone (pctxt, pvalue->data.
         u.obj_ModifyDone5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ModifyCmdReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ModifyCmdReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ModifyCmdReject5G");

      ret = NASEnc_TS24501Msg_ModifyCmdReject (pctxt, pvalue->data.
         u.obj_ModifyCmdReject5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ReleaseRequest5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ReleaseRequest5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ReleaseRequest5G");

      ret = NASEnc_TS24501Msg_ReleaseRequest (pctxt, pvalue->data.
         u.obj_ReleaseRequest5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ReleaseReject5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ReleaseReject5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ReleaseReject5G");

      ret = NASEnc_TS24501Msg_ReleaseReject (pctxt, pvalue->data.
         u.obj_ReleaseReject5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ReleaseCmd5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ReleaseCmd5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ReleaseCmd5G");

      ret = NASEnc_TS24501Msg_ReleaseCmd (pctxt, pvalue->data.
         u.obj_ReleaseCmd5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ReleaseDone5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ReleaseDone5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ReleaseDone5G");

      ret = NASEnc_TS24501Msg_ReleaseDone (pctxt, pvalue->data.
         u.obj_ReleaseDone5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_SMStatus5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_SMStatus5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_SMStatus5G");

      ret = NASEnc_TS24501Msg_SMStatus (pctxt, pvalue->data.u.obj_SMStatus5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   /* obj_ControlPlaneServReq5G */
   case T_TS24501Msgs_TS24501_IE_OBJECTSET_obj_ControlPlaneServReq5G:
      RTXCTXTPUSHELEMNAME (pctxt, "u.obj_ControlPlaneServReq5G");

      ret = NASEnc_TS24501Msg_ControlPlaneServReq (pctxt, pvalue->data.
         u.obj_ControlPlaneServReq5G);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
      break;

   default:
      ret = RTERR_INVOPT;
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eom */

   /* begin custom source file TS24501MsgEnc_PDU_eom.c */

   /* start custom code */
   /* only set MAC and encrypt if required */
   if (pvalue->m.secHdrPresent) {
      OSOCTET* msg;
      OSSIZE msgLen;
      OSRTBufSave positionAfterMsg;
      
      OSRTBUFSAVE2(pctxt, &positionAfterMsg);
   
      switch (pvalue->secHdr.secHdrType) {
      case TS24501Msg_NAS5GSecHdrType_integProtAndCipher:
      case TS24501Msg_NAS5GSecHdrType_integProtAndCipherAnd5GSecCtxt:
         /* Encrypt the message in place.
            The first 7 bytes are the security protected message fields. 
            The plain message follows that. */
         msg = pctxt->buffer.data + saveinfo.byteIndex + 7;
         msgLen = pctxt->buffer.byteIndex - saveinfo.byteIndex - 7;
   
         ret = rtx3gppCipher(pctxt, msg, msgLen);
         if (ret < 0) return LOG_RTERR (pctxt, ret);     
   
         break;
   
      default:; /* no action */
      }
   
      /* Next, compute the mac on the (possibly ciphered) plain
         message.  Integrity protection applies to everything but the first 
         6 octets. */
      msg = pctxt->buffer.data + saveinfo.byteIndex + 6;
      msgLen = pctxt->buffer.byteIndex - saveinfo.byteIndex - 6;
   
      ret = rtx3gppComputeMAC(pctxt, msg, msgLen, &pvalue->secHdr.msgAuthCode);
      if (ret < 0) return LOG_RTERR (pctxt, ret);            
   
      /* Move back to the mac field and encode it; the mac follows the 2nd 
         octet. */
      pctxt->buffer.byteIndex = saveinfo.byteIndex + 2;
      ret = rtxEncBits(pctxt, pvalue->secHdr.msgAuthCode, 32);
      if (ret < 0) return LOG_RTERR (pctxt, ret);            
      
      OSRTBUFRESTORE2(pctxt, &positionAfterMsg);
   }
   
   }  /* close brace opened by TS24301MsgEnc_PDUE_secHdr.c custom code */
   
   /* end custom code */

   /* end custom source file TS24501MsgEnc_PDU_eom.c */

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_IntraN1NASContainer (OSCTXT* pctxt
   , TS24501Msg_IntraN1NASContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IntraN1NASContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode authCode */

   RTXCTXTPUSHELEMNAME (pctxt, "authCode");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->authCode, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipherType */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherType");
   if (!(pvalue->cipherType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->cipherType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->cipherType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode integrityType */

   RTXCTXTPUSHELEMNAME (pctxt, "integrityType");
   if (!(pvalue->integrityType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->integrityType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->integrityType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode kacf */

   RTXCTXTPUSHELEMNAME (pctxt, "kacf");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->kacf);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tsc */

   RTXCTXTPUSHELEMNAME (pctxt, "tsc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->tsc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode keysetId */

   RTXCTXTPUSHELEMNAME (pctxt, "keysetId");
   if (!(pvalue->keysetId <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->keysetId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->keysetId, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode seqNumber */

   RTXCTXTPUSHELEMNAME (pctxt, "seqNumber");
   if (!(pvalue->seqNumber >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->seqNumber);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->seqNumber, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_S1ToN1NASContainer (OSCTXT* pctxt
   , TS24501Msg_S1ToN1NASContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "S1ToN1NASContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode authCode */

   RTXCTXTPUSHELEMNAME (pctxt, "authCode");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->authCode, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipherType */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherType");
   if (!(pvalue->cipherType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->cipherType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->cipherType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode integrityType */

   RTXCTXTPUSHELEMNAME (pctxt, "integrityType");
   if (!(pvalue->integrityType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->integrityType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->integrityType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ncc */

   RTXCTXTPUSHELEMNAME (pctxt, "ncc");
   if (!(pvalue->ncc <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->ncc);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->ncc, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tsc */

   RTXCTXTPUSHELEMNAME (pctxt, "tsc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->tsc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode keysetId */

   RTXCTXTPUSHELEMNAME (pctxt, "keysetId");
   if (!(pvalue->keysetId <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->keysetId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->keysetId, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->spare2, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_CIoTSmallDataContainer (OSCTXT* pctxt
   , TS24501Msg_CIoTSmallDataContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CIoTSmallDataContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");

   ret = NASEnc_TS24501Msg_CIoTDataTypes (pctxt, pvalue->dataType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode containerContents */

   RTXCTXTPUSHELEMNAME (pctxt, "containerContents");
   /* Encode choice data value */

   switch (pvalue->dataType)
   {
      /* ctrlPlaneUserData */
      case 0:
         RTXCTXTPUSHELEMNAME (pctxt, "ctrlPlaneUserData");

         /* encode ddx */

         RTXCTXTPUSHELEMNAME (pctxt, "ddx");
         if (!(pvalue->containerContents.u.ctrlPlaneUserData.ddx <= 3)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.ctrlPlaneUserData.ddx);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.ctrlPlaneUserData.ddx, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode pduSessionId */

         RTXCTXTPUSHELEMNAME (pctxt, "pduSessionId");
         if (!(pvalue->containerContents.u.ctrlPlaneUserData.pduSessionId <= 7)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.ctrlPlaneUserData.pduSessionId);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.ctrlPlaneUserData.pduSessionId, 3);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* sms */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "sms");

         /* encode spare */

         RTXCTXTPUSHELEMNAME (pctxt, "spare");
         if (!(pvalue->containerContents.u.sms.spare <= 31)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.sms.spare);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.sms.spare, 5);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* locSvcsMsgContainer */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "locSvcsMsgContainer");

         /* encode ddx */

         RTXCTXTPUSHELEMNAME (pctxt, "ddx");
         if (!(pvalue->containerContents.u.locSvcsMsgContainer.ddx <= 3)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.locSvcsMsgContainer.ddx);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.ddx, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode spare */

         RTXCTXTPUSHELEMNAME (pctxt, "spare");
         if (!(pvalue->containerContents.u.locSvcsMsgContainer.spare <= 7)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.locSvcsMsgContainer.spare);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.spare, 3);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode addlInfoLen */

         RTXCTXTPUSHELEMNAME (pctxt, "addlInfoLen");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.addlInfoLen, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode addlInfo */

         RTXCTXTPUSHELEMNAME (pctxt, "addlInfo");
         if (pvalue->containerContents.u.locSvcsMsgContainer.m.addlInfoPresent) {
            RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

            ret = rtxEncBitsFromByteArray (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.addlInfo.data, pvalue->containerContents.u.locSvcsMsgContainer.addlInfo.numocts * 8);

            RTDIAG_SETBITFLDCOUNT (pctxt);
         }
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UEParamUpdateAck (OSCTXT* pctxt
   , TS24501Msg_UEParamUpdateAck* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdateAck");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mac */

   RTXCTXTPUSHELEMNAME (pctxt, "mac");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mac, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_UEParamUpdateContainer_updateOrAck (OSCTXT* pctxt
   , TS24501Msg_UEParamUpdateContainer_updateOrAck* pvalue)
{
   int ret = 0;

   /* Encode choice selector */

   RTDIAG_NEWBITFIELD (pctxt, "choice selector");

   ret = rtxEncBits (pctxt, pvalue->t - 1, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   /* Encode choice data value */

   switch (pvalue->t)
   {
      /* update */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "update");

         ret = NASEnc_TS24501Msg_UEParamUpdate (pctxt, &pvalue->u.update);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ack */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "ack");

         ret = NASEnc_TS24501Msg_UEParamUpdateAck (pctxt, &pvalue->u.ack);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }

   return (ret);
}

/* begin custom source file TS24501MsgEnc_UEParamUpdateContainer.c */

/* Start custom code.
Handle first octet holding data for some of the cases, and use of nested
choice type.
*/
EXTERN int NASEnc_TS24501Msg_UEParamUpdateContainer (OSCTXT* pctxt,
   TS24501Msg_UEParamUpdateContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdateContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);
   
   /* encode updateOrAck */
   RTXCTXTPUSHELEMNAME (pctxt, "updateOrAck");
   
   if (pvalue->updateOrAck.t == T_UEParamUpdateContainer_updateOrAck_update)
   {
      ret = NASEnc_TS24501Msg_UEParamUpdate (pctxt, &pvalue->updateOrAck.u.update);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else if (pvalue->updateOrAck.t == T_UEParamUpdateContainer_updateOrAck_ack)
   {
      ret = NASEnc_TS24501Msg_UEParamUpdateAck (pctxt, &pvalue->updateOrAck.u.ack);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else return LOG_RTERR (pctxt, RTERR_INVOPT);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* End custom code */

/* end custom source file TS24501MsgEnc_UEParamUpdateContainer.c */

EXTERN int NASEnc_TS24501Msg_ReattemptIndicator (OSCTXT* pctxt
   , TS24501Msg_ReattemptIndicator* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReattemptIndicator");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eplmnc */

   RTXCTXTPUSHELEMNAME (pctxt, "eplmnc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eplmnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ratc */

   RTXCTXTPUSHELEMNAME (pctxt, "ratc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ratc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_SMNetworkFeatureSupport (OSCTXT* pctxt
   , TS24501Msg_SMNetworkFeatureSupport* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMNetworkFeatureSupport");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eptS1 */

   RTXCTXTPUSHELEMNAME (pctxt, "eptS1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eptS1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (pvalue->m.spare2Present) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare2.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare2.data, pvalue->spare2.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ATSSSContainer (OSCTXT* pctxt
   , TS24501Msg_ATSSSContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ATSSSContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->contents.numocts <= 65535)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->contents.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501Msg_ControlPlaneIndication (OSCTXT* pctxt
   , TS24501Msg_ControlPlaneIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ControlPlaneIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cpoi */

   RTXCTXTPUSHELEMNAME (pctxt, "cpoi");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cpoi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

