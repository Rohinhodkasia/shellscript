/**
 * This file was generated by the Objective Systems ASN1C Compiler
 * (http://www.obj-sys.com).  Version: 7.4.2.3, Date: 13-Jul-2020.
 */
#include "TS24008IES.h"
#include "rtxsrc/rtxCommon.h"
#include "rtxsrc/rtxBitEncode.h"
#include "rtxsrc/rtxIntEncode.h"
#include "rt3gppsrc/rtx3GPP.h"
#include "rt3gppsrc/rt3gppNasSec.h"
#include "rtxsrc/rtxDiagBitTrace.h"

EXTERN int NASEnc_TS24008IE_IMSI (OSCTXT* pctxt, TS24008IE_IMSI value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IMSI");

   RTDIAG_NEWBITFIELD (pctxt, "TBCDString");

   ret = rtxEncQ825TBCDString (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_IMEI (OSCTXT* pctxt, TS24008IE_IMEI value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IMEI");

   RTDIAG_NEWBITFIELD (pctxt, "TBCDString");

   ret = rtxEncQ825TBCDString (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_IMEISV (OSCTXT* pctxt, TS24008IE_IMEISV value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IMEISV");

   RTDIAG_NEWBITFIELD (pctxt, "TBCDString");

   ret = rtxEncQ825TBCDString (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TBCDString (OSCTXT* pctxt
   , TS24008IE_TBCDString value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TBCDString");

   RTDIAG_NEWBITFIELD (pctxt, "TBCDString");

   ret = rtxEncQ825TBCDString (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TBCDString3 (OSCTXT* pctxt
   , TS24008IE_TBCDString3 value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TBCDString3");

   RTDIAG_NEWBITFIELD (pctxt, "TBCDString");

   ret = rtxEncQ825TBCDString (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MCCMNCPair (OSCTXT* pctxt
   , TS24008IE_MCCMNCPair* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MCCMNCPair");

   ret = rtx3GPPEnc_MCC_MNC (pctxt, pvalue->mcc, pvalue->mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24008IESEnc_MobileIdentity.c */

/* 10.5.1.4 - Mobile Identity */

EXTERN int NASEnc_TS24008IE_MobileIdentity (OSCTXT* pctxt
   , TS24008IE_MobileIdentity* pvalue)
{
   int ret = 0;
   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity");

   /* Encode choice data value */

   switch (pvalue->t)
   {
      /* no identity */
      case T_TS24008IE_MobileIdentity_none:
      {
         int i;

         RTXCTXTPUSHELEMNAME (pctxt, "none");

         /* Encode length.  The "none" field gives us the length. */
         RTDIAG_NEWBITFIELD (pctxt, "length");

         ret = rtxEncBits (pctxt, pvalue->u.none, 8);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         /* encode identity digits of octet 3, 0 for even/odd and 0 for
            type of identity.*/
         RTDIAG_NEWBITFIELD (pctxt, "octet3");
         ret = rtxEncBits (pctxt, 0, 8);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         
         /* encode identity digits for remaining octets, if any */
         for(i = 1; i < pvalue->u.none; i++)
         {
            RTDIAG_NEWBITFIELD (pctxt, "octet4+");         
            ret = rtxEncBits (pctxt, 0, 8);
            if (0 != ret) return LOG_RTERR (pctxt, ret);            
            RTDIAG_SETBITFLDCOUNT (pctxt);
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;
      }

      /* imsi */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "imsi");

         ret = rtx3GPPEncMobileIdentityType1 
            (pctxt, (OSUINT8)pvalue->t, pvalue->u.imsi);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* imei */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "imei");

         ret = rtx3GPPEncMobileIdentityType1 
            (pctxt, (OSUINT8)pvalue->t, pvalue->u.imei);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* imeisv */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "imeisv");

         ret = rtx3GPPEncMobileIdentityType1 
            (pctxt, (OSUINT8)pvalue->t, pvalue->u.imeisv);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* tmsi */
      case 4:
         RTXCTXTPUSHELEMNAME (pctxt, "tmsi");

         /* Encode length */
         RTDIAG_NEWBITFIELD (pctxt, "length");

         ret = rtxEncBits (pctxt, 5, 8);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* Identity digit 1 is set to 0xF (1111) */
         RTDIAG_NEWBITFIELD (pctxt, "digit1");

         ret = rtxEncBits (pctxt, 0x0F, 4);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* Encode odd/even indicator */
         RTDIAG_NEWBITFIELD (pctxt, "odd");

         ret = rtxEncBit (pctxt, FALSE);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* Encode type of identity */
         RTDIAG_NEWBITFIELD (pctxt, "type");

         ret = rtxEncBits (pctxt, T_TS24008IE_MobileIdentity_tmsi, 3);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* Encode TMSI bytes */
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxWriteBytes (pctxt, pvalue->u.tmsi, 4);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* tmgi */
      case 5: {
         OSUINT8 len = 4;
         RTXCTXTPUSHELEMNAME (pctxt, "tmgi");

         /* Encode length */

         if (pvalue->u.tmgi.mbmsSessIdInd) {
            len += 1;
         }
         if (pvalue->u.tmgi.mccMncInd) {
            len += 3;
         }
         /* Encode length */
         RTDIAG_NEWBITFIELD (pctxt, "length");

         ret = rtxWriteBytes (pctxt, &len, 1);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* Encode spare bits */

         RTDIAG_NEWBITFIELD (pctxt, "spare");

         ret = rtxEncBits (pctxt, 0, 2); /* spare */
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* encode mbmsSessIdInd */

         RTXCTXTPUSHELEMNAME (pctxt, "mbmsSessIdInd");
         RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

         ret = rtxEncBit (pctxt, pvalue->u.tmgi.mbmsSessIdInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode mccMncInd */

         RTXCTXTPUSHELEMNAME (pctxt, "mccMncInd");
         RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

         ret = rtxEncBit (pctxt, pvalue->u.tmgi.mccMncInd);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode odd/even indicator */

         RTXCTXTPUSHELEMNAME (pctxt, "odd");
         RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

         ret = rtxEncBit (pctxt, FALSE);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* Encode type of identity */
         RTDIAG_NEWBITFIELD (pctxt, "type");

         ret = rtxEncBits (pctxt, T_TS24008IE_MobileIdentity_tmgi, 3);
         if (0 != ret) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         /* encode mbmsServiceID */

         RTXCTXTPUSHELEMNAME (pctxt, "mbmsServiceID");
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxWriteBytes (pctxt, pvalue->u.tmgi.mbmsServiceID, 3);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode mcc-mnc */

         RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

         ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->u.tmgi.mcc_mnc);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);

         /* encode mbmsSessionID */

         RTXCTXTPUSHELEMNAME (pctxt, "mbmsSessionID");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->u.tmgi.mbmsSessionID, 8);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;
      }

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }

   rtxCtxtPopTypeName (pctxt);

   return (ret);
}

/* end custom source file TS24008IESEnc_MobileIdentity.c */

EXTERN int NASEnc_TS24008IE_RoutingAreaIdent (OSCTXT* pctxt
   , TS24008IE_RoutingAreaIdent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RoutingAreaIdent");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lac */

   RTXCTXTPUSHELEMNAME (pctxt, "lac");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->lac, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rac */

   RTXCTXTPUSHELEMNAME (pctxt, "rac");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->rac, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TMGI (OSCTXT* pctxt, TS24008IE_TMGI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TMGI");

   /* encode mbmsServiceID */

   RTXCTXTPUSHELEMNAME (pctxt, "mbmsServiceID");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mbmsServiceID, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MobileStationClassmark1 (OSCTXT* pctxt
   , TS24008IE_MobileStationClassmark1* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileStationClassmark1");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode revLevel */

   RTXCTXTPUSHELEMNAME (pctxt, "revLevel");
   if (!(pvalue->revLevel <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->revLevel);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->revLevel, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode esInd */

   RTXCTXTPUSHELEMNAME (pctxt, "esInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->esInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5-1-alg */

   RTXCTXTPUSHELEMNAME (pctxt, "a5-1-alg");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->a5_1_alg);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rfPowerCap */

   RTXCTXTPUSHELEMNAME (pctxt, "rfPowerCap");
   if (!(pvalue->rfPowerCap <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->rfPowerCap);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->rfPowerCap, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MobileStationClassmark2_octet4 (OSCTXT* pctxt
   , TS24008IE_MobileStationClassmark2_octet4* pvalue)
{
   int ret = 0;

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psCapability */

   RTXCTXTPUSHELEMNAME (pctxt, "psCapability");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->psCapability);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ssScreeningInd */

   RTXCTXTPUSHELEMNAME (pctxt, "ssScreeningInd");
   if (!(pvalue->ssScreeningInd <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->ssScreeningInd);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->ssScreeningInd, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode smCapability */

   RTXCTXTPUSHELEMNAME (pctxt, "smCapability");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->smCapability);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode vbsNotifRecept */

   RTXCTXTPUSHELEMNAME (pctxt, "vbsNotifRecept");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->vbsNotifRecept);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode vgcsNotifRecept */

   RTXCTXTPUSHELEMNAME (pctxt, "vgcsNotifRecept");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->vgcsNotifRecept);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode fcFreqCap */

   RTXCTXTPUSHELEMNAME (pctxt, "fcFreqCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->fcFreqCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MobileStationClassmark2_octet5 (OSCTXT* pctxt
   , TS24008IE_MobileStationClassmark2_octet5* pvalue)
{
   int ret = 0;

   /* encode cm3 */

   RTXCTXTPUSHELEMNAME (pctxt, "cm3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cm3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lcsvaCap */

   RTXCTXTPUSHELEMNAME (pctxt, "lcsvaCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lcsvaCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ucs2Treatment */

   RTXCTXTPUSHELEMNAME (pctxt, "ucs2Treatment");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ucs2Treatment);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode soLSA */

   RTXCTXTPUSHELEMNAME (pctxt, "soLSA");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->soLSA);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cmsp */

   RTXCTXTPUSHELEMNAME (pctxt, "cmsp");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cmsp);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5-3-alg */

   RTXCTXTPUSHELEMNAME (pctxt, "a5-3-alg");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->a5_3_alg);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5-2-alg */

   RTXCTXTPUSHELEMNAME (pctxt, "a5-2-alg");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->a5_2_alg);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

/* begin custom source file TS24008IESEnc_MobileStationClassmark2.c */

EXTERN int NASEnc_TS24008IE_MobileStationClassmark2 (OSCTXT* pctxt
   , TS24008IE_MobileStationClassmark2* pvalue)
{
   int ret = 0;
   OSUINT8 len = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileStationClassmark2");

   if (pvalue->m.cm1Present) len++;
   if (pvalue->m.octet4Present) len++;
   if (pvalue->m.octet5Present) len++;

   /* Encode length */
   RTDIAG_NEWBITFIELD (pctxt, "length");

   ret = rtxWriteBytes (pctxt, &len, 1);
   if (0 != ret) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   /* encode cm1 */

   if (pvalue->m.cm1Present) {
      RTXCTXTPUSHELEMNAME (pctxt, "cm1");

      ret = NASEnc_TS24008IE_MobileStationClassmark1 (pctxt, &pvalue->cm1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
   }

   /* encode octet4 */

   if (pvalue->m.octet4Present) {
      RTXCTXTPUSHELEMNAME (pctxt, "octet4");

      ret = NASEnc_TS24008IE_MobileStationClassmark2_octet4 (pctxt, &pvalue->
         octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
   }

   /* encode octet5 */

   if (pvalue->m.octet5Present) {
      RTXCTXTPUSHELEMNAME (pctxt, "octet5");

      ret = NASEnc_TS24008IE_MobileStationClassmark2_octet5 (pctxt, &pvalue->
         octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* end custom source file TS24008IESEnc_MobileStationClassmark2.c */

EXTERN int NASEnc_TS24008IE_MBSEnum (OSCTXT* pctxt, TS24008IE_MBSEnum value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MBSEnum");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24008IE_MBSEnum_mbs0:
      case TS24008IE_MBSEnum_mbs1:
      case TS24008IE_MBSEnum_mbs2:
      case TS24008IE_MBSEnum_mbs4:
      case TS24008IE_MBSEnum_mbs5:
      case TS24008IE_MBSEnum_mbs6:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_A5Bits (OSCTXT* pctxt, TS24008IE_A5Bits* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "A5Bits");

   /* encode a5-7 */

   RTXCTXTPUSHELEMNAME (pctxt, "a5-7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->a5_7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5-6 */

   RTXCTXTPUSHELEMNAME (pctxt, "a5-6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->a5_6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5-5 */

   RTXCTXTPUSHELEMNAME (pctxt, "a5-5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->a5_5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5-4 */

   RTXCTXTPUSHELEMNAME (pctxt, "a5-4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->a5_4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24008IESEnc_MultibandSupported.c */

EXTERN int NASEnc_TS24008IE_MultibandSupported (OSCTXT* pctxt
   , TS24008IE_MultibandSupported* pvalue)
{
   int ret = 0;
   RTXCTXTPUSHTYPENAME (pctxt, "MultibandSupported");

   /* encode supported */

   RTXCTXTPUSHELEMNAME (pctxt, "supported");

   ret = NASEnc_TS24008IE_MBSEnum (pctxt, pvalue->supported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5bits */

   RTXCTXTPUSHELEMNAME (pctxt, "a5bits");

   ret = NASEnc_TS24008IE_A5Bits (pctxt, &pvalue->a5bits);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->supported != TS24008IE_MBSEnum_mbs0) {
      OSUINT8 value = 0;
      if (pvalue->supported == TS24008IE_MBSEnum_mbs5 ||
          pvalue->supported == TS24008IE_MBSEnum_mbs6) {
         /* set next field parameters to assocRadioCap2 */
         if (pvalue->assocRadioCap2 <= 15) {
            value = pvalue->assocRadioCap2;
            RTXCTXTPUSHELEMNAME (pctxt, "assocRadioCap2");
         }
         else {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddUIntParm (pctxt, pvalue->assocRadioCap2);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }
      }
      else {
         RTXCTXTPUSHELEMNAME (pctxt, "spare");
      }

      /* encode value (assocCap2 or spare) */

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, value, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode assocRadioCap1 */

      RTXCTXTPUSHELEMNAME (pctxt, "assocRadioCap1");

      if (pvalue->assocRadioCap1 <= 15) {
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->assocRadioCap1, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
      }
      else {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddUIntParm (pctxt, pvalue->assocRadioCap1);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTXCTXTPOPELEMNAME (pctxt);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* end custom source file TS24008IESEnc_MultibandSupported.c */

EXTERN int NASEnc_TS24008IE_RSupport (OSCTXT* pctxt, TS24008IE_RSupport value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RSupport");

   /* Encode INTEGER value */
   if (!(value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_HSCSDMultiSlotCap (OSCTXT* pctxt
   , TS24008IE_HSCSDMultiSlotCap value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "HSCSDMultiSlotCap");

   /* Encode INTEGER value */
   if (!(value <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MSMeasurementCap (OSCTXT* pctxt
   , TS24008IE_MSMeasurementCap* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MSMeasurementCap");

   /* encode smsValue */

   RTXCTXTPUSHELEMNAME (pctxt, "smsValue");
   if (!(pvalue->smsValue <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->smsValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->smsValue, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode smValue */

   RTXCTXTPUSHELEMNAME (pctxt, "smValue");
   if (!(pvalue->smValue <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->smValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->smValue, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Type8PSKStruct (OSCTXT* pctxt
   , TS24008IE_Type8PSKStruct* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Type8PSKStruct");

   /* encode modulationCap */

   RTXCTXTPUSHELEMNAME (pctxt, "modulationCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->modulationCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rfPowerCap1 */

   RTXCTXTPUSHELEMNAME (pctxt, "rfPowerCap1");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.rfPowerCap1Present));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.rfPowerCap1Present) {
      if (!(pvalue->rfPowerCap1 <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->rfPowerCap1);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->rfPowerCap1, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rfPowerCap2 */

   RTXCTXTPUSHELEMNAME (pctxt, "rfPowerCap2");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.rfPowerCap2Present));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.rfPowerCap2Present) {
      if (!(pvalue->rfPowerCap2 <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->rfPowerCap2);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->rfPowerCap2, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GSM400Struct_bandsSupported (OSCTXT* pctxt
   , TS24008IE_GSM400Struct_bandsSupported value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GSM400Struct (OSCTXT* pctxt
   , TS24008IE_GSM400Struct* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GSM400Struct");

   /* encode bandsSupported */

   RTXCTXTPUSHELEMNAME (pctxt, "bandsSupported");

   ret = NASEnc_TS24008IE_GSM400Struct_bandsSupported (pctxt, pvalue->
      bandsSupported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode assocRadioCap */

   RTXCTXTPUSHELEMNAME (pctxt, "assocRadioCap");
   if (!(pvalue->assocRadioCap <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->assocRadioCap);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->assocRadioCap, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DTMGPRSStruct (OSCTXT* pctxt
   , TS24008IE_DTMGPRSStruct* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DTMGPRSStruct");

   /* encode dtmGPRSMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmGPRSMultiSlotClass");
   if (!(pvalue->dtmGPRSMultiSlotClass <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dtmGPRSMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dtmGPRSMultiSlotClass, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode singleSlotDTM */

   RTXCTXTPUSHELEMNAME (pctxt, "singleSlotDTM");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->singleSlotDTM);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmEGPRSMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmEGPRSMultiSlotClass");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dtmEGPRSMultiSlotClassPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.dtmEGPRSMultiSlotClassPresent) {
      if (!(pvalue->dtmEGPRSMultiSlotClass <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->dtmEGPRSMultiSlotClass);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->dtmEGPRSMultiSlotClass, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MobileStationClassmark3_extDtmGPRSStruct (OSCTXT* pctxt
   , TS24008IE_MobileStationClassmark3_extDtmGPRSStruct* pvalue)
{
   int ret = 0;

   /* encode extDtmGPRSMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "extDtmGPRSMultiSlotClass");
   if (!(pvalue->extDtmGPRSMultiSlotClass <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->extDtmGPRSMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->extDtmGPRSMultiSlotClass, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extDtmEGPRSMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "extDtmEGPRSMultiSlotClass");
   if (!(pvalue->extDtmEGPRSMultiSlotClass <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->extDtmEGPRSMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->extDtmEGPRSMultiSlotClass, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GERANIuModeCap (OSCTXT* pctxt
   , TS24008IE_GERANIuModeCap* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GERANIuModeCap");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode floIuCap */

   RTXCTXTPUSHELEMNAME (pctxt, "floIuCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->floIuCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spareBits */

   RTXCTXTPUSHELEMNAME (pctxt, "spareBits");
   RTDIAG_NEWBITFIELD (pctxt, "BIT STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->spareBits.data, pvalue->spareBits.numbits);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)(endIndex - startIndex);
      rtxCtxtSetBitOffset (pctxt, startIndex - 4);
      ret = rtxMergeBits (pctxt, pvalue->length, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MobileStationClassmark3_dtmGPRSStruct2 (OSCTXT* pctxt
   , TS24008IE_MobileStationClassmark3_dtmGPRSStruct2* pvalue)
{
   int ret = 0;

   /* encode dtmGPRSHighMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmGPRSHighMultiSlotClass");
   if (!(pvalue->dtmGPRSHighMultiSlotClass <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dtmGPRSHighMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dtmGPRSHighMultiSlotClass, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode offsetRequired */

   RTXCTXTPUSHELEMNAME (pctxt, "offsetRequired");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->offsetRequired);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmEGPRSHighMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmEGPRSHighMultiSlotClass");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dtmEGPRSHighMultiSlotClassPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.dtmEGPRSHighMultiSlotClassPresent) {
      if (!(pvalue->dtmEGPRSHighMultiSlotClass <= 7)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->dtmEGPRSHighMultiSlotClass);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->dtmEGPRSHighMultiSlotClass, 3);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MobileStationClassmark3 (OSCTXT* pctxt
   , TS24008IE_MobileStationClassmark3* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileStationClassmark3");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode multiband */

   RTXCTXTPUSHELEMNAME (pctxt, "multiband");

   ret = NASEnc_TS24008IE_MultibandSupported (pctxt, &pvalue->multiband);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rSupport */

   RTXCTXTPUSHELEMNAME (pctxt, "rSupport");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.rSupportPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.rSupportPresent) {

      ret = NASEnc_TS24008IE_RSupport (pctxt, pvalue->rSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hscsdMultiSlotCap */

   RTXCTXTPUSHELEMNAME (pctxt, "hscsdMultiSlotCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.hscsdMultiSlotCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.hscsdMultiSlotCapPresent) {

      ret = NASEnc_TS24008IE_HSCSDMultiSlotCap (pctxt, pvalue->
         hscsdMultiSlotCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ucs2Treatment */

   RTXCTXTPUSHELEMNAME (pctxt, "ucs2Treatment");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ucs2Treatment);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extMeasurementCap */

   RTXCTXTPUSHELEMNAME (pctxt, "extMeasurementCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->extMeasurementCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode msMeasurementCap */

   RTXCTXTPUSHELEMNAME (pctxt, "msMeasurementCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.msMeasurementCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.msMeasurementCapPresent) {

      ret = NASEnc_TS24008IE_MSMeasurementCap (pctxt, &pvalue->msMeasurementCap
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode msPositioningMethodCap */

   RTXCTXTPUSHELEMNAME (pctxt, "msPositioningMethodCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.msPositioningMethodCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.msPositioningMethodCapPresent) {
      if (!(pvalue->msPositioningMethodCap <= 31)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->msPositioningMethodCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->msPositioningMethodCap, 5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ecsdMultiSlotCap */

   RTXCTXTPUSHELEMNAME (pctxt, "ecsdMultiSlotCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.ecsdMultiSlotCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.ecsdMultiSlotCapPresent) {
      if (!(pvalue->ecsdMultiSlotCap <= 31)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->ecsdMultiSlotCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->ecsdMultiSlotCap, 5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode an-8-PSKStruct */

   RTXCTXTPUSHELEMNAME (pctxt, "an-8-PSKStruct");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.an_8_PSKStructPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.an_8_PSKStructPresent) {

      ret = NASEnc_TS24008IE_Type8PSKStruct (pctxt, &pvalue->an_8_PSKStruct);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gsm400Struct */

   RTXCTXTPUSHELEMNAME (pctxt, "gsm400Struct");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.gsm400StructPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.gsm400StructPresent) {

      ret = NASEnc_TS24008IE_GSM400Struct (pctxt, &pvalue->gsm400Struct);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gsm850AssocRadioCap */

   RTXCTXTPUSHELEMNAME (pctxt, "gsm850AssocRadioCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.gsm850AssocRadioCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.gsm850AssocRadioCapPresent) {
      if (!(pvalue->gsm850AssocRadioCap <= 15)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->gsm850AssocRadioCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->gsm850AssocRadioCap, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gsm1900AssocRadioCap */

   RTXCTXTPUSHELEMNAME (pctxt, "gsm1900AssocRadioCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.gsm1900AssocRadioCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.gsm1900AssocRadioCapPresent) {
      if (!(pvalue->gsm1900AssocRadioCap <= 15)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->gsm1900AssocRadioCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->gsm1900AssocRadioCap, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode umtsFDDRadioAccessTechCap */

   RTXCTXTPUSHELEMNAME (pctxt, "umtsFDDRadioAccessTechCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->umtsFDDRadioAccessTechCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode umts384McpsTDDRadioAccessTechCap */

   RTXCTXTPUSHELEMNAME (pctxt, "umts384McpsTDDRadioAccessTechCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->umts384McpsTDDRadioAccessTechCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cdma2000RadioAccessTechCap */

   RTXCTXTPUSHELEMNAME (pctxt, "cdma2000RadioAccessTechCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cdma2000RadioAccessTechCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmGPRSStruct */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmGPRSStruct");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dtmGPRSStructPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.dtmGPRSStructPresent) {

      ret = NASEnc_TS24008IE_DTMGPRSStruct (pctxt, &pvalue->dtmGPRSStruct);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode singleBandSupport */

   RTXCTXTPUSHELEMNAME (pctxt, "singleBandSupport");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.singleBandSupportPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.singleBandSupportPresent) {
      if (!(pvalue->singleBandSupport <= 15)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->singleBandSupport);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->singleBandSupport, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gsm750AssocRadioCap */

   RTXCTXTPUSHELEMNAME (pctxt, "gsm750AssocRadioCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.gsm750AssocRadioCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.gsm750AssocRadioCapPresent) {
      if (!(pvalue->gsm750AssocRadioCap <= 15)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->gsm750AssocRadioCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->gsm750AssocRadioCap, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode umts1-28McpsTDDRadioAccessTechCap */

   RTXCTXTPUSHELEMNAME (pctxt, "umts1-28McpsTDDRadioAccessTechCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->umts1_28McpsTDDRadioAccessTechCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode geranFeaturePackage1 */

   RTXCTXTPUSHELEMNAME (pctxt, "geranFeaturePackage1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->geranFeaturePackage1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extDtmGPRSStruct */

   RTXCTXTPUSHELEMNAME (pctxt, "extDtmGPRSStruct");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.extDtmGPRSStructPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.extDtmGPRSStructPresent) {

      ret = NASEnc_TS24008IE_MobileStationClassmark3_extDtmGPRSStruct (pctxt, &
         pvalue->extDtmGPRSStruct);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode highMultislotCap */

   RTXCTXTPUSHELEMNAME (pctxt, "highMultislotCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.highMultislotCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.highMultislotCapPresent) {
      if (!(pvalue->highMultislotCap <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->highMultislotCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->highMultislotCap, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode geranIuModeCap */

   RTXCTXTPUSHELEMNAME (pctxt, "geranIuModeCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.geranIuModeCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.geranIuModeCapPresent) {

      ret = NASEnc_TS24008IE_GERANIuModeCap (pctxt, &pvalue->geranIuModeCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode geranFeaturePackage2 */

   RTXCTXTPUSHELEMNAME (pctxt, "geranFeaturePackage2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->geranFeaturePackage2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gmskMultislotPowerProfile */

   RTXCTXTPUSHELEMNAME (pctxt, "gmskMultislotPowerProfile");
   if (!(pvalue->gmskMultislotPowerProfile <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->gmskMultislotPowerProfile);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->gmskMultislotPowerProfile, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode multislotPowerProfile8PSK */

   RTXCTXTPUSHELEMNAME (pctxt, "multislotPowerProfile8PSK");
   if (!(pvalue->multislotPowerProfile8PSK <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->multislotPowerProfile8PSK);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->multislotPowerProfile8PSK, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tgsm400Struct */

   RTXCTXTPUSHELEMNAME (pctxt, "tgsm400Struct");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.tgsm400StructPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.tgsm400StructPresent) {

      ret = NASEnc_TS24008IE_GSM400Struct (pctxt, &pvalue->tgsm400Struct);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode zerobit */

   RTXCTXTPUSHELEMNAME (pctxt, "zerobit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->zerobit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode downlinkAdvancedRcvrPerf */

   RTXCTXTPUSHELEMNAME (pctxt, "downlinkAdvancedRcvrPerf");
   if (!(pvalue->downlinkAdvancedRcvrPerf <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->downlinkAdvancedRcvrPerf);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->downlinkAdvancedRcvrPerf, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmEnhancementsCap */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmEnhancementsCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->dtmEnhancementsCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmGPRSStruct2 */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmGPRSStruct2");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dtmGPRSStruct2Present));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.dtmGPRSStruct2Present) {

      ret = NASEnc_TS24008IE_MobileStationClassmark3_dtmGPRSStruct2 (pctxt, &
         pvalue->dtmGPRSStruct2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode repeatedACCHCap */

   RTXCTXTPUSHELEMNAME (pctxt, "repeatedACCHCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->repeatedACCHCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gsm710AssocRadioCap */

   RTXCTXTPUSHELEMNAME (pctxt, "gsm710AssocRadioCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.gsm710AssocRadioCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.gsm710AssocRadioCapPresent) {
      if (!(pvalue->gsm710AssocRadioCap <= 15)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->gsm710AssocRadioCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->gsm710AssocRadioCap, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tgsm810AssocRadioCap */

   RTXCTXTPUSHELEMNAME (pctxt, "tgsm810AssocRadioCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.tgsm810AssocRadioCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.tgsm810AssocRadioCapPresent) {
      if (!(pvalue->tgsm810AssocRadioCap <= 15)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->tgsm810AssocRadioCap);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->tgsm810AssocRadioCap, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipheringModeSettingCap */

   RTXCTXTPUSHELEMNAME (pctxt, "cipheringModeSettingCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cipheringModeSettingCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode additionalPositioningCap */

   RTXCTXTPUSHELEMNAME (pctxt, "additionalPositioningCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->additionalPositioningCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode e-UTRA-FDD-support */

   RTXCTXTPUSHELEMNAME (pctxt, "e-UTRA-FDD-support");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->e_UTRA_FDD_support);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode e-UTRA-TDD-support */

   RTXCTXTPUSHELEMNAME (pctxt, "e-UTRA-TDD-support");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->e_UTRA_TDD_support);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode e-UTRA-MeasAndReportSupport */

   RTXCTXTPUSHELEMNAME (pctxt, "e-UTRA-MeasAndReportSupport");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->e_UTRA_MeasAndReportSupport);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode priorityBasedReselectionSupport */

   RTXCTXTPUSHELEMNAME (pctxt, "priorityBasedReselectionSupport");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->priorityBasedReselectionSupport);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v9ExtPresent) {
      /* encode uTRA-CSG-Cells-Reporting */

      RTXCTXTPUSHELEMNAME (pctxt, "uTRA-CSG-Cells-Reporting");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->uTRA_CSG_Cells_Reporting);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode vAMOS-Level */

      RTXCTXTPUSHELEMNAME (pctxt, "vAMOS-Level");
      if (!(pvalue->vAMOS_Level <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->vAMOS_Level);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->vAMOS_Level, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v10ExtPresent) {
      /* encode tighterCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "tighterCapability");
      if (!(pvalue->tighterCapability <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->tighterCapability);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->tighterCapability, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode selCiphOf-DL-SACCH */

      RTXCTXTPUSHELEMNAME (pctxt, "selCiphOf-DL-SACCH");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->selCiphOf_DL_SACCH);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v11ExtPresent) {
      /* encode csToPsFromGeranToUtra */

      RTXCTXTPUSHELEMNAME (pctxt, "csToPsFromGeranToUtra");
      if (!(pvalue->csToPsFromGeranToUtra <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->csToPsFromGeranToUtra);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->csToPsFromGeranToUtra, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode csToPsFromGeranToEUtra */

      RTXCTXTPUSHELEMNAME (pctxt, "csToPsFromGeranToEUtra");
      if (!(pvalue->csToPsFromGeranToEUtra <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->csToPsFromGeranToEUtra);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->csToPsFromGeranToEUtra, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode geranNetShareSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "geranNetShareSupport");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->geranNetShareSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode eutraWideRsrqSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "eutraWideRsrqSupport");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->eutraWideRsrqSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v12ExtPresent) {
      /* encode erBandSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "erBandSupport");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->erBandSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode utraMultFreqBandSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "utraMultFreqBandSupport");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->utraMultFreqBandSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode eutraMultFreqBandSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "eutraMultFreqBandSupport");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->eutraMultFreqBandSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extTscSetCapSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "extTscSetCapSupport");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->extTscSetCapSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extEarfcnValRange */

      RTXCTXTPUSHELEMNAME (pctxt, "extEarfcnValRange");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->extEarfcnValRange);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   /* encode spareBits */

   RTXCTXTPUSHELEMNAME (pctxt, "spareBits");
   RTDIAG_NEWBITFIELD (pctxt, "BIT STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->spareBits.data, pvalue->spareBits.numbits);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length <= 32)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   rtxByteAlign (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DescrGroupOrBcastCallRef (OSCTXT* pctxt
   , TS24008IE_DescrGroupOrBcastCallRef* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DescrGroupOrBcastCallRef");

   /* encode bc */

   RTXCTXTPUSHELEMNAME (pctxt, "bc");
   if (!(pvalue->bc <= 134217727)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddUIntParm (pctxt, pvalue->bc);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->bc, 27);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sf */

   RTXCTXTPUSHELEMNAME (pctxt, "sf");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->sf);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode af */

   RTXCTXTPUSHELEMNAME (pctxt, "af");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->af);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode callPriority */

   RTXCTXTPUSHELEMNAME (pctxt, "callPriority");
   if (!(pvalue->callPriority <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->callPriority);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->callPriority, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipheringInformation */

   RTXCTXTPUSHELEMNAME (pctxt, "cipheringInformation");
   if (!(pvalue->cipheringInformation <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->cipheringInformation);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->cipheringInformation, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AddnUpdateParams (OSCTXT* pctxt
   , TS24008IE_AddnUpdateParams* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddnUpdateParams");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode drvcc */

   RTXCTXTPUSHELEMNAME (pctxt, "drvcc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->drvcc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cmso */

   RTXCTXTPUSHELEMNAME (pctxt, "cmso");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cmso);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cmst */

   RTXCTXTPUSHELEMNAME (pctxt, "cmst");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cmst);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CiphKeySeqNum (OSCTXT* pctxt
   , TS24008IE_CiphKeySeqNum* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CiphKeySeqNum");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CellIdentityValue (OSCTXT* pctxt
   , TS24008IE_CellIdentityValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CellIdentityValue");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_LocAreaIdent (OSCTXT* pctxt
   , TS24008IE_LocAreaIdent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LocAreaIdent");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lac */

   RTXCTXTPUSHELEMNAME (pctxt, "lac");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->lac, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GSMString (OSCTXT* pctxt, TS24008IE_GSMString value
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GSMString");

   RTDIAG_NEWBITFIELD (pctxt, "GSMString");

   ret = rtx3GPPEncGSMCharStr (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GroupCipherKeyNumber (OSCTXT* pctxt
   , TS24008IE_GroupCipherKeyNumber value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GroupCipherKeyNumber");

   /* Encode INTEGER value */
   if (!(value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CNCommonGSM_MAPNASSystemInformation (OSCTXT* pctxt
   , TS24008IE_CNCommonGSM_MAPNASSystemInformation value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CNCommonGSM-MAPNASSystemInformation");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AuthParamRAND (OSCTXT* pctxt
   , TS24008IE_AuthParamRAND* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthParamRAND");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AuthRespParam (OSCTXT* pctxt
   , TS24008IE_AuthRespParam* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthRespParam");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AuthRespParamExt (OSCTXT* pctxt
   , TS24008IE_AuthRespParamExt* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthRespParamExt");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->numocts >= 1 && pvalue->numocts <= 12))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CMServiceType (OSCTXT* pctxt
   , TS24008IE_CMServiceType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CMServiceType");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24008IE_CMServiceType_mobOrigCallEstab:
      case TS24008IE_CMServiceType_emerCallEstab:
      case TS24008IE_CMServiceType_sms:
      case TS24008IE_CMServiceType_suplSvcActv:
      case TS24008IE_CMServiceType_voiceGrpCallEstab:
      case TS24008IE_CMServiceType_voiceBcastCallEstab:
      case TS24008IE_CMServiceType_locationSvcs:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RejectCauseValue (OSCTXT* pctxt
   , TS24008IE_RejectCauseValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RejectCauseValue");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24008IE_RejectCauseValue_imsiUnkInHLR:
      case TS24008IE_RejectCauseValue_illegalMS:
      case TS24008IE_RejectCauseValue_imsiUnkInVLR:
      case TS24008IE_RejectCauseValue_imeiNotAcc:
      case TS24008IE_RejectCauseValue_illegalME:
      case TS24008IE_RejectCauseValue_plmnNotAllow:
      case TS24008IE_RejectCauseValue_locNotAllow:
      case TS24008IE_RejectCauseValue_roamNotAllow:
      case TS24008IE_RejectCauseValue_noCellsInLoc:
      case TS24008IE_RejectCauseValue_networkFail:
      case TS24008IE_RejectCauseValue_macFail:
      case TS24008IE_RejectCauseValue_synchFail:
      case TS24008IE_RejectCauseValue_congestion:
      case TS24008IE_RejectCauseValue_gsmAuthUnaccept:
      case TS24008IE_RejectCauseValue_csgNotAuth:
      case TS24008IE_RejectCauseValue_svcOptNotSupp:
      case TS24008IE_RejectCauseValue_notSubscribed:
      case TS24008IE_RejectCauseValue_outOfOrder:
      case TS24008IE_RejectCauseValue_callNotIdent:
      case TS24008IE_RejectCauseValue_semIncorrectMsg:
      case TS24008IE_RejectCauseValue_invMandInfo:
      case TS24008IE_RejectCauseValue_msgTypeNotExist:
      case TS24008IE_RejectCauseValue_msgTypeNotCompat:
      case TS24008IE_RejectCauseValue_ieNotExist:
      case TS24008IE_RejectCauseValue_condIEErr:
      case TS24008IE_RejectCauseValue_msgNotCompat:
      case TS24008IE_RejectCauseValue_protocolErr:
      case TS24008IE_RejectCauseValue_rejectCauseValueMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TimeZone (OSCTXT* pctxt, TS24008IE_TimeZone value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TimeZone");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_LSAIdentifier (OSCTXT* pctxt
   , TS24008IE_LSAIdentifier* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LSAIdentifier");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->numocts == 0 || pvalue->numocts == 3))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_LockingShiftCodesetID (OSCTXT* pctxt
   , TS24008IE_LockingShiftCodesetID value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LockingShiftCodesetID");

   /* Encode INTEGER value */
   if (!(value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NonLockingShiftCodesetID (OSCTXT* pctxt
   , TS24008IE_NonLockingShiftCodesetID value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NonLockingShiftCodesetID");

   /* Encode INTEGER value */
   if (!(value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_InfoXferCap (OSCTXT* pctxt
   , TS24008IE_InfoXferCap value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "InfoXferCap");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24008IE_InfoXferCap_speech:
      case TS24008IE_InfoXferCap_digital:
      case TS24008IE_InfoXferCap_audio:
      case TS24008IE_InfoXferCap_fax:
      case TS24008IE_InfoXferCap_otherITC:
      case TS24008IE_InfoXferCap_reserved:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CodingStandard (OSCTXT* pctxt
   , TS24008IE_CodingStandard value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CodingStandard");

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Location (OSCTXT* pctxt, TS24008IE_Location value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Location");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24008IE_Location_user:
      case TS24008IE_Location_prvNWServLclUser:
      case TS24008IE_Location_pubNWServLclUser:
      case TS24008IE_Location_transit:
      case TS24008IE_Location_pubNWServRemUser:
      case TS24008IE_Location_prvNWServRemUser:
      case TS24008IE_Location_intlNetwork:
      case TS24008IE_Location_netBeyondIntworkPt:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CongestionLevel (OSCTXT* pctxt
   , TS24008IE_CongestionLevel value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CongestionLevel");

   /* Encode INTEGER value */
   if (!(value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CallingPartyBCDNumber_octet3 (OSCTXT* pctxt
   , TS24008IE_CallingPartyBCDNumber_octet3* pvalue)
{
   int ret = 0;

   /* encode typeOfNumber */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfNumber");
   if (!(pvalue->typeOfNumber <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->typeOfNumber);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->typeOfNumber, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numberingPlanID */

   RTXCTXTPUSHELEMNAME (pctxt, "numberingPlanID");
   if (!(pvalue->numberingPlanID <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numberingPlanID);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numberingPlanID, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CallingPartyBCDNumber_octet3a (OSCTXT* pctxt
   , TS24008IE_CallingPartyBCDNumber_octet3a* pvalue)
{
   int ret = 0;

   /* encode presentationIndicator */

   RTXCTXTPUSHELEMNAME (pctxt, "presentationIndicator");
   if (!(pvalue->presentationIndicator <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->presentationIndicator);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->presentationIndicator, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode screeningIndicator */

   RTXCTXTPUSHELEMNAME (pctxt, "screeningIndicator");
   if (!(pvalue->screeningIndicator <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->screeningIndicator);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->screeningIndicator, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CallingPartyBCDNumber (OSCTXT* pctxt
   , TS24008IE_CallingPartyBCDNumber* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CallingPartyBCDNumber");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   ext = pvalue->m.octet3aPresent ? 0 : 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_CallingPartyBCDNumber_octet3 (pctxt, &pvalue->octet3
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3a */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3a");
   if (ext==0)  {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_CallingPartyBCDNumber_octet3a (pctxt, &pvalue->
         octet3a);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode number */

   RTXCTXTPUSHELEMNAME (pctxt, "number");

   ret = NASEnc_TS24008IE_TBCDString (pctxt, pvalue->number);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ConnectedNumber (OSCTXT* pctxt
   , TS24008IE_ConnectedNumber* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ConnectedNumber");

   ret = NASEnc_TS24008IE_CallingPartyBCDNumber (pctxt, pvalue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PartySubaddress_octet3 (OSCTXT* pctxt
   , TS24008IE_PartySubaddress_octet3* pvalue)
{
   int ret = 0;

   /* encode typeOfSubaddr */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfSubaddr");
   if (!(pvalue->typeOfSubaddr <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->typeOfSubaddr);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->typeOfSubaddr, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode oddEvenIndicator */

   RTXCTXTPUSHELEMNAME (pctxt, "oddEvenIndicator");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->oddEvenIndicator);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PartySubaddress (OSCTXT* pctxt
   , TS24008IE_PartySubaddress* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PartySubaddress");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   if (pvalue->m.octet3Present) {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_PartySubaddress_octet3 (pctxt, &pvalue->octet3);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode subaddrInfo */

   RTXCTXTPUSHELEMNAME (pctxt, "subaddrInfo");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->subaddrInfo.numocts <= 20)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->subaddrInfo.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->subaddrInfo.data, pvalue->subaddrInfo.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ConnectedSubaddress (OSCTXT* pctxt
   , TS24008IE_ConnectedSubaddress* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ConnectedSubaddress");

   ret = NASEnc_TS24008IE_PartySubaddress (pctxt, pvalue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Facility (OSCTXT* pctxt, TS24008IE_Facility value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Facility");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_LowLayerCompatibility (OSCTXT* pctxt
   , TS24008IE_LowLayerCompatibility* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LowLayerCompatibility");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->numocts <= 16)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RedirectingPartyBCDNumber (OSCTXT* pctxt
   , TS24008IE_RedirectingPartyBCDNumber* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RedirectingPartyBCDNumber");

   ret = NASEnc_TS24008IE_CallingPartyBCDNumber (pctxt, pvalue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RedirectingPartySubaddress (OSCTXT* pctxt
   , TS24008IE_RedirectingPartySubaddress* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RedirectingPartySubaddress");

   ret = NASEnc_TS24008IE_ConnectedSubaddress (pctxt, pvalue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RepeatIndicator (OSCTXT* pctxt
   , TS24008IE_RepeatIndicator value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RepeatIndicator");

   /* Encode INTEGER value */
   if (!(value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Setup_Container (OSCTXT* pctxt
   , TS24008IE_Setup_Container value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Setup-Container");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Signal (OSCTXT* pctxt, TS24008IE_Signal value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Signal");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_SSVersionIndicator (OSCTXT* pctxt
   , TS24008IE_SSVersionIndicator value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SSVersionIndicator");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_IdentityTypeValue_typeOfIdent (OSCTXT* pctxt
   , TS24008IE_IdentityTypeValue_typeOfIdent value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 6) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_IdentityTypeValue (OSCTXT* pctxt
   , TS24008IE_IdentityTypeValue* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IdentityTypeValue");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfIdent");

   ret = NASEnc_TS24008IE_IdentityTypeValue_typeOfIdent (pctxt, pvalue->
      typeOfIdent);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_IdentityType2Value (OSCTXT* pctxt
   , TS24008IE_IdentityType2Value* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IdentityType2Value");

   ret = NASEnc_TS24008IE_IdentityTypeValue (pctxt, pvalue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DLMCNonContigIntraBandRecep (OSCTXT* pctxt
   , TS24008IE_DLMCNonContigIntraBandRecep value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DLMCNonContigIntraBandRecep");

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GMMCauseValue (OSCTXT* pctxt
   , TS24008IE_GMMCauseValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GMMCauseValue");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AC_Reference_Number (OSCTXT* pctxt
   , TS24008IE_AC_Reference_Number value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AC-Reference-Number");

   /* Encode INTEGER value */
   if (!(value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_InterRATInfoContainer (OSCTXT* pctxt
   , TS24008IE_InterRATInfoContainer* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "InterRATInfoContainer");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->numocts >= 1 && pvalue->numocts <= 248))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_UENetCapability (OSCTXT* pctxt
   , TS24008IE_UENetCapability* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UENetCapability");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->numocts >= 2 && pvalue->numocts <= 5))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_E_UTRANInterRATInfoContainer (OSCTXT* pctxt
   , TS24008IE_E_UTRANInterRATInfoContainer value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "E-UTRANInterRATInfoContainer");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MsgAuthCode (OSCTXT* pctxt
   , TS24008IE_MsgAuthCode value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MsgAuthCode");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DcnID (OSCTXT* pctxt, TS24008IE_DcnID* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DcnID");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24008IESEnc_AccessPointName.c */

EXTERN int NASEnc_TS24008IE_AccessPointName (OSCTXT* pctxt
   , TS24008IE_AccessPointName value)
{
   int ret = 0;
   OSUINT8 i, j, len = (OSUINT8) OSCRTLSTRLEN(value) + 1;
   const char* sp;

   if (len > 100) {
      rtxErrAddStrParm (pctxt, "AccessPointName.length");
      rtxErrAddIntParm (pctxt, len);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }
   RTXCTXTPUSHTYPENAME (pctxt, "AccessPointName");

   /* Encode length */
   RTDIAG_NEWBITFIELD (pctxt, "length");

   ret = rtxWriteBytes (pctxt, &len, 1);
   if (0 != ret) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   /* Encode segments */
   for (i = 0; value[i] != '\0';) {
      /* scan for . or end of string */
      sp = &value[i];
      for (j = 0; value[i] != '.' && value[i] != '\0'; j++) i++;
      if (value[i] == '.') i++;

      /* encode segment length */
      RTDIAG_NEWBITFIELD (pctxt, "segment length");

      ret = rtxWriteBytes (pctxt, &j, 1);
      if (0 != ret) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTDIAG_NEWBITFIELD (pctxt, "IA5String");

      ret = rtxWriteBytes (pctxt, (OSOCTET*)sp, j);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* end custom source file TS24008IESEnc_AccessPointName.c */

EXTERN int NASEnc_TS24008IE_SMCauseValue (OSCTXT* pctxt
   , TS24008IE_SMCauseValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMCauseValue");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_SMCause2Value (OSCTXT* pctxt
   , TS24008IE_SMCause2Value value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMCause2Value");

   ret = NASEnc_TS24008IE_SMCauseValue (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MBMS_PCO (OSCTXT* pctxt, TS24008IE_MBMS_PCO value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MBMS-PCO");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_EnhancedNSAPIValue (OSCTXT* pctxt
   , TS24008IE_EnhancedNSAPIValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EnhancedNSAPIValue");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_SM_NotificationIndicator (OSCTXT* pctxt
   , TS24008IE_SM_NotificationIndicator* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SM-NotificationIndicator");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ConnectivityType (OSCTXT* pctxt
   , TS24008IE_ConnectivityType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ConnectivityType");

   /* Encode INTEGER value */
   if (!(value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NBIFOMContainer (OSCTXT* pctxt
   , TS24008IE_NBIFOMContainer value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NBIFOMContainer");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RadioPriorityValue (OSCTXT* pctxt
   , TS24008IE_RadioPriorityValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RadioPriorityValue");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24008IE_RadioPriorityValue_priorityLevel1:
      case TS24008IE_RadioPriorityValue_priorityLevel2:
      case TS24008IE_RadioPriorityValue_priorityLevel3:
      case TS24008IE_RadioPriorityValue_priorityLevel4:
      case TS24008IE_RadioPriorityValue_radioPriorityValueMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RadioPriorityValue2 (OSCTXT* pctxt
   , TS24008IE_RadioPriorityValue2 value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RadioPriorityValue2");

   ret = NASEnc_TS24008IE_RadioPriorityValue (pctxt, value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MBMSContextStatus (OSCTXT* pctxt
   , TS24008IE_MBMSContextStatus* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MBMSContextStatus");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->numocts <= 16)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_LocationUpdatingType_lut (OSCTXT* pctxt
   , TS24008IE_LocationUpdatingType_lut value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NetworkName_codingScheme (OSCTXT* pctxt
   , TS24008IE_NetworkName_codingScheme value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24008IE_NetworkName_codingScheme_callBcastData:
      case TS24008IE_NetworkName_codingScheme_ucs2:
      case TS24008IE_NetworkName_codingScheme_codingSchemeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DaylightSavingTime_dst (OSCTXT* pctxt
   , TS24008IE_DaylightSavingTime_dst value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_SupportedCodec_codecBitmap (OSCTXT* pctxt
   , TS24008IE_SupportedCodec_codecBitmap* pvalue)
{
   int ret = 0;

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->numocts >= 1 && pvalue->numocts <= 2))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AccessCapability_ec_pchMonSupp (OSCTXT* pctxt
   , TS24008IE_AccessCapability_ec_pchMonSupp value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DLMCCapability_maxBandwidth (OSCTXT* pctxt
   , TS24008IE_DLMCCapability_maxBandwidth value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_VoiceDomainPref_enumValue (OSCTXT* pctxt
   , TS24008IE_VoiceDomainPref_enumValue value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TFTOctet1_tftOperationCode (OSCTXT* pctxt
   , TS24008IE_TFTOctet1_tftOperationCode value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 7) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GPRSTimer3_unit (OSCTXT* pctxt
   , TS24008IE_GPRSTimer3_unit value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 8) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PDAndSAPI (OSCTXT* pctxt
   , TS24008IE_PDAndSAPI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDAndSAPI");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sapi */

   RTXCTXTPUSHELEMNAME (pctxt, "sapi");
   if (!(pvalue->sapi <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->sapi);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->sapi, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pd */

   RTXCTXTPUSHELEMNAME (pctxt, "pd");
   if (!(pvalue->pd <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->pd);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->pd, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PriorityLevel (OSCTXT* pctxt
   , TS24008IE_PriorityLevel* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PriorityLevel");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode callPriority */

   RTXCTXTPUSHELEMNAME (pctxt, "callPriority");
   if (!(pvalue->callPriority <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->callPriority);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->callPriority, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CSDomainSpecificSystemInformation (OSCTXT* pctxt
   , TS24008IE_CSDomainSpecificSystemInformation* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CSDomainSpecificSystemInformation");

   /* encode t3212 */

   RTXCTXTPUSHELEMNAME (pctxt, "t3212");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->t3212, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode att */

   RTXCTXTPUSHELEMNAME (pctxt, "att");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->att);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PSDomainSpecificSystemInformation (OSCTXT* pctxt
   , TS24008IE_PSDomainSpecificSystemInformation* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PSDomainSpecificSystemInformation");

   /* encode rac */

   RTXCTXTPUSHELEMNAME (pctxt, "rac");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->rac, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nmo1 */

   RTXCTXTPUSHELEMNAME (pctxt, "nmo1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nmo1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nmo */

   RTXCTXTPUSHELEMNAME (pctxt, "nmo");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nmo);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24008IESEnc_PLMNList.c */

EXTERN int NASEnc_TS24008IE_PLMNList (OSCTXT* pctxt, TS24008IE_PLMNList* pvalue
   )
{
   OSUINT8 i, length = pvalue->n * 3;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PLMNList");

   if (!((pvalue->n >= 1 && pvalue->n <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->n);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   /* encode length */
   RTDIAG_NEWBITFIELD (pctxt, "length");

   ret = rtxWriteBytes (pctxt, &length, 1);
   if (0 != ret) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   /* encode data */
   for (i = 0; i < pvalue->n; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

      ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* end custom source file TS24008IESEnc_PLMNList.c */

EXTERN int NASEnc_TS24008IE_NASContainerForPSHO (OSCTXT* pctxt
   , TS24008IE_NASContainerForPSHO* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NASContainerForPSHO");

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode xid */

   RTXCTXTPUSHELEMNAME (pctxt, "xid");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->xid);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeCiphAlgorithm */

   RTXCTXTPUSHELEMNAME (pctxt, "typeCiphAlgorithm");
   if (!(pvalue->typeCiphAlgorithm <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->typeCiphAlgorithm);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->typeCiphAlgorithm, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode valueIOV-UI */

   RTXCTXTPUSHELEMNAME (pctxt, "valueIOV-UI");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->valueIOV_UI, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MSNetFeatureSupport (OSCTXT* pctxt
   , TS24008IE_MSNetFeatureSupport* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MSNetFeatureSupport");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extPeriodTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "extPeriodTimer");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->extPeriodTimer);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AuthParamAUTN (OSCTXT* pctxt
   , TS24008IE_AuthParamAUTN* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthParamAUTN");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode autn */

   RTXCTXTPUSHELEMNAME (pctxt, "autn");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->autn, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AuthFailureParam (OSCTXT* pctxt
   , TS24008IE_AuthFailureParam* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuthFailureParam");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode param */

   RTXCTXTPUSHELEMNAME (pctxt, "param");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->param, 112);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_LocationUpdatingType (OSCTXT* pctxt
   , TS24008IE_LocationUpdatingType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LocationUpdatingType");

   /* encode for */

   RTXCTXTPUSHELEMNAME (pctxt, "for");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->for_);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lut */

   RTXCTXTPUSHELEMNAME (pctxt, "lut");

   ret = NASEnc_TS24008IE_LocationUpdatingType_lut (pctxt, pvalue->lut);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NetworkName (OSCTXT* pctxt
   , TS24008IE_NetworkName* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetworkName");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ext */

   RTXCTXTPUSHELEMNAME (pctxt, "ext");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ext);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode codingScheme */

   RTXCTXTPUSHELEMNAME (pctxt, "codingScheme");

   ret = NASEnc_TS24008IE_NetworkName_codingScheme (pctxt, pvalue->codingScheme
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addCI */

   RTXCTXTPUSHELEMNAME (pctxt, "addCI");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->addCI);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numSpareBitsInLastOct */

   RTXCTXTPUSHELEMNAME (pctxt, "numSpareBitsInLastOct");
   if (!(pvalue->numSpareBitsInLastOct <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numSpareBitsInLastOct);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numSpareBitsInLastOct, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode textString */

   RTXCTXTPUSHELEMNAME (pctxt, "textString");
   /* Encode choice data value */

   switch (pvalue->codingScheme)
   {
      /* callBcastData */
      case 0:
         RTXCTXTPUSHELEMNAME (pctxt, "callBcastData");

         ret = NASEnc_TS24008IE_GSMString (pctxt, pvalue->textString.
            u.callBcastData);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ucs2 */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "ucs2");

         {
            OSSIZE i;
            OSOCTET lbuf[2];
            for (i = 0; i < pvalue->textString.u.ucs2.nchars; i++) {
               lbuf[0] = (OSOCTET)pvalue->textString.u.ucs2.data[i] / 256;
               lbuf[1] = (OSOCTET)pvalue->textString.u.ucs2.data[i] % 256;

               ret = rtxEncBitsFromByteArray (pctxt, lbuf, 16);
               if (ret < 0) return LOG_RTERR (pctxt, ret);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TimeZoneAndTime (OSCTXT* pctxt
   , TS24008IE_TimeZoneAndTime* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TimeZoneAndTime");

   /* encode year */

   RTXCTXTPUSHELEMNAME (pctxt, "year");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->year, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode month */

   RTXCTXTPUSHELEMNAME (pctxt, "month");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->month, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode day */

   RTXCTXTPUSHELEMNAME (pctxt, "day");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->day, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hour */

   RTXCTXTPUSHELEMNAME (pctxt, "hour");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->hour, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode minute */

   RTXCTXTPUSHELEMNAME (pctxt, "minute");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->minute, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode second */

   RTXCTXTPUSHELEMNAME (pctxt, "second");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->second, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode timezone */

   RTXCTXTPUSHELEMNAME (pctxt, "timezone");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->timezone, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DaylightSavingTime (OSCTXT* pctxt
   , TS24008IE_DaylightSavingTime* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DaylightSavingTime");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dst */

   RTXCTXTPUSHELEMNAME (pctxt, "dst");

   ret = NASEnc_TS24008IE_DaylightSavingTime_dst (pctxt, pvalue->dst);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_EmergencyNumber (OSCTXT* pctxt
   , TS24008IE_EmergencyNumber* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EmergencyNumber");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode catValue */

   RTXCTXTPUSHELEMNAME (pctxt, "catValue");
   if (!(pvalue->catValue <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->catValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->catValue, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode digits */

   RTXCTXTPUSHELEMNAME (pctxt, "digits");

   ret = NASEnc_TS24008IE_TBCDString (pctxt, pvalue->digits);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_EmergencyNumberList (OSCTXT* pctxt
   , TS24008IE_EmergencyNumberList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EmergencyNumberList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numbers */

   RTXCTXTPUSHELEMNAME (pctxt, "numbers");
   {
      OSUINT8 i;
      if (!((pvalue->numbers.n >= 1 && pvalue->numbers.n <= 10))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->numbers.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->numbers.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24008IE_EmergencyNumber (pctxt, &pvalue->numbers.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MMTimer (OSCTXT* pctxt, TS24008IE_MMTimer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MMTimer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AuxiliaryStates (OSCTXT* pctxt
   , TS24008IE_AuxiliaryStates* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AuxiliaryStates");

   /* encode ext */

   RTXCTXTPUSHELEMNAME (pctxt, "ext");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ext);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode holdAuxState */

   RTXCTXTPUSHELEMNAME (pctxt, "holdAuxState");
   if (!(pvalue->holdAuxState <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->holdAuxState);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->holdAuxState, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode multiPartyAuxState */

   RTXCTXTPUSHELEMNAME (pctxt, "multiPartyAuxState");
   if (!(pvalue->multiPartyAuxState <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->multiPartyAuxState);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->multiPartyAuxState, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet3 (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet3* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet3");

   /* encode radioChannelRequirement */

   RTXCTXTPUSHELEMNAME (pctxt, "radioChannelRequirement");
   if (!(pvalue->radioChannelRequirement <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->radioChannelRequirement);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->radioChannelRequirement, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nonstandardCoding */

   RTXCTXTPUSHELEMNAME (pctxt, "nonstandardCoding");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nonstandardCoding);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode packetXferMode */

   RTXCTXTPUSHELEMNAME (pctxt, "packetXferMode");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->packetXferMode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode infoXferCap */

   RTXCTXTPUSHELEMNAME (pctxt, "infoXferCap");

   ret = NASEnc_TS24008IE_InfoXferCap (pctxt, pvalue->infoXferCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet4 (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet4* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet4");

   /* encode compression */

   RTXCTXTPUSHELEMNAME (pctxt, "compression");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->compression);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode structure */

   RTXCTXTPUSHELEMNAME (pctxt, "structure");
   if (!(pvalue->structure <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->structure);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->structure, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode fullDuplexMode */

   RTXCTXTPUSHELEMNAME (pctxt, "fullDuplexMode");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->fullDuplexMode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode configuration */

   RTXCTXTPUSHELEMNAME (pctxt, "configuration");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->configuration);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nirr */

   RTXCTXTPUSHELEMNAME (pctxt, "nirr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nirr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode establishment */

   RTXCTXTPUSHELEMNAME (pctxt, "establishment");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->establishment);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet5 (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet5* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet5");

   /* encode accessIdentity */

   RTXCTXTPUSHELEMNAME (pctxt, "accessIdentity");
   if (!(pvalue->accessIdentity <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->accessIdentity);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->accessIdentity, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rateAdaption */

   RTXCTXTPUSHELEMNAME (pctxt, "rateAdaption");
   if (!(pvalue->rateAdaption <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->rateAdaption);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->rateAdaption, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode signallingAccessProtocol */

   RTXCTXTPUSHELEMNAME (pctxt, "signallingAccessProtocol");
   if (!(pvalue->signallingAccessProtocol <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->signallingAccessProtocol);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->signallingAccessProtocol, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet5a (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet5a* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet5a");

   /* encode otherITC */

   RTXCTXTPUSHELEMNAME (pctxt, "otherITC");
   if (!(pvalue->otherITC <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->otherITC);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->otherITC, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode otherRateAdaption */

   RTXCTXTPUSHELEMNAME (pctxt, "otherRateAdaption");
   if (!(pvalue->otherRateAdaption <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->otherRateAdaption);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->otherRateAdaption, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6 (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6");

   /* encode layer1Identity */

   RTXCTXTPUSHELEMNAME (pctxt, "layer1Identity");
   if (!(pvalue->layer1Identity <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->layer1Identity);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->layer1Identity, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode userInfoLayer1Protocol */

   RTXCTXTPUSHELEMNAME (pctxt, "userInfoLayer1Protocol");
   if (!(pvalue->userInfoLayer1Protocol <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->userInfoLayer1Protocol);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->userInfoLayer1Protocol, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode asynchronous */

   RTXCTXTPUSHELEMNAME (pctxt, "asynchronous");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->asynchronous);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6a (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6a* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6a");

   /* encode twoStopBits */

   RTXCTXTPUSHELEMNAME (pctxt, "twoStopBits");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->twoStopBits);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode negotiation */

   RTXCTXTPUSHELEMNAME (pctxt, "negotiation");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->negotiation);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode data8bits */

   RTXCTXTPUSHELEMNAME (pctxt, "data8bits");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->data8bits);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode userRate */

   RTXCTXTPUSHELEMNAME (pctxt, "userRate");
   if (!(pvalue->userRate <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->userRate);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->userRate, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6b (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6b* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6b");

   /* encode intermediateRate */

   RTXCTXTPUSHELEMNAME (pctxt, "intermediateRate");
   if (!(pvalue->intermediateRate <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->intermediateRate);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->intermediateRate, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nicOnTX */

   RTXCTXTPUSHELEMNAME (pctxt, "nicOnTX");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nicOnTX);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nicOnRX */

   RTXCTXTPUSHELEMNAME (pctxt, "nicOnRX");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nicOnRX);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode parity */

   RTXCTXTPUSHELEMNAME (pctxt, "parity");
   if (!(pvalue->parity <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->parity);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->parity, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6c (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6c* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6c");

   /* encode connectionElement */

   RTXCTXTPUSHELEMNAME (pctxt, "connectionElement");
   if (!(pvalue->connectionElement <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->connectionElement);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->connectionElement, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode modemType */

   RTXCTXTPUSHELEMNAME (pctxt, "modemType");
   if (!(pvalue->modemType <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->modemType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->modemType, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6d (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6d* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6d");

   /* encode otherModemType */

   RTXCTXTPUSHELEMNAME (pctxt, "otherModemType");
   if (!(pvalue->otherModemType <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->otherModemType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->otherModemType, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode fixedNetworkUserRate */

   RTXCTXTPUSHELEMNAME (pctxt, "fixedNetworkUserRate");
   if (!(pvalue->fixedNetworkUserRate <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->fixedNetworkUserRate);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->fixedNetworkUserRate, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6e (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6e* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6e");

   /* encode acceptableChannelCodings */

   RTXCTXTPUSHELEMNAME (pctxt, "acceptableChannelCodings");
   if (!(pvalue->acceptableChannelCodings <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->acceptableChannelCodings);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->acceptableChannelCodings, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maximumNumberOfTrafficChannels */

   RTXCTXTPUSHELEMNAME (pctxt, "maximumNumberOfTrafficChannels");
   if (!(pvalue->maximumNumberOfTrafficChannels <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->maximumNumberOfTrafficChannels);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->maximumNumberOfTrafficChannels, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6f (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6f* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6f");

   /* encode uimi */

   RTXCTXTPUSHELEMNAME (pctxt, "uimi");
   if (!(pvalue->uimi <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->uimi);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->uimi, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode wantedAirInterfaceUserRate */

   RTXCTXTPUSHELEMNAME (pctxt, "wantedAirInterfaceUserRate");
   if (!(pvalue->wantedAirInterfaceUserRate <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->wantedAirInterfaceUserRate);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->wantedAirInterfaceUserRate, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet6g (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet6g* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet6g");

   /* encode acceptableChannelCodingsExtended */

   RTXCTXTPUSHELEMNAME (pctxt, "acceptableChannelCodingsExtended");
   if (!(pvalue->acceptableChannelCodingsExtended <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->acceptableChannelCodingsExtended);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->acceptableChannelCodingsExtended, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode asymmetryIndication */

   RTXCTXTPUSHELEMNAME (pctxt, "asymmetryIndication");
   if (!(pvalue->asymmetryIndication <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->asymmetryIndication);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->asymmetryIndication, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet7 (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet7* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet7");

   /* encode layer2Identity */

   RTXCTXTPUSHELEMNAME (pctxt, "layer2Identity");
   if (!(pvalue->layer2Identity <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->layer2Identity);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->layer2Identity, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode userInformationLayer2Protocol */

   RTXCTXTPUSHELEMNAME (pctxt, "userInformationLayer2Protocol");
   if (!(pvalue->userInformationLayer2Protocol <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->userInformationLayer2Protocol);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->userInformationLayer2Protocol, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BackupBearerCapability (OSCTXT* pctxt
   , TS24008IE_BackupBearerCapability* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BackupBearerCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   ext = 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_BearerCapOctet3 (pctxt, &pvalue->octet3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet4 (pctxt, &pvalue->octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet5 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet5");
   if (pvalue->m.octet5Present) {
      ext = pvalue->m.octet5aPresent ? 0 : 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet5 (pctxt, &pvalue->octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet5a */

      RTXCTXTPUSHELEMNAME (pctxt, "octet5a");
      if (ext==0)  {
         ext = 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet5a (pctxt, &pvalue->octet5a);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet6 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet6");
   if (pvalue->m.octet6Present) {
      ext = pvalue->m.octet6aPresent ? 0 : 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet6 (pctxt, &pvalue->octet6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6a */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6a");
      if (ext==0)  {
         ext = pvalue->m.octet6bPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6a (pctxt, &pvalue->octet6a);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6b */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6b");
      if (ext==0)  {
         ext = pvalue->m.octet6cPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6b (pctxt, &pvalue->octet6b);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6c */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6c");
      if (ext==0)  {
         ext = pvalue->m.octet6dPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6c (pctxt, &pvalue->octet6c);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6d */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6d");
      if (ext==0)  {
         ext = pvalue->m.octet6ePresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6d (pctxt, &pvalue->octet6d);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6e */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6e");
      if (ext==0)  {
         ext = pvalue->m.octet6fPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6e (pctxt, &pvalue->octet6e);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6f */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6f");
      if (ext==0)  {
         ext = pvalue->m.octet6gPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6f (pctxt, &pvalue->octet6f);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6g */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6g");
      if (ext==0)  {
         ext = 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6g (pctxt, &pvalue->octet6g);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet7 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet7");
   if (pvalue->m.octet7Present) {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet7 (pctxt, &pvalue->octet7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet3b (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet3b* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet3b");

   /* encode coding */

   RTXCTXTPUSHELEMNAME (pctxt, "coding");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->coding);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode speechVersion */

   RTXCTXTPUSHELEMNAME (pctxt, "speechVersion");
   if (!(pvalue->speechVersion <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->speechVersion);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->speechVersion, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet5b (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet5b* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet5b");

   /* encode rateAdaptionHeader */

   RTXCTXTPUSHELEMNAME (pctxt, "rateAdaptionHeader");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->rateAdaptionHeader);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode multipleFrameEstablishment */

   RTXCTXTPUSHELEMNAME (pctxt, "multipleFrameEstablishment");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->multipleFrameEstablishment);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode protocolSensitiveMode */

   RTXCTXTPUSHELEMNAME (pctxt, "protocolSensitiveMode");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->protocolSensitiveMode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode fullProtocolNegotiation */

   RTXCTXTPUSHELEMNAME (pctxt, "fullProtocolNegotiation");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->fullProtocolNegotiation);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode assignorOnly */

   RTXCTXTPUSHELEMNAME (pctxt, "assignorOnly");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->assignorOnly);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode uiNegotiation */

   RTXCTXTPUSHELEMNAME (pctxt, "uiNegotiation");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->uiNegotiation);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet3bList (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet3bList* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet3bList");

   for (i = 0; i < pvalue->n; i++) {
      OSBOOL ext = (i == (pvalue->n - 1)) ? 1 : 0;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");

      ret = rtxEncBit (pctxt, ext);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

      ret = NASEnc_TS24008IE_BearerCapOctet3b (pctxt, &pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapOctet3a (OSCTXT* pctxt
   , TS24008IE_BearerCapOctet3a* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapOctet3a");

   /* encode coding */

   RTXCTXTPUSHELEMNAME (pctxt, "coding");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->coding);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ctm */

   RTXCTXTPUSHELEMNAME (pctxt, "ctm");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ctm);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode speechVersion */

   RTXCTXTPUSHELEMNAME (pctxt, "speechVersion");
   if (!(pvalue->speechVersion <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->speechVersion);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->speechVersion, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_BearerCapability (OSCTXT* pctxt
   , TS24008IE_BearerCapability* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "BearerCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   ext = pvalue->m.octet3aPresent ? 0 : 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_BearerCapOctet3 (pctxt, &pvalue->octet3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3a */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3a");
   if (ext==0)  {
      ext = pvalue->octet3b.n == 0;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet3a (pctxt, &pvalue->octet3a);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3b */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3b");
   if (ext==0)  {
      ext = 1;

      ret = NASEnc_TS24008IE_BearerCapOctet3bList (pctxt, &pvalue->octet3b);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet4 (pctxt, &pvalue->octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet5 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet5");
   if (pvalue->m.octet5Present) {
      ext = pvalue->m.octet5aPresent ? 0 : 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet5 (pctxt, &pvalue->octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet5a */

      RTXCTXTPUSHELEMNAME (pctxt, "octet5a");
      if (ext==0)  {
         ext = pvalue->m.octet5bPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet5a (pctxt, &pvalue->octet5a);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet5b */

      RTXCTXTPUSHELEMNAME (pctxt, "octet5b");
      if (ext==0)  {
         ext = 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet5b (pctxt, &pvalue->octet5b);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet6 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet6");
   if (pvalue->m.octet6Present) {
      ext = pvalue->m.octet6aPresent ? 0 : 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet6 (pctxt, &pvalue->octet6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6a */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6a");
      if (ext==0)  {
         ext = pvalue->m.octet6bPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6a (pctxt, &pvalue->octet6a);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6b */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6b");
      if (ext==0)  {
         ext = pvalue->m.octet6cPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6b (pctxt, &pvalue->octet6b);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6c */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6c");
      if (ext==0)  {
         ext = pvalue->m.octet6dPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6c (pctxt, &pvalue->octet6c);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6d */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6d");
      if (ext==0)  {
         ext = pvalue->m.octet6ePresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6d (pctxt, &pvalue->octet6d);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6e */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6e");
      if (ext==0)  {
         ext = pvalue->m.octet6fPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6e (pctxt, &pvalue->octet6e);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6f */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6f");
      if (ext==0)  {
         ext = pvalue->m.octet6gPresent ? 0 : 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6f (pctxt, &pvalue->octet6f);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode octet6g */

      RTXCTXTPUSHELEMNAME (pctxt, "octet6g");
      if (ext==0)  {
         ext = 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         ret = NASEnc_TS24008IE_BearerCapOctet6g (pctxt, &pvalue->octet6g);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet7 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet7");
   if (pvalue->m.octet7Present) {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_BearerCapOctet7 (pctxt, &pvalue->octet7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CallControlCapabilities (OSCTXT* pctxt
   , TS24008IE_CallControlCapabilities* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CallControlCapabilities");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxNumSupportedBearers */

   RTXCTXTPUSHELEMNAME (pctxt, "maxNumSupportedBearers");
   if (!(pvalue->maxNumSupportedBearers <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->maxNumSupportedBearers);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->maxNumSupportedBearers, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mcat */

   RTXCTXTPUSHELEMNAME (pctxt, "mcat");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mcat);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode enicm */

   RTXCTXTPUSHELEMNAME (pctxt, "enicm");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->enicm);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pcp */

   RTXCTXTPUSHELEMNAME (pctxt, "pcp");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->pcp);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmf */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmf");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->dtmf);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxNumSpeechBearers */

   RTXCTXTPUSHELEMNAME (pctxt, "maxNumSpeechBearers");
   if (!(pvalue->maxNumSpeechBearers <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->maxNumSpeechBearers);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->maxNumSpeechBearers, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CallState (OSCTXT* pctxt
   , TS24008IE_CallState* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CallState");

   /* encode codingStandard */

   RTXCTXTPUSHELEMNAME (pctxt, "codingStandard");

   ret = NASEnc_TS24008IE_CodingStandard (pctxt, pvalue->codingStandard);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode callStateValue */

   RTXCTXTPUSHELEMNAME (pctxt, "callStateValue");
   if (!(pvalue->callStateValue <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->callStateValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->callStateValue, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CalledPartyBCDNumber_octet3 (OSCTXT* pctxt
   , TS24008IE_CalledPartyBCDNumber_octet3* pvalue)
{
   int ret = 0;

   /* encode typeOfNumber */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfNumber");
   if (!(pvalue->typeOfNumber <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->typeOfNumber);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->typeOfNumber, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numberingPlanID */

   RTXCTXTPUSHELEMNAME (pctxt, "numberingPlanID");
   if (!(pvalue->numberingPlanID <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numberingPlanID);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numberingPlanID, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CalledPartyBCDNumber (OSCTXT* pctxt
   , TS24008IE_CalledPartyBCDNumber* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CalledPartyBCDNumber");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   ext = 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_CalledPartyBCDNumber_octet3 (pctxt, &pvalue->octet3
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode number */

   RTXCTXTPUSHELEMNAME (pctxt, "number");

   ret = NASEnc_TS24008IE_TBCDString (pctxt, pvalue->number);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Cause_octet3 (OSCTXT* pctxt
   , TS24008IE_Cause_octet3* pvalue)
{
   int ret = 0;

   /* encode codingStandard */

   RTXCTXTPUSHELEMNAME (pctxt, "codingStandard");

   ret = NASEnc_TS24008IE_CodingStandard (pctxt, pvalue->codingStandard);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode location */

   RTXCTXTPUSHELEMNAME (pctxt, "location");

   ret = NASEnc_TS24008IE_Location (pctxt, pvalue->location);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Cause (OSCTXT* pctxt, TS24008IE_Cause* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Cause");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   ext = pvalue->m.recommendationPresent ? 0 : 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_Cause_octet3 (pctxt, &pvalue->octet3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode recommendation */

   RTXCTXTPUSHELEMNAME (pctxt, "recommendation");
   if (ext==0)  {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (!(pvalue->recommendation <= 127)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->recommendation);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->recommendation, 7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode causeValue */

   RTXCTXTPUSHELEMNAME (pctxt, "causeValue");
   ext = 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (!(pvalue->causeValue <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->causeValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->causeValue, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode diagnostics */

   RTXCTXTPUSHELEMNAME (pctxt, "diagnostics");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->diagnostics.numocts <= 32)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->diagnostics.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->diagnostics.data, pvalue->diagnostics.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_HighLayerCompatibility_octet3 (OSCTXT* pctxt
   , TS24008IE_HighLayerCompatibility_octet3* pvalue)
{
   int ret = 0;

   /* encode codingStandard */

   RTXCTXTPUSHELEMNAME (pctxt, "codingStandard");

   ret = NASEnc_TS24008IE_CodingStandard (pctxt, pvalue->codingStandard);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode interpretation */

   RTXCTXTPUSHELEMNAME (pctxt, "interpretation");
   if (!(pvalue->interpretation <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->interpretation);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->interpretation, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode presentMethOfProtoProf */

   RTXCTXTPUSHELEMNAME (pctxt, "presentMethOfProtoProf");
   if (!(pvalue->presentMethOfProtoProf <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->presentMethOfProtoProf);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->presentMethOfProtoProf, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_HighLayerCompatibility (OSCTXT* pctxt
   , TS24008IE_HighLayerCompatibility* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "HighLayerCompatibility");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   if (pvalue->m.octet3Present) {
      ext = 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      ret = NASEnc_TS24008IE_HighLayerCompatibility_octet3 (pctxt, &pvalue->
         octet3);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode highLayerCharacteristicsID */

   RTXCTXTPUSHELEMNAME (pctxt, "highLayerCharacteristicsID");
   if (pvalue->m.highLayerCharacteristicsIDPresent) {
      ext = pvalue->m.extHighLayerCharacteristicsIDPresent ? 0 : 1;
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");
      ret = rtxEncBits (pctxt, ext, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (!(pvalue->highLayerCharacteristicsID <= 127)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->highLayerCharacteristicsID);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->highLayerCharacteristicsID, 7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extHighLayerCharacteristicsID */

      RTXCTXTPUSHELEMNAME (pctxt, "extHighLayerCharacteristicsID");
      if (ext==0)  {
         ext = 1;
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");
         ret = rtxEncBits (pctxt, ext, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         if (!(pvalue->extHighLayerCharacteristicsID <= 127)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->extHighLayerCharacteristicsID);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->extHighLayerCharacteristicsID, 7);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_KeypadFacilityInfo (OSCTXT* pctxt
   , TS24008IE_KeypadFacilityInfo* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "KeypadFacilityInfo");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NotificationIndicator (OSCTXT* pctxt
   , TS24008IE_NotificationIndicator* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NotificationIndicator");

   /* encode ext */

   RTXCTXTPUSHELEMNAME (pctxt, "ext");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ext);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ProgressIndicator_octet3 (OSCTXT* pctxt
   , TS24008IE_ProgressIndicator_octet3* pvalue)
{
   int ret = 0;

   /* encode codingStandard */

   RTXCTXTPUSHELEMNAME (pctxt, "codingStandard");

   ret = NASEnc_TS24008IE_CodingStandard (pctxt, pvalue->codingStandard);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode location */

   RTXCTXTPUSHELEMNAME (pctxt, "location");
   if (!(pvalue->location <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->location);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->location, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ProgressIndicator (OSCTXT* pctxt
   , TS24008IE_ProgressIndicator* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ProgressIndicator");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   ext = 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_ProgressIndicator_octet3 (pctxt, &pvalue->octet3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode description */

   RTXCTXTPUSHELEMNAME (pctxt, "description");
   ext = 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (!(pvalue->description <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->description);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->description, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RecallType (OSCTXT* pctxt
   , TS24008IE_RecallType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RecallType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_UserUser (OSCTXT* pctxt, TS24008IE_UserUser* pvalue
   )
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UserUser");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode uupd */

   RTXCTXTPUSHELEMNAME (pctxt, "uupd");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->uupd, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode uuInfo */

   RTXCTXTPUSHELEMNAME (pctxt, "uuInfo");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->uuInfo.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->uuInfo.data, pvalue->uuInfo.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 1 && pvalue->length <= 129))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AlertingPattern (OSCTXT* pctxt
   , TS24008IE_AlertingPattern* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AlertingPattern");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AllowedActions (OSCTXT* pctxt
   , TS24008IE_AllowedActions* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AllowedActions");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ccbs-activation */

   RTXCTXTPUSHELEMNAME (pctxt, "ccbs-activation");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ccbs_activation);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_StreamIdentifierValue (OSCTXT* pctxt
   , TS24008IE_StreamIdentifierValue* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "StreamIdentifierValue");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NetCallCtrlCaps (OSCTXT* pctxt
   , TS24008IE_NetCallCtrlCaps* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetCallCtrlCaps");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mcs */

   RTXCTXTPUSHELEMNAME (pctxt, "mcs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mcs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CauseOfNoCLI (OSCTXT* pctxt
   , TS24008IE_CauseOfNoCLI* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CauseOfNoCLI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_SupportedCodec (OSCTXT* pctxt
   , TS24008IE_SupportedCodec* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SupportedCodec");

   /* encode sysID */

   RTXCTXTPUSHELEMNAME (pctxt, "sysID");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->sysID, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode codecBitmap */

   RTXCTXTPUSHELEMNAME (pctxt, "codecBitmap");

   ret = NASEnc_TS24008IE_SupportedCodec_codecBitmap (pctxt, &pvalue->
      codecBitmap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_SupportedCodecList (OSCTXT* pctxt
   , TS24008IE_SupportedCodecList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SupportedCodecList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode codecs */

   RTXCTXTPUSHELEMNAME (pctxt, "codecs");
   {
      OSUINT8 i;
      if (!((pvalue->codecs.n >= 1 && pvalue->codecs.n <= 83))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->codecs.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->codecs.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24008IE_SupportedCodec (pctxt, &pvalue->codecs.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 3 && pvalue->length <= 253))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ServiceCategoryValue (OSCTXT* pctxt
   , TS24008IE_ServiceCategoryValue* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ServiceCategoryValue");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AddnUpdateType (OSCTXT* pctxt
   , TS24008IE_AddnUpdateType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddnUpdateType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode autv */

   RTXCTXTPUSHELEMNAME (pctxt, "autv");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->autv);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AttachResult (OSCTXT* pctxt
   , TS24008IE_AttachResult* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AttachResult");

   /* encode fop */

   RTXCTXTPUSHELEMNAME (pctxt, "fop");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->fop);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode resultOfAttach */

   RTXCTXTPUSHELEMNAME (pctxt, "resultOfAttach");
   if (!(pvalue->resultOfAttach <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->resultOfAttach);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->resultOfAttach, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AttachType (OSCTXT* pctxt
   , TS24008IE_AttachType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AttachType");

   /* encode for */

   RTXCTXTPUSHELEMNAME (pctxt, "for");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->for_);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfAttach */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfAttach");
   if (!(pvalue->typeOfAttach <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->typeOfAttach);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->typeOfAttach, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_CipheringAlgorithmType (OSCTXT* pctxt
   , TS24008IE_CipheringAlgorithmType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CipheringAlgorithmType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_IntegrityAlgorithmType (OSCTXT* pctxt
   , TS24008IE_IntegrityAlgorithmType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IntegrityAlgorithmType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TMSIStatus (OSCTXT* pctxt
   , TS24008IE_TMSIStatus* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TMSIStatus");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode flag */

   RTXCTXTPUSHELEMNAME (pctxt, "flag");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->flag);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DetachType (OSCTXT* pctxt
   , TS24008IE_DetachType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DetachType");

   /* encode powerOff */

   RTXCTXTPUSHELEMNAME (pctxt, "powerOff");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->powerOff);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode detachTypeValue */

   RTXCTXTPUSHELEMNAME (pctxt, "detachTypeValue");
   if (!(pvalue->detachTypeValue <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->detachTypeValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->detachTypeValue, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DRXParameter (OSCTXT* pctxt
   , TS24008IE_DRXParameter* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DRXParameter");

   /* encode splitPGCycleCode */

   RTXCTXTPUSHELEMNAME (pctxt, "splitPGCycleCode");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->splitPGCycleCode, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lenCoefAndValue */

   RTXCTXTPUSHELEMNAME (pctxt, "lenCoefAndValue");
   if (!(pvalue->lenCoefAndValue <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->lenCoefAndValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->lenCoefAndValue, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode splitOnCCCH */

   RTXCTXTPUSHELEMNAME (pctxt, "splitOnCCCH");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->splitOnCCCH);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nonDRXTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "nonDRXTimer");
   if (!(pvalue->nonDRXTimer <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nonDRXTimer);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nonDRXTimer, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ForceToStandbyValue (OSCTXT* pctxt
   , TS24008IE_ForceToStandbyValue* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ForceToStandbyValue");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_P_TMSISignature (OSCTXT* pctxt
   , TS24008IE_P_TMSISignature* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "P-TMSISignature");

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->value, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_P_TMSISignature2 (OSCTXT* pctxt
   , TS24008IE_P_TMSISignature2* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "P-TMSISignature2");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->value, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_IMEISVRequest (OSCTXT* pctxt
   , TS24008IE_IMEISVRequest* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IMEISVRequest");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ReceiveNPDUNumber (OSCTXT* pctxt
   , TS24008IE_ReceiveNPDUNumber* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReceiveNPDUNumber");

   /* encode nsapi */

   RTXCTXTPUSHELEMNAME (pctxt, "nsapi");
   if (!((pvalue->nsapi >= 1 && pvalue->nsapi <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nsapi);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nsapi, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numberValue */

   RTXCTXTPUSHELEMNAME (pctxt, "numberValue");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->numberValue, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ReceiveNPDUNumberList (OSCTXT* pctxt
   , TS24008IE_ReceiveNPDUNumberList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReceiveNPDUNumberList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode receiveNPDUNumber */

   RTXCTXTPUSHELEMNAME (pctxt, "receiveNPDUNumber");
   {
      OSUINT8 i;
      if (!(pvalue->receiveNPDUNumber.n >= 1)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->receiveNPDUNumber.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->receiveNPDUNumber.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24008IE_ReceiveNPDUNumber (pctxt, &pvalue->
            receiveNPDUNumber.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 2)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   rtxByteAlign (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MSNetworkCapability (OSCTXT* pctxt
   , TS24008IE_MSNetworkCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MSNetworkCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet1 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet1");
   if (pvalue->m.octet1Present) {
      /* encode gea1 */

      RTXCTXTPUSHELEMNAME (pctxt, "gea1");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet1.gea1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode smCapDeicatedChan */

      RTXCTXTPUSHELEMNAME (pctxt, "smCapDeicatedChan");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet1.smCapDeicatedChan);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode smCapGPRSChan */

      RTXCTXTPUSHELEMNAME (pctxt, "smCapGPRSChan");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet1.smCapGPRSChan);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode ucs2Support */

      RTXCTXTPUSHELEMNAME (pctxt, "ucs2Support");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet1.ucs2Support);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode ssScreeningInd */

      RTXCTXTPUSHELEMNAME (pctxt, "ssScreeningInd");
      if (!(pvalue->octet1.ssScreeningInd <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->octet1.ssScreeningInd);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->octet1.ssScreeningInd, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode soLSACap */

      RTXCTXTPUSHELEMNAME (pctxt, "soLSACap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet1.soLSACap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode revisionLevelInd */

      RTXCTXTPUSHELEMNAME (pctxt, "revisionLevelInd");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet1.revisionLevelInd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet2 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet2");
   if (pvalue->m.octet2Present) {
      /* encode pfcFeatureMode */

      RTXCTXTPUSHELEMNAME (pctxt, "pfcFeatureMode");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet2.pfcFeatureMode);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extendedGEA */

      RTXCTXTPUSHELEMNAME (pctxt, "extendedGEA");
      if (!(pvalue->octet2.extendedGEA <= 63)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->octet2.extendedGEA);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->octet2.extendedGEA, 6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode lcsVACap */

      RTXCTXTPUSHELEMNAME (pctxt, "lcsVACap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet2.lcsVACap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   if (pvalue->m.octet3Present) {
      /* encode psInterRATHOToUTRANIuModeCap */

      RTXCTXTPUSHELEMNAME (pctxt, "psInterRATHOToUTRANIuModeCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.psInterRATHOToUTRANIuModeCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode psInterRATHOToEUTRANS1ModeCap */

      RTXCTXTPUSHELEMNAME (pctxt, "psInterRATHOToEUTRANS1ModeCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.psInterRATHOToEUTRANS1ModeCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode emmCombinedProcCap */

      RTXCTXTPUSHELEMNAME (pctxt, "emmCombinedProcCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.emmCombinedProcCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode isrSupport */

      RTXCTXTPUSHELEMNAME (pctxt, "isrSupport");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.isrSupport);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode srvccToGERAN-UTRANCap */

      RTXCTXTPUSHELEMNAME (pctxt, "srvccToGERAN-UTRANCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.srvccToGERAN_UTRANCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode epcCap */

      RTXCTXTPUSHELEMNAME (pctxt, "epcCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.epcCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode nfCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "nfCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.nfCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode geranNetShareCap */

      RTXCTXTPUSHELEMNAME (pctxt, "geranNetShareCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet3.geranNetShareCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {
      /* encode userPlaneIntegProtSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "userPlaneIntegProtSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.userPlaneIntegProtSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode gia-4 */

      RTXCTXTPUSHELEMNAME (pctxt, "gia-4");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.gia_4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode gia-5 */

      RTXCTXTPUSHELEMNAME (pctxt, "gia-5");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.gia_5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode gia-6 */

      RTXCTXTPUSHELEMNAME (pctxt, "gia-6");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.gia_6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode gia-7 */

      RTXCTXTPUSHELEMNAME (pctxt, "gia-7");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.gia_7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode epcoIeIndicator */

      RTXCTXTPUSHELEMNAME (pctxt, "epcoIeIndicator");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.epcoIeIndicator);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode restrictUseEnhancedCovCap */

      RTXCTXTPUSHELEMNAME (pctxt, "restrictUseEnhancedCovCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.restrictUseEnhancedCovCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode dualConnEutraNRCap */

      RTXCTXTPUSHELEMNAME (pctxt, "dualConnEutraNRCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->octet4.dualConnEutraNRCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spareBits */

   RTXCTXTPUSHELEMNAME (pctxt, "spareBits");
   RTDIAG_NEWBITFIELD (pctxt, "BIT STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->spareBits.data, pvalue->spareBits.numbits);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length <= 8)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   rtxByteAlign (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MultislotCapability_gprsMSC (OSCTXT* pctxt
   , TS24008IE_MultislotCapability_gprsMSC* pvalue)
{
   int ret = 0;

   /* encode gprsMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "gprsMultiSlotClass");
   if (!(pvalue->gprsMultiSlotClass <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->gprsMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->gprsMultiSlotClass, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extGPRSDynAllocCap */

   RTXCTXTPUSHELEMNAME (pctxt, "extGPRSDynAllocCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->extGPRSDynAllocCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MultislotCapability_egprsMSC (OSCTXT* pctxt
   , TS24008IE_MultislotCapability_egprsMSC* pvalue)
{
   int ret = 0;

   /* encode egprsMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "egprsMultiSlotClass");
   if (!(pvalue->egprsMultiSlotClass <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->egprsMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->egprsMultiSlotClass, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extEGPRSDynAllocCap */

   RTXCTXTPUSHELEMNAME (pctxt, "extEGPRSDynAllocCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->extEGPRSDynAllocCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MultislotCapability (OSCTXT* pctxt
   , TS24008IE_MultislotCapability* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MultislotCapability");

   /* encode hscsdMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "hscsdMultiSlotClass");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.hscsdMultiSlotClassPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.hscsdMultiSlotClassPresent) {
      if (!(pvalue->hscsdMultiSlotClass <= 31)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->hscsdMultiSlotClass);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->hscsdMultiSlotClass, 5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gprsMSC */

   RTXCTXTPUSHELEMNAME (pctxt, "gprsMSC");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.gprsMSCPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.gprsMSCPresent) {

      ret = NASEnc_TS24008IE_MultislotCapability_gprsMSC (pctxt, &pvalue->
         gprsMSC);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value-SMS-SM */

   RTXCTXTPUSHELEMNAME (pctxt, "value-SMS-SM");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.value_SMS_SMPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.value_SMS_SMPresent) {

      ret = NASEnc_TS24008IE_MSMeasurementCap (pctxt, &pvalue->value_SMS_SM);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ecsdMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "ecsdMultiSlotClass");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.ecsdMultiSlotClassPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.ecsdMultiSlotClassPresent) {
      if (!(pvalue->ecsdMultiSlotClass <= 31)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->ecsdMultiSlotClass);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->ecsdMultiSlotClass, 5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode egprsMSC */

   RTXCTXTPUSHELEMNAME (pctxt, "egprsMSC");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.egprsMSCPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.egprsMSCPresent) {

      ret = NASEnc_TS24008IE_MultislotCapability_egprsMSC (pctxt, &pvalue->
         egprsMSC);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmGPRSStruct */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmGPRSStruct");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dtmGPRSStructPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.dtmGPRSStructPresent) {

      ret = NASEnc_TS24008IE_DTMGPRSStruct (pctxt, &pvalue->dtmGPRSStruct);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_EnhanFlexTimeSlotAssnStruct (OSCTXT* pctxt
   , TS24008IE_EnhanFlexTimeSlotAssnStruct* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EnhanFlexTimeSlotAssnStruct");

   /* encode alt-EFTA-MultislotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "alt-EFTA-MultislotClass");
   if (!(pvalue->alt_EFTA_MultislotClass <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->alt_EFTA_MultislotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->alt_EFTA_MultislotClass, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eFTA-Multislot-Cap-Reduct */

   RTXCTXTPUSHELEMNAME (pctxt, "eFTA-Multislot-Cap-Reduct");
   if (!(pvalue->eFTA_Multislot_Cap_Reduct <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->eFTA_Multislot_Cap_Reduct);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->eFTA_Multislot_Cap_Reduct, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AddAccessTechStruct (OSCTXT* pctxt
   , TS24008IE_AddAccessTechStruct* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddAccessTechStruct");

   /* encode accessTechType */

   RTXCTXTPUSHELEMNAME (pctxt, "accessTechType");
   if (!(pvalue->accessTechType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->accessTechType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->accessTechType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode powerClass-GMSK */

   RTXCTXTPUSHELEMNAME (pctxt, "powerClass-GMSK");
   if (!(pvalue->powerClass_GMSK <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->powerClass_GMSK);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->powerClass_GMSK, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode powerClass-8PSK */

   RTXCTXTPUSHELEMNAME (pctxt, "powerClass-8PSK");
   if (!(pvalue->powerClass_8PSK <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->powerClass_8PSK);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->powerClass_8PSK, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AddAccessTechStructList (OSCTXT* pctxt
   , TS24008IE_AddAccessTechStructList* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddAccessTechStructList");

   for (i = 0; i < pvalue->n; i++) {
      RTDIAG_NEWBITFIELD (pctxt, "ext bit");

      ret = rtxEncBit (pctxt, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

      ret = NASEnc_TS24008IE_AddAccessTechStruct (pctxt, &pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }
   RTDIAG_NEWBITFIELD (pctxt, "eol bit");

   ret = rtxEncBit (pctxt, 0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AdditionalAccessTech (OSCTXT* pctxt
   , TS24008IE_AdditionalAccessTech* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AdditionalAccessTech");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode content */

   RTXCTXTPUSHELEMNAME (pctxt, "content");

   ret = NASEnc_TS24008IE_AddAccessTechStructList (pctxt, &pvalue->content);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spareBits */

   RTXCTXTPUSHELEMNAME (pctxt, "spareBits");
   RTDIAG_NEWBITFIELD (pctxt, "BIT STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->spareBits.data, pvalue->spareBits.numbits);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)(endIndex - startIndex);
      rtxCtxtSetBitOffset (pctxt, startIndex - 7);
      ret = rtxMergeBits (pctxt, pvalue->length, 7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AccessCapability_extGPRSMSC (OSCTXT* pctxt
   , TS24008IE_AccessCapability_extGPRSMSC* pvalue)
{
   int ret = 0;

   /* encode extDtmGPRSMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "extDtmGPRSMultiSlotClass");
   if (!(pvalue->extDtmGPRSMultiSlotClass <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->extDtmGPRSMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->extDtmGPRSMultiSlotClass, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extDtmEGPRSMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "extDtmEGPRSMultiSlotClass");
   if (!(pvalue->extDtmEGPRSMultiSlotClass <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->extDtmEGPRSMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->extDtmEGPRSMultiSlotClass, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AccessCapability_dtmGPRSHighMSC (OSCTXT* pctxt
   , TS24008IE_AccessCapability_dtmGPRSHighMSC* pvalue)
{
   int ret = 0;

   /* encode dtmGPRSHighMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmGPRSHighMultiSlotClass");
   if (!(pvalue->dtmGPRSHighMultiSlotClass <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dtmGPRSHighMultiSlotClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dtmGPRSHighMultiSlotClass, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dtmEGPRSHighMultiSlotClass */

   RTXCTXTPUSHELEMNAME (pctxt, "dtmEGPRSHighMultiSlotClass");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dtmEGPRSHighMultiSlotClassPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.dtmEGPRSHighMultiSlotClassPresent) {
      if (!(pvalue->dtmEGPRSHighMultiSlotClass <= 7)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->dtmEGPRSHighMultiSlotClass);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->dtmEGPRSHighMultiSlotClass, 3);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AccessCapability_downlinkDualCarrierCap (OSCTXT* pctxt
   , TS24008IE_AccessCapability_downlinkDualCarrierCap* pvalue)
{
   int ret = 0;

   /* encode mscReductForDownlinkDualCarrier */

   RTXCTXTPUSHELEMNAME (pctxt, "mscReductForDownlinkDualCarrier");
   if (!(pvalue->mscReductForDownlinkDualCarrier <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->mscReductForDownlinkDualCarrier);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->mscReductForDownlinkDualCarrier, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode downlinkDualCarrierForDtmCap */

   RTXCTXTPUSHELEMNAME (pctxt, "downlinkDualCarrierForDtmCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->downlinkDualCarrierForDtmCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DLMCCapability (OSCTXT* pctxt
   , TS24008IE_DLMCCapability* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DLMCCapability");

   /* encode dlmc */

   RTXCTXTPUSHELEMNAME (pctxt, "dlmc");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dlmcPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.dlmcPresent) {
      /* encode nonContigIntraBandRecep */

      RTXCTXTPUSHELEMNAME (pctxt, "nonContigIntraBandRecep");

      ret = NASEnc_TS24008IE_DLMCNonContigIntraBandRecep (pctxt, pvalue->dlmc.
         nonContigIntraBandRecep);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);

      /* encode interBandRecep */

      RTXCTXTPUSHELEMNAME (pctxt, "interBandRecep");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->dlmc.interBandRecep);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxBandwidth */

   RTXCTXTPUSHELEMNAME (pctxt, "maxBandwidth");

   ret = NASEnc_TS24008IE_DLMCCapability_maxBandwidth (pctxt, pvalue->
      maxBandwidth);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxNumDLTimeSlots */

   RTXCTXTPUSHELEMNAME (pctxt, "maxNumDLTimeSlots");
   if (!(pvalue->maxNumDLTimeSlots <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->maxNumDLTimeSlots);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->maxNumDLTimeSlots, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxNumDLCarriers */

   RTXCTXTPUSHELEMNAME (pctxt, "maxNumDLCarriers");
   if (!(pvalue->maxNumDLCarriers <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->maxNumDLCarriers);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->maxNumDLCarriers, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AccessCapability (OSCTXT* pctxt
   , TS24008IE_AccessCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rfPowerCap */

   RTXCTXTPUSHELEMNAME (pctxt, "rfPowerCap");
   if (!(pvalue->rfPowerCap <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->rfPowerCap);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->rfPowerCap, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode a5Bits */

   RTXCTXTPUSHELEMNAME (pctxt, "a5Bits");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.a5BitsPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.a5BitsPresent) {
      /* encode a5-1 */

      RTXCTXTPUSHELEMNAME (pctxt, "a5-1");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->a5Bits.a5_1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode a5-2 */

      RTXCTXTPUSHELEMNAME (pctxt, "a5-2");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->a5Bits.a5_2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode a5-3 */

      RTXCTXTPUSHELEMNAME (pctxt, "a5-3");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->a5Bits.a5_3);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode a5-4 */

      RTXCTXTPUSHELEMNAME (pctxt, "a5-4");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->a5Bits.a5_4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode a5-5 */

      RTXCTXTPUSHELEMNAME (pctxt, "a5-5");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->a5Bits.a5_5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode a5-6 */

      RTXCTXTPUSHELEMNAME (pctxt, "a5-6");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->a5Bits.a5_6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode a5-7 */

      RTXCTXTPUSHELEMNAME (pctxt, "a5-7");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->a5Bits.a5_7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode esInd */

   RTXCTXTPUSHELEMNAME (pctxt, "esInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->esInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ps */

   RTXCTXTPUSHELEMNAME (pctxt, "ps");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ps);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode vgcs */

   RTXCTXTPUSHELEMNAME (pctxt, "vgcs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->vgcs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode vbs */

   RTXCTXTPUSHELEMNAME (pctxt, "vbs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->vbs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode multislotCap */

   RTXCTXTPUSHELEMNAME (pctxt, "multislotCap");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.multislotCapPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.multislotCapPresent) {

      ret = NASEnc_TS24008IE_MultislotCapability (pctxt, &pvalue->multislotCap
         );
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode powerCap8PSK */

   RTXCTXTPUSHELEMNAME (pctxt, "powerCap8PSK");
   RTDIAG_NEWBITFIELD (pctxt, "optional bit");

   ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.powerCap8PSKPresent));
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   if (pvalue->m.powerCap8PSKPresent) {
      if (!(pvalue->powerCap8PSK <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->powerCap8PSK);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->powerCap8PSK, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode compactIMC */

   RTXCTXTPUSHELEMNAME (pctxt, "compactIMC");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->compactIMC);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode revisionLevelInd */

   RTXCTXTPUSHELEMNAME (pctxt, "revisionLevelInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->revisionLevelInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode umts-FDD-RATechCap */

   RTXCTXTPUSHELEMNAME (pctxt, "umts-FDD-RATechCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->umts_FDD_RATechCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode umts-384-Mcps-TDD-RA-TechCap */

   RTXCTXTPUSHELEMNAME (pctxt, "umts-384-Mcps-TDD-RA-TechCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->umts_384_Mcps_TDD_RA_TechCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cdma-2000-RA-TechCap */

   RTXCTXTPUSHELEMNAME (pctxt, "cdma-2000-RA-TechCap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cdma_2000_RA_TechCap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if (pvalue->m._v4ExtPresent) {
      /* encode umts-128-Mcps-TDD-RA-TechCap */

      RTXCTXTPUSHELEMNAME (pctxt, "umts-128-Mcps-TDD-RA-TechCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->umts_128_Mcps_TDD_RA_TechCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode geranFeaturePackage1 */

      RTXCTXTPUSHELEMNAME (pctxt, "geranFeaturePackage1");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->geranFeaturePackage1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extGPRSMSC */

      RTXCTXTPUSHELEMNAME (pctxt, "extGPRSMSC");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.extGPRSMSCPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.extGPRSMSCPresent) {

         ret = NASEnc_TS24008IE_AccessCapability_extGPRSMSC (pctxt, &pvalue->
            extGPRSMSC);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode moduleBasedMSCSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "moduleBasedMSCSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->moduleBasedMSCSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v5ExtPresent) {
      /* encode highMultislotCap */

      RTXCTXTPUSHELEMNAME (pctxt, "highMultislotCap");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.highMultislotCapPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.highMultislotCapPresent) {
         if (!(pvalue->highMultislotCap <= 3)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->highMultislotCap);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->highMultislotCap, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode geranIuModeCap */

      RTXCTXTPUSHELEMNAME (pctxt, "geranIuModeCap");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.geranIuModeCapPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.geranIuModeCapPresent) {

         ret = NASEnc_TS24008IE_GERANIuModeCap (pctxt, &pvalue->geranIuModeCap
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode multislotPowerProfile-GMSK */

      RTXCTXTPUSHELEMNAME (pctxt, "multislotPowerProfile-GMSK");
      if (!(pvalue->multislotPowerProfile_GMSK <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->multislotPowerProfile_GMSK);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->multislotPowerProfile_GMSK, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode multislotPowerProfile-8PSK */

      RTXCTXTPUSHELEMNAME (pctxt, "multislotPowerProfile-8PSK");
      if (!(pvalue->multislotPowerProfile_8PSK <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->multislotPowerProfile_8PSK);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->multislotPowerProfile_8PSK, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v6ExtPresent) {
      /* encode multipleTBFCap */

      RTXCTXTPUSHELEMNAME (pctxt, "multipleTBFCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->multipleTBFCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode downlinkAdvRecPerf */

      RTXCTXTPUSHELEMNAME (pctxt, "downlinkAdvRecPerf");
      if (!(pvalue->downlinkAdvRecPerf <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->downlinkAdvRecPerf);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->downlinkAdvRecPerf, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extendedRMCMSCap */

      RTXCTXTPUSHELEMNAME (pctxt, "extendedRMCMSCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->extendedRMCMSCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode dtmEnhancementsCap */

      RTXCTXTPUSHELEMNAME (pctxt, "dtmEnhancementsCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->dtmEnhancementsCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode dtmGPRSHighMSC */

      RTXCTXTPUSHELEMNAME (pctxt, "dtmGPRSHighMSC");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dtmGPRSHighMSCPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.dtmGPRSHighMSCPresent) {

         ret = NASEnc_TS24008IE_AccessCapability_dtmGPRSHighMSC (pctxt, &pvalue
            ->dtmGPRSHighMSC);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode psHandoverCap */

      RTXCTXTPUSHELEMNAME (pctxt, "psHandoverCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->psHandoverCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v7ExtPresent) {
      /* encode dtmHandoverCap */

      RTXCTXTPUSHELEMNAME (pctxt, "dtmHandoverCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->dtmHandoverCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode downlinkDualCarrierCap */

      RTXCTXTPUSHELEMNAME (pctxt, "downlinkDualCarrierCap");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.downlinkDualCarrierCapPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.downlinkDualCarrierCapPresent) {

         ret = NASEnc_TS24008IE_AccessCapability_downlinkDualCarrierCap (pctxt, 
            &pvalue->downlinkDualCarrierCap);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode flexibleTimeslotAssign */

      RTXCTXTPUSHELEMNAME (pctxt, "flexibleTimeslotAssign");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->flexibleTimeslotAssign);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode gan-PS-HandoverCap */

      RTXCTXTPUSHELEMNAME (pctxt, "gan-PS-HandoverCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->gan_PS_HandoverCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode rlcNonPersistentMode */

      RTXCTXTPUSHELEMNAME (pctxt, "rlcNonPersistentMode");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->rlcNonPersistentMode);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode reducedLatencyCap */

      RTXCTXTPUSHELEMNAME (pctxt, "reducedLatencyCap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->reducedLatencyCap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode uplinkEGPRS2 */

      RTXCTXTPUSHELEMNAME (pctxt, "uplinkEGPRS2");
      if (!(pvalue->uplinkEGPRS2 <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->uplinkEGPRS2);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->uplinkEGPRS2, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode downlinkEGPRS2 */

      RTXCTXTPUSHELEMNAME (pctxt, "downlinkEGPRS2");
      if (!(pvalue->downlinkEGPRS2 <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->downlinkEGPRS2);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->downlinkEGPRS2, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v8ExtPresent) {
      /* encode e-UTRA-FDD-Supp */

      RTXCTXTPUSHELEMNAME (pctxt, "e-UTRA-FDD-Supp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->e_UTRA_FDD_Supp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode e-UTRA-TDD-Supp */

      RTXCTXTPUSHELEMNAME (pctxt, "e-UTRA-TDD-Supp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->e_UTRA_TDD_Supp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode gERANToEUTRATransferMode */

      RTXCTXTPUSHELEMNAME (pctxt, "gERANToEUTRATransferMode");
      if (!(pvalue->gERANToEUTRATransferMode <= 3)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->gERANToEUTRATransferMode);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->gERANToEUTRATransferMode, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode priBasedReselectionSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "priBasedReselectionSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->priBasedReselectionSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v9ExtPresent) {
      /* encode enhanFlexTimeSlotAssn */

      RTXCTXTPUSHELEMNAME (pctxt, "enhanFlexTimeSlotAssn");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.enhanFlexTimeSlotAssnPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.enhanFlexTimeSlotAssnPresent) {

         ret = NASEnc_TS24008IE_EnhanFlexTimeSlotAssnStruct (pctxt, &pvalue->
            enhanFlexTimeSlotAssn);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode upLayerPDUStartCapRLCUMInd */

      RTXCTXTPUSHELEMNAME (pctxt, "upLayerPDUStartCapRLCUMInd");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->upLayerPDUStartCapRLCUMInd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode emstCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "emstCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->emstCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode mttiCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "mttiCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->mttiCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode utraCSGCellsReporting */

      RTXCTXTPUSHELEMNAME (pctxt, "utraCSGCellsReporting");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->utraCSGCellsReporting);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode e-utraCSGCellsReporting */

      RTXCTXTPUSHELEMNAME (pctxt, "e-utraCSGCellsReporting");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->e_utraCSGCellsReporting);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v10ExtPresent) {
      /* encode dtrCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "dtrCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->dtrCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode emsrCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "emsrCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->emsrCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode fast-DL-Freq-Sw-Cap */

      RTXCTXTPUSHELEMNAME (pctxt, "fast-DL-Freq-Sw-Cap");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->fast_DL_Freq_Sw_Cap);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode tighterCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "tighterCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->tighterCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v11ExtPresent) {
      /* encode fanrCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "fanrCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->fanrCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode ipaCapability */

      RTXCTXTPUSHELEMNAME (pctxt, "ipaCapability");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->ipaCapability);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode geranNetShareSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "geranNetShareSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->geranNetShareSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode eUTRA-WB-RSRQ-MeasSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "eUTRA-WB-RSRQ-MeasSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->eUTRA_WB_RSRQ_MeasSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v12ExtPresent) {
      /* encode uTRA-MultFreqBandIndSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "uTRA-MultFreqBandIndSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->uTRA_MultFreqBandIndSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode e-UTRA-MultFreqBandIndSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "e-UTRA-MultFreqBandIndSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->e_UTRA_MultFreqBandIndSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode dlmcCap */

      RTXCTXTPUSHELEMNAME (pctxt, "dlmcCap");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.dlmcCapPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.dlmcCapPresent) {

         ret = NASEnc_TS24008IE_DLMCCapability (pctxt, &pvalue->dlmcCap);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extTSCSetCapSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "extTSCSetCapSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->extTSCSetCapSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode extEARFCNValRange */

      RTXCTXTPUSHELEMNAME (pctxt, "extEARFCNValRange");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->extEARFCNValRange);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v13ExtPresent) {
      /* encode ec-pchMonSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "ec-pchMonSupp");

      ret = NASEnc_TS24008IE_AccessCapability_ec_pchMonSupp (pctxt, pvalue->
         ec_pchMonSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v14ExtPresent) {
      /* encode msSyncAccuracy */

      RTXCTXTPUSHELEMNAME (pctxt, "msSyncAccuracy");
      RTDIAG_NEWBITFIELD (pctxt, "optional bit");

      ret = rtxEncBit (pctxt, (OSBOOL)(1 == pvalue->m.msSyncAccuracyPresent));
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

      if (pvalue->m.msSyncAccuracyPresent) {
         if (!(pvalue->msSyncAccuracy <= 15)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->msSyncAccuracy);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->msSyncAccuracy, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
      }
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode ecULCoverageEnhanceSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "ecULCoverageEnhanceSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->ecULCoverageEnhanceSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   if (pvalue->m._v15ExtPresent) {
      /* encode mtaAccessSecuritySupp */

      RTXCTXTPUSHELEMNAME (pctxt, "mtaAccessSecuritySupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->mtaAccessSecuritySupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode ecPagingIndChanMonitorSupp */

      RTXCTXTPUSHELEMNAME (pctxt, "ecPagingIndChanMonitorSupp");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->ecPagingIndChanMonitorSupp);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

   }
   /* encode spareBits */

   RTXCTXTPUSHELEMNAME (pctxt, "spareBits");
   RTDIAG_NEWBITFIELD (pctxt, "BIT STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->spareBits.data, pvalue->spareBits.numbits);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)(endIndex - startIndex);
      rtxCtxtSetBitOffset (pctxt, startIndex - 7);
      ret = rtxMergeBits (pctxt, pvalue->length, 7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MSRACapValuePartStruct (OSCTXT* pctxt
   , TS24008IE_MSRACapValuePartStruct* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MSRACapValuePartStruct");

   /* encode accessTechType */

   RTXCTXTPUSHELEMNAME (pctxt, "accessTechType");
   if (!(pvalue->accessTechType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->accessTechType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->accessTechType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode accessCapOrTech */

   RTXCTXTPUSHELEMNAME (pctxt, "accessCapOrTech");
   /* Encode choice data value */

   switch (pvalue->accessTechType)
   {
      /* accessCapability */
      default:
         RTXCTXTPUSHELEMNAME (pctxt, "accessCapability");

         ret = NASEnc_TS24008IE_AccessCapability (pctxt, &pvalue->
            accessCapOrTech.u.accessCapability);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* additionalAccessTech */
      case 15:
         RTXCTXTPUSHELEMNAME (pctxt, "additionalAccessTech");

         ret = NASEnc_TS24008IE_AdditionalAccessTech (pctxt, &pvalue->
            accessCapOrTech.u.additionalAccessTech);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_MSRadioAccessCapability (OSCTXT* pctxt
   , TS24008IE_MSRadioAccessCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MSRadioAccessCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode firstRec */

   RTXCTXTPUSHELEMNAME (pctxt, "firstRec");

   ret = NASEnc_TS24008IE_MSRACapValuePartStruct (pctxt, &pvalue->firstRec);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode additionalRecs */

   RTXCTXTPUSHELEMNAME (pctxt, "additionalRecs");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->additionalRecs.n; i++) {
         RTDIAG_NEWBITFIELD (pctxt, "ext bit");

         ret = rtxEncBit (pctxt, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24008IE_MSRACapValuePartStruct (pctxt, &pvalue->
            additionalRecs.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
      RTDIAG_NEWBITFIELD (pctxt, "eol bit");

      ret = rtxEncBit (pctxt, 0);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);

   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length <= 50)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   rtxByteAlign (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RoutingAreaIdent2 (OSCTXT* pctxt
   , TS24008IE_RoutingAreaIdent2* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RoutingAreaIdent2");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");

   ret = NASEnc_TS24008IE_RoutingAreaIdent (pctxt, &pvalue->value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 6)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_UpdateResult (OSCTXT* pctxt
   , TS24008IE_UpdateResult* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UpdateResult");

   /* encode fop */

   RTXCTXTPUSHELEMNAME (pctxt, "fop");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->fop);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_UpdateType (OSCTXT* pctxt
   , TS24008IE_UpdateType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UpdateType");

   /* encode for */

   RTXCTXTPUSHELEMNAME (pctxt, "for");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->for_);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ServiceType (OSCTXT* pctxt
   , TS24008IE_ServiceType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ServiceType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PS_LCSCapbility (OSCTXT* pctxt
   , TS24008IE_PS_LCSCapbility* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PS-LCSCapbility");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mta-E */

   RTXCTXTPUSHELEMNAME (pctxt, "mta-E");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mta_E);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mta-R */

   RTXCTXTPUSHELEMNAME (pctxt, "mta-R");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mta_R);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode apc */

   RTXCTXTPUSHELEMNAME (pctxt, "apc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->apc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode otd-A */

   RTXCTXTPUSHELEMNAME (pctxt, "otd-A");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->otd_A);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode otd-B */

   RTXCTXTPUSHELEMNAME (pctxt, "otd-B");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->otd_B);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gps-A */

   RTXCTXTPUSHELEMNAME (pctxt, "gps-A");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->gps_A);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gps-B */

   RTXCTXTPUSHELEMNAME (pctxt, "gps-B");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->gps_B);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gps-C */

   RTXCTXTPUSHELEMNAME (pctxt, "gps-C");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->gps_C);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode motd */

   RTXCTXTPUSHELEMNAME (pctxt, "motd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->motd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mta-A */

   RTXCTXTPUSHELEMNAME (pctxt, "mta-A");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mta_A);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 2)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NetFeatureSupp (OSCTXT* pctxt
   , TS24008IE_NetFeatureSupp* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetFeatureSupp");

   /* encode lcs-molr */

   RTXCTXTPUSHELEMNAME (pctxt, "lcs-molr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lcs_molr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mbms */

   RTXCTXTPUSHELEMNAME (pctxt, "mbms");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mbms);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode imsVoPS */

   RTXCTXTPUSHELEMNAME (pctxt, "imsVoPS");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->imsVoPS);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emcBS */

   RTXCTXTPUSHELEMNAME (pctxt, "emcBS");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->emcBS);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_AddnNetFeatureSupport (OSCTXT* pctxt
   , TS24008IE_AddnNetFeatureSupport* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddnNetFeatureSupport");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epco */

   RTXCTXTPUSHELEMNAME (pctxt, "epco");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->epco);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode restrictEC */

   RTXCTXTPUSHELEMNAME (pctxt, "restrictEC");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->restrictEC);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode gprs-sms */

   RTXCTXTPUSHELEMNAME (pctxt, "gprs-sms");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->gprs_sms);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RequestedMSInfo (OSCTXT* pctxt
   , TS24008IE_RequestedMSInfo* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RequestedMSInfo");

   /* encode i-RAT */

   RTXCTXTPUSHELEMNAME (pctxt, "i-RAT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->i_RAT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode i-RAT2 */

   RTXCTXTPUSHELEMNAME (pctxt, "i-RAT2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->i_RAT2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_VoiceDomainPref (OSCTXT* pctxt
   , TS24008IE_VoiceDomainPref* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "VoiceDomainPref");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode usUsageSetting */

   RTXCTXTPUSHELEMNAME (pctxt, "usUsageSetting");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->usUsageSetting);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode enumValue */

   RTXCTXTPUSHELEMNAME (pctxt, "enumValue");

   ret = NASEnc_TS24008IE_VoiceDomainPref_enumValue (pctxt, pvalue->enumValue
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_P_TMSI_Type (OSCTXT* pctxt
   , TS24008IE_P_TMSI_Type* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "P-TMSI-Type");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p-tmsi-type */

   RTXCTXTPUSHELEMNAME (pctxt, "p-tmsi-type");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p_tmsi_type);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_LocAreaIdent2 (OSCTXT* pctxt
   , TS24008IE_LocAreaIdent2* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LocAreaIdent2");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");

   ret = NASEnc_TS24008IE_LocAreaIdent (pctxt, &pvalue->value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 5)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NetResourceIdentContainer (OSCTXT* pctxt
   , TS24008IE_NetResourceIdentContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetResourceIdentContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nriContValue */

   RTXCTXTPUSHELEMNAME (pctxt, "nriContValue");
   if (!(pvalue->nriContValue <= 1023)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nriContValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nriContValue, 10);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 2)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ExtDRXParams (OSCTXT* pctxt
   , TS24008IE_ExtDRXParams* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ExtDRXParams");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pagingTimeWindow */

   RTXCTXTPUSHELEMNAME (pctxt, "pagingTimeWindow");
   if (!(pvalue->pagingTimeWindow <= 16)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->pagingTimeWindow);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->pagingTimeWindow, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eDRXValue */

   RTXCTXTPUSHELEMNAME (pctxt, "eDRXValue");
   if (!(pvalue->eDRXValue <= 16)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->eDRXValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->eDRXValue, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_UserPlaneIntegInd (OSCTXT* pctxt
   , TS24008IE_UserPlaneIntegInd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UserPlaneIntegInd");

   /* encode spare4 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode integInd */

   RTXCTXTPUSHELEMNAME (pctxt, "integInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->integInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PlmnCnID (OSCTXT* pctxt, TS24008IE_PlmnCnID* pvalue
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PlmnCnID");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_Non3GPPNetPolicies (OSCTXT* pctxt
   , TS24008IE_Non3GPPNetPolicies* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Non3GPPNetPolicies");

   /* encode spare4 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emergencyNum */

   RTXCTXTPUSHELEMNAME (pctxt, "emergencyNum");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->emergencyNum);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_NSAPIValue (OSCTXT* pctxt
   , TS24008IE_NSAPIValue* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NSAPIValue");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PCOUnit (OSCTXT* pctxt, TS24008IE_PCOUnit* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PCOUnit");

   /* encode protocolID */

   RTXCTXTPUSHELEMNAME (pctxt, "protocolID");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->protocolID, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ProtocolConfigOptions_octet3 (OSCTXT* pctxt
   , TS24008IE_ProtocolConfigOptions_octet3* pvalue)
{
   int ret = 0;

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode configProtocol */

   RTXCTXTPUSHELEMNAME (pctxt, "configProtocol");
   if (!(pvalue->configProtocol <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->configProtocol);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->configProtocol, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ProtocolConfigOptions (OSCTXT* pctxt
   , TS24008IE_ProtocolConfigOptions* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ProtocolConfigOptions");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet3 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet3");
   ext = 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_ProtocolConfigOptions_octet3 (pctxt, &pvalue->octet3
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pcoUnits */

   RTXCTXTPUSHELEMNAME (pctxt, "pcoUnits");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->pcoUnits.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24008IE_PCOUnit (pctxt, &pvalue->pcoUnits.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 1 && pvalue->length <= 253))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ExtProtoConfigOptions_octet4 (OSCTXT* pctxt
   , TS24008IE_ExtProtoConfigOptions_octet4* pvalue)
{
   int ret = 0;

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode configProtocol */

   RTXCTXTPUSHELEMNAME (pctxt, "configProtocol");
   if (!(pvalue->configProtocol <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->configProtocol);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->configProtocol, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ExtProtoConfigOptions (OSCTXT* pctxt
   , TS24008IE_ExtProtoConfigOptions* pvalue)
{
   OSSIZE startIndex;
   OSUINT8 ext;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ExtProtoConfigOptions");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   ext = 1;
   RTDIAG_NEWBITFIELD (pctxt, "ext bit");
   ret = rtxEncBits (pctxt, ext, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   ret = NASEnc_TS24008IE_ExtProtoConfigOptions_octet4 (pctxt, &pvalue->octet4
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pcoUnits */

   RTXCTXTPUSHELEMNAME (pctxt, "pcoUnits");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->pcoUnits.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24008IE_PCOUnit (pctxt, &pvalue->pcoUnits.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 1 && pvalue->length <= 65532))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PacketDataProtoAddr (OSCTXT* pctxt
   , TS24008IE_PacketDataProtoAddr* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PacketDataProtoAddr");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pdpTypeOrg */

   RTXCTXTPUSHELEMNAME (pctxt, "pdpTypeOrg");
   if (!(pvalue->pdpTypeOrg <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->pdpTypeOrg);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->pdpTypeOrg, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pdpTypeNum */

   RTXCTXTPUSHELEMNAME (pctxt, "pdpTypeNum");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->pdpTypeNum, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addressInfo */

   RTXCTXTPUSHELEMNAME (pctxt, "addressInfo");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->addressInfo.numocts <= 20)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->addressInfo.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->addressInfo.data, pvalue->addressInfo.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 2 && pvalue->length <= 22))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_QualityOfService (OSCTXT* pctxt
   , TS24008IE_QualityOfService* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QualityOfService");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode delayClass */

   RTXCTXTPUSHELEMNAME (pctxt, "delayClass");
   if (!(pvalue->delayClass <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->delayClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->delayClass, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reliabilityClass */

   RTXCTXTPUSHELEMNAME (pctxt, "reliabilityClass");
   if (!(pvalue->reliabilityClass <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->reliabilityClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->reliabilityClass, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode peakThroughput */

   RTXCTXTPUSHELEMNAME (pctxt, "peakThroughput");
   if (!(pvalue->peakThroughput <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->peakThroughput);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->peakThroughput, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare2, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode precedenceClass */

   RTXCTXTPUSHELEMNAME (pctxt, "precedenceClass");
   if (!(pvalue->precedenceClass <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->precedenceClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->precedenceClass, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   if (!(pvalue->spare3 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare3);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare3, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode meanThroughput */

   RTXCTXTPUSHELEMNAME (pctxt, "meanThroughput");
   if (!(pvalue->meanThroughput <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->meanThroughput);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->meanThroughput, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode trafficClass */

   RTXCTXTPUSHELEMNAME (pctxt, "trafficClass");
   if (!(pvalue->trafficClass <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->trafficClass);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->trafficClass, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode deliveryOrder */

   RTXCTXTPUSHELEMNAME (pctxt, "deliveryOrder");
   if (!(pvalue->deliveryOrder <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->deliveryOrder);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->deliveryOrder, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode deliveryErroneousSDU */

   RTXCTXTPUSHELEMNAME (pctxt, "deliveryErroneousSDU");
   if (!(pvalue->deliveryErroneousSDU <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->deliveryErroneousSDU);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->deliveryErroneousSDU, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxSDUSize */

   RTXCTXTPUSHELEMNAME (pctxt, "maxSDUSize");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxSDUSize, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxUplinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "maxUplinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxUplinkBR, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxDownlinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "maxDownlinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxDownlinkBR, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode residualBER */

   RTXCTXTPUSHELEMNAME (pctxt, "residualBER");
   if (!(pvalue->residualBER <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->residualBER);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->residualBER, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sduErrorRatio */

   RTXCTXTPUSHELEMNAME (pctxt, "sduErrorRatio");
   if (!(pvalue->sduErrorRatio <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->sduErrorRatio);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->sduErrorRatio, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode transferDelay */

   RTXCTXTPUSHELEMNAME (pctxt, "transferDelay");
   if (!(pvalue->transferDelay <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->transferDelay);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->transferDelay, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode trafficHandlingPrio */

   RTXCTXTPUSHELEMNAME (pctxt, "trafficHandlingPrio");
   if (!(pvalue->trafficHandlingPrio <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->trafficHandlingPrio);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->trafficHandlingPrio, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode guaranteedUplinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "guaranteedUplinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->guaranteedUplinkBR, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode guaranteedDownlinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "guaranteedDownlinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->guaranteedDownlinkBR, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare4 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare4");
   if (!(pvalue->spare4 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare4);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare4, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode signallingIndication */

   RTXCTXTPUSHELEMNAME (pctxt, "signallingIndication");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->signallingIndication);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sourceStatsDescriptor */

   RTXCTXTPUSHELEMNAME (pctxt, "sourceStatsDescriptor");
   if (!(pvalue->sourceStatsDescriptor <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->sourceStatsDescriptor);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->sourceStatsDescriptor, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extBitRate */

   RTXCTXTPUSHELEMNAME (pctxt, "extBitRate");
   {
      OSUINT8 i;
      if (!(pvalue->extBitRate.n <= 8)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->extBitRate.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->extBitRate.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->extBitRate.elem[i], 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 4)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ReattemptInd (OSCTXT* pctxt
   , TS24008IE_ReattemptInd* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReattemptInd");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare8 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare8");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare7 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare6 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare5 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare4 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eplmNCValue */

   RTXCTXTPUSHELEMNAME (pctxt, "eplmNCValue");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eplmNCValue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ratcValue */

   RTXCTXTPUSHELEMNAME (pctxt, "ratcValue");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ratcValue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_ExtQualityOfService (OSCTXT* pctxt
   , TS24008IE_ExtQualityOfService* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ExtQualityOfService");

   /* encode maxBRUnit */

   RTXCTXTPUSHELEMNAME (pctxt, "maxBRUnit");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxBRUnit, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxUplinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "maxUplinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxUplinkBR, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxDownlinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "maxDownlinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxDownlinkBR, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode guaranteedBRUnit */

   RTXCTXTPUSHELEMNAME (pctxt, "guaranteedBRUnit");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->guaranteedBRUnit, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode guaranteedUplinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "guaranteedUplinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->guaranteedUplinkBR, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode guaranteedDownlinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "guaranteedDownlinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->guaranteedDownlinkBR, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24008IESEnc_LinkedTI.c */

EXTERN int NASEnc_TS24008IE_LinkedTI 
(OSCTXT* pctxt, TS24008IE_LinkedTI* pvalue)
{
   OSUINT8 len = (pvalue->value >= 7) ? 2 : 1;
   OSUINT8 tmpval;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LinkedTI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, len, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode flag */

   RTXCTXTPUSHELEMNAME (pctxt, "flag");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->flag);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* If value is less than 7, it it encoded directly in 3 bit field
      here.  Otheriwse 7 is encoded, and value is encoded in next byte. */

   tmpval = OSRTMIN (pvalue->value, 7);
   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, tmpval, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode extended value if >= 7 */

   if (pvalue->value >= 7) {
      RTXCTXTPUSHELEMNAME (pctxt, "ext");
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);

      /* encode value */

      RTXCTXTPUSHELEMNAME (pctxt, "value");
      if (!(pvalue->value <= OSUINTCONST(127))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->value);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, pvalue->value, 7);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}


/* end custom source file TS24008IESEnc_LinkedTI.c */

EXTERN int NASEnc_TS24008IE_LLCSAPIValue (OSCTXT* pctxt
   , TS24008IE_LLCSAPIValue* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LLCSAPIValue");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TDIValue (OSCTXT* pctxt, TS24008IE_TDIValue* pvalue
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TDIValue");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tdiFlag */

   RTXCTXTPUSHELEMNAME (pctxt, "tdiFlag");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->tdiFlag);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PacketFlowIdentValue (OSCTXT* pctxt
   , TS24008IE_PacketFlowIdentValue* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PacketFlowIdentValue");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TFTOctet1 (OSCTXT* pctxt
   , TS24008IE_TFTOctet1* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TFTOctet1");

   /* encode tftOperationCode */

   RTXCTXTPUSHELEMNAME (pctxt, "tftOperationCode");

   ret = NASEnc_TS24008IE_TFTOctet1_tftOperationCode (pctxt, pvalue->
      tftOperationCode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eBit */

   RTXCTXTPUSHELEMNAME (pctxt, "eBit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eBit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numPacketFilters */

   RTXCTXTPUSHELEMNAME (pctxt, "numPacketFilters");
   if (!(pvalue->numPacketFilters <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numPacketFilters);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numPacketFilters, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TFTPacketFilterItem (OSCTXT* pctxt
   , TS24008IE_TFTPacketFilterItem* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TFTPacketFilterItem");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pfDirection */

   RTXCTXTPUSHELEMNAME (pctxt, "pfDirection");
   if (!(pvalue->pfDirection <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->pfDirection);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->pfDirection, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pfIdentifier */

   RTXCTXTPUSHELEMNAME (pctxt, "pfIdentifier");
   if (!(pvalue->pfIdentifier <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->pfIdentifier);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->pfIdentifier, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pfEvaluationPrecedence */

   RTXCTXTPUSHELEMNAME (pctxt, "pfEvaluationPrecedence");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->pfEvaluationPrecedence, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_TFTParam (OSCTXT* pctxt, TS24008IE_TFTParam* pvalue
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TFTParam");

   /* encode paramIdentifier */

   RTXCTXTPUSHELEMNAME (pctxt, "paramIdentifier");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->paramIdentifier, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24008IESEnc_TFT.c */

EXTERN int NASEnc_TS24008IE_TFT (OSCTXT* pctxt, TS24008IE_TFT* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TFT");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, 0, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = pctxt->buffer.byteIndex;

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet1 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet1");

   ret = NASEnc_TS24008IE_TFTOctet1 (pctxt, &pvalue->octet1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode packetFilterList */

   RTXCTXTPUSHELEMNAME (pctxt, "packetFilterList");

   switch (pvalue->octet1.tftOperationCode)
   {
      /* identifiers */
      case 5:
         RTXCTXTPUSHELEMNAME (pctxt, "identifiers");
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         /* set numocts to packet filter count */
         pvalue->packetFilterList.u.identifiers.numocts =
            pvalue->octet1.numPacketFilters;

         ret = rtxWriteBytes (pctxt, 
            pvalue->packetFilterList.u.identifiers.data, 
            pvalue->octet1.numPacketFilters);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* filterItems */
      default:
         RTXCTXTPUSHELEMNAME (pctxt, "filterItems");
         {
            OSUINT8 i;
            pvalue->packetFilterList.u.filterItems.n = 
               pvalue->octet1.numPacketFilters;

            for (i = 0; i < pvalue->packetFilterList.u.filterItems.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24008IE_TFTPacketFilterItem (pctxt, &pvalue->
                  packetFilterList.u.filterItems.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode paramList */

   RTXCTXTPUSHELEMNAME (pctxt, "paramList");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->paramList.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24008IE_TFTParam (pctxt, &pvalue->paramList.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   pvalue->length = (OSUINT8) (pctxt->buffer.byteIndex - startIndex);
   pctxt->buffer.data[startIndex-1] = (OSUINT8) pvalue->length;
   if (0 == pvalue->length) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddUIntParm (pctxt, pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* end custom source file TS24008IESEnc_TFT.c */

EXTERN int NASEnc_TS24008IE_MBMSBearerCaps (OSCTXT* pctxt
   , TS24008IE_MBMSBearerCaps* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MBMSBearerCaps");

   /* encode maxDownlinkBR */

   RTXCTXTPUSHELEMNAME (pctxt, "maxDownlinkBR");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxDownlinkBR, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxDownlinkBRExt */

   RTXCTXTPUSHELEMNAME (pctxt, "maxDownlinkBRExt");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxDownlinkBRExt, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_RequestTypeValue (OSCTXT* pctxt
   , TS24008IE_RequestTypeValue* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RequestTypeValue");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_WLANOffloadAccept (OSCTXT* pctxt
   , TS24008IE_WLANOffloadAccept* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "WLANOffloadAccept");

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode uTranOffloadAcceptValue */

   RTXCTXTPUSHELEMNAME (pctxt, "uTranOffloadAcceptValue");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->uTranOffloadAcceptValue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode e-UTranOffloadAcceptValue */

   RTXCTXTPUSHELEMNAME (pctxt, "e-UTranOffloadAcceptValue");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->e_UTranOffloadAcceptValue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_PDPContextStatus (OSCTXT* pctxt
   , TS24008IE_PDPContextStatus* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDPContextStatus");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->value, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GPRSTimer (OSCTXT* pctxt
   , TS24008IE_GPRSTimer* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GPRSTimer");

   /* encode unit */

   RTXCTXTPUSHELEMNAME (pctxt, "unit");
   if (!(pvalue->unit <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->unit);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->unit, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode timerValue */

   RTXCTXTPUSHELEMNAME (pctxt, "timerValue");
   if (!(pvalue->timerValue <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->timerValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->timerValue, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GPRSTimer2 (OSCTXT* pctxt
   , TS24008IE_GPRSTimer2* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GPRSTimer2");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");

   ret = NASEnc_TS24008IE_GPRSTimer (pctxt, &pvalue->value);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_GPRSTimer3 (OSCTXT* pctxt
   , TS24008IE_GPRSTimer3* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "GPRSTimer3");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode unit */

   RTXCTXTPUSHELEMNAME (pctxt, "unit");

   ret = NASEnc_TS24008IE_GPRSTimer3_unit (pctxt, pvalue->unit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode timerValue */

   RTXCTXTPUSHELEMNAME (pctxt, "timerValue");
   if (!(pvalue->timerValue <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->timerValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->timerValue, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_UplinkDataStatus (OSCTXT* pctxt
   , TS24008IE_UplinkDataStatus* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UplinkDataStatus");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->value, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 2)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24008IE_DeviceProperties (OSCTXT* pctxt
   , TS24008IE_DeviceProperties* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DeviceProperties");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lowPriority */

   RTXCTXTPUSHELEMNAME (pctxt, "lowPriority");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lowPriority);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

