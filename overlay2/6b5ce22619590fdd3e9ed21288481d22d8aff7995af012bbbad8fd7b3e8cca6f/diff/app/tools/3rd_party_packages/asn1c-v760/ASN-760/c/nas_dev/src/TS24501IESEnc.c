/**
 * This file was generated by the Objective Systems ASN1C Compiler
 * (http://www.obj-sys.com).  Version: 7.6.0, Date: 15-Feb-2022.
 */
#include "TS24501IES.h"
#include "rtxsrc/rtxCommon.h"
#include "rtxsrc/rtxBitEncode.h"
#include "rtxsrc/rtxIntEncode.h"
#include "rt3gppsrc/rtx3GPP.h"
#include "rt3gppsrc/rt3gppNasSec.h"
#include "rtxsrc/rtxDiagBitTrace.h"

EXTERN int NASEnc_TS24501IE_AdditionalInfo (OSCTXT* pctxt
   , TS24501IE_AdditionalInfo value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AdditionalInfo");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EAPFormatCode (OSCTXT* pctxt
   , TS24501IE_EAPFormatCode value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EAPFormatCode");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_EAPFormatCode_request:
      case TS24501IE_EAPFormatCode_response:
      case TS24501IE_EAPFormatCode_success:
      case TS24501IE_EAPFormatCode_failure:
      case TS24501IE_EAPFormatCode_codeMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_N1ToS1NASContainer (OSCTXT* pctxt
   , TS24501IE_N1ToS1NASContainer value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "N1ToS1NASContainer");

   /* Encode INTEGER value */
   if (!(value >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SST (OSCTXT* pctxt, TS24501IE_SST value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SST");

   /* Encode INTEGER value */
   if (!(value >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SD (OSCTXT* pctxt, TS24501IE_SD value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SD");

   /* Encode INTEGER value */
   if (!((value >= 1 && value <= 16777215))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, value, 24);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLAAParamTypes (OSCTXT* pctxt
   , TS24501IE_SLAAParamTypes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SLAAParamTypes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_SLAAParamTypes_ptDeviceId:
      case TS24501IE_SLAAParamTypes_ptServerAddr:
      case TS24501IE_SLAAParamTypes_ptPayload:
      case TS24501IE_SLAAParamTypes_ptResponse:
      case TS24501IE_SLAAParamTypes_ptMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MMCause (OSCTXT* pctxt, TS24501IE_MMCause value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MMCause");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_TypeOfIdentity (OSCTXT* pctxt
   , TS24501IE_TypeOfIdentity value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TypeOfIdentity");

   /* Encode ENUMERATED value */
   if (value >= 8) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RegistrationResultValue (OSCTXT* pctxt
   , TS24501IE_RegistrationResultValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationResultValue");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_RegistrationResultValue_access:
      case TS24501IE_RegistrationResultValue_nonAccess:
      case TS24501IE_RegistrationResultValue_accessAndNonAccess:
      case TS24501IE_RegistrationResultValue_regResultMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RegistrationTypeValue (OSCTXT* pctxt
   , TS24501IE_RegistrationTypeValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationTypeValue");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_RegistrationTypeValue_initial:
      case TS24501IE_RegistrationTypeValue_mobilityUpdate:
      case TS24501IE_RegistrationTypeValue_periodicUpdate:
      case TS24501IE_RegistrationTypeValue_emergency:
      case TS24501IE_RegistrationTypeValue_snpnOnboard:
      case TS24501IE_RegistrationTypeValue_regisTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_TrackingAreaCode (OSCTXT* pctxt
   , TS24501IE_TrackingAreaCode* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaCode");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ABBA (OSCTXT* pctxt, TS24501IE_ABBA value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ABBA");

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, value.data, value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CIoTDataTypes (OSCTXT* pctxt
   , TS24501IE_CIoTDataTypes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CIoTDataTypes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_CIoTDataTypes_ciotCtrlPlaneUserData:
      case TS24501IE_CIoTDataTypes_ciotSMS:
      case TS24501IE_CIoTDataTypes_ciotLocSvcsMsg:
      case TS24501IE_CIoTDataTypes_ciotMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MAPDUSessionInfo (OSCTXT* pctxt
   , TS24501IE_MAPDUSessionInfo value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MAPDUSessionInfo");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_MAPDUSessionInfo_networkUpgAllowed:
      case TS24501IE_MAPDUSessionInfo_mapduMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CipherTypes (OSCTXT* pctxt
   , TS24501IE_CipherTypes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CipherTypes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_CipherTypes_ia0:
      case TS24501IE_CipherTypes_ia1:
      case TS24501IE_CipherTypes_ia2:
      case TS24501IE_CipherTypes_ia3:
      case TS24501IE_CipherTypes_ia4:
      case TS24501IE_CipherTypes_ia5:
      case TS24501IE_CipherTypes_ia6:
      case TS24501IE_CipherTypes_ia7:
      case TS24501IE_CipherTypes_cipherTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ProtectionTypes (OSCTXT* pctxt
   , TS24501IE_ProtectionTypes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ProtectionTypes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_ProtectionTypes_ea0:
      case TS24501IE_ProtectionTypes_ea1:
      case TS24501IE_ProtectionTypes_ea2:
      case TS24501IE_ProtectionTypes_ea3:
      case TS24501IE_ProtectionTypes_ea4:
      case TS24501IE_ProtectionTypes_ea5:
      case TS24501IE_ProtectionTypes_ea6:
      case TS24501IE_ProtectionTypes_ea7:
      case TS24501IE_ProtectionTypes_protectionTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AccessCategories (OSCTXT* pctxt
   , TS24501IE_AccessCategories value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessCategories");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_AccessCategories_category0:
      case TS24501IE_AccessCategories_category1:
      case TS24501IE_AccessCategories_category2:
      case TS24501IE_AccessCategories_category3:
      case TS24501IE_AccessCategories_category4:
      case TS24501IE_AccessCategories_category5:
      case TS24501IE_AccessCategories_category6:
      case TS24501IE_AccessCategories_category7:
      case TS24501IE_AccessCategories_categoryMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PayloadContainerType (OSCTXT* pctxt
   , TS24501IE_PayloadContainerType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PayloadContainerType");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_PayloadContainerType_n1SmInfo:
      case TS24501IE_PayloadContainerType_sms:
      case TS24501IE_PayloadContainerType_lppMessage:
      case TS24501IE_PayloadContainerType_transparent:
      case TS24501IE_PayloadContainerType_uePolicy:
      case TS24501IE_PayloadContainerType_ueParams:
      case TS24501IE_PayloadContainerType_locSvcs:
      case TS24501IE_PayloadContainerType_ciotUserData:
      case TS24501IE_PayloadContainerType_multPayloads:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PDUSessionId2 (OSCTXT* pctxt
   , TS24501IE_PDUSessionId2 value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUSessionId2");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SessionReactivateRslt_psi (OSCTXT* pctxt
   , TS24501IE_SessionReactivateRslt_psi* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 16; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SessionReactivateRslt (OSCTXT* pctxt
   , TS24501IE_SessionReactivateRslt* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionReactivateRslt");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psi */

   RTXCTXTPUSHELEMNAME (pctxt, "psi");

   ret = NASEnc_TS24501IE_SessionReactivateRslt_psi (pctxt, &pvalue->psi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PDUSessionStatus (OSCTXT* pctxt
   , TS24501IE_PDUSessionStatus* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUSessionStatus");

   ret = NASEnc_TS24501IE_SessionReactivateRslt (pctxt, pvalue);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RequestTypes (OSCTXT* pctxt
   , TS24501IE_RequestTypes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RequestTypes");

   /* Encode ENUMERATED value */
   if (value >= 8) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ServiceType (OSCTXT* pctxt
   , TS24501IE_ServiceType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ServiceType");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_ServiceType_signaling:
      case TS24501IE_ServiceType_data:
      case TS24501IE_ServiceType_mobTermSvc:
      case TS24501IE_ServiceType_emerSvc:
      case TS24501IE_ServiceType_emerSvcFallback:
      case TS24501IE_ServiceType_hiPriAccess:
      case TS24501IE_ServiceType_elevSignal:
      case TS24501IE_ServiceType_serviceTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PERNTypes (OSCTXT* pctxt, TS24501IE_PERNTypes value
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PERNTypes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_PERNTypes_pernWithoutTimer:
      case TS24501IE_PERNTypes_pernWithTimer:
      case TS24501IE_PERNTypes_pernTypeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ATSSSModes (OSCTXT* pctxt
   , TS24501IE_ATSSSModes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ATSSSModes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_ATSSSModes_unsupported:
      case TS24501IE_ATSSSModes_lowLayer:
      case TS24501IE_ATSSSModes_activeOnly:
      case TS24501IE_ATSSSModes_anyMode:
      case TS24501IE_ATSSSModes_atsssModeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SMCause (OSCTXT* pctxt, TS24501IE_SMCause value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMCause");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EPSParamId (OSCTXT* pctxt
   , TS24501IE_EPSParamId value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSParamId");

   /* Encode ENUMERATED value */
   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PDUAddressValues (OSCTXT* pctxt
   , TS24501IE_PDUAddressValues value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUAddressValues");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_PDUAddressValues_ipv4:
      case TS24501IE_PDUAddressValues_ipv6:
      case TS24501IE_PDUAddressValues_ipv4v6:
      case TS24501IE_PDUAddressValues_pduAddrValMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SessionType (OSCTXT* pctxt
   , TS24501IE_SessionType value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionType");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_SessionType_st_ipv4:
      case TS24501IE_SessionType_st_ipv6:
      case TS24501IE_SessionType_st_ipv4v6:
      case TS24501IE_SessionType_st_unstructured:
      case TS24501IE_SessionType_st_eth:
      case TS24501IE_SessionType_st_MAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ParameterId (OSCTXT* pctxt
   , TS24501IE_ParameterId value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ParameterId");

   /* Encode ENUMERATED value */
   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_FlowRateUnit (OSCTXT* pctxt
   , TS24501IE_FlowRateUnit value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "FlowRateUnit");

   /* Encode INTEGER value */
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, value, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_FlowOpCodes (OSCTXT* pctxt
   , TS24501IE_FlowOpCodes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "FlowOpCodes");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_FlowOpCodes_flowCreate:
      case TS24501IE_FlowOpCodes_flowDelete:
      case TS24501IE_FlowOpCodes_flowModify:
      case TS24501IE_FlowOpCodes_ruleOpMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RuleOpCodes (OSCTXT* pctxt
   , TS24501IE_RuleOpCodes value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RuleOpCodes");

   /* Encode ENUMERATED value */
   if (value >= 8) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PacketFilterTypeId (OSCTXT* pctxt
   , TS24501IE_PacketFilterTypeId value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PacketFilterTypeId");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_PacketFilterTypeId_matchAll:
      case TS24501IE_PacketFilterTypeId_ipv4Remote:
      case TS24501IE_PacketFilterTypeId_ipv4Local:
      case TS24501IE_PacketFilterTypeId_ipv6Remote:
      case TS24501IE_PacketFilterTypeId_ipv6Local:
      case TS24501IE_PacketFilterTypeId_protId:
      case TS24501IE_PacketFilterTypeId_singleLocalPort:
      case TS24501IE_PacketFilterTypeId_localPortRange:
      case TS24501IE_PacketFilterTypeId_singleRemPort:
      case TS24501IE_PacketFilterTypeId_remPortRange:
      case TS24501IE_PacketFilterTypeId_secParam:
      case TS24501IE_PacketFilterTypeId_typeOfSvc:
      case TS24501IE_PacketFilterTypeId_flowLabel:
      case TS24501IE_PacketFilterTypeId_destMacAddr:
      case TS24501IE_PacketFilterTypeId_srcMacAddr:
      case TS24501IE_PacketFilterTypeId_ctagVid:
      case TS24501IE_PacketFilterTypeId_stagVid:
      case TS24501IE_PacketFilterTypeId_ctagPcp:
      case TS24501IE_PacketFilterTypeId_stagPcp:
      case TS24501IE_PacketFilterTypeId_ethernet:
      case TS24501IE_PacketFilterTypeId_typeIdMax:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SSCModeValue (OSCTXT* pctxt
   , TS24501IE_SSCModeValue value)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SSCModeValue");

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_SSCModeValue_ssc_mode1:
      case TS24501IE_SSCModeValue_ssc_mode2:
      case TS24501IE_SSCModeValue_ssc_mode3:
      case TS24501IE_SSCModeValue_ssc_MAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AccessType_typeOfAccess (OSCTXT* pctxt
   , TS24501IE_AccessType_typeOfAccess value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 3) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLDeviceId_id (OSCTXT* pctxt
   , TS24501IE_SLDeviceId_id* pvalue)
{
   int ret = 0;

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->numocts >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLAAServerAddr_addr (OSCTXT* pctxt
   , TS24501IE_SLAAServerAddr_addr* pvalue)
{
   int ret = 0;

   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->numocts >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data, pvalue->numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NSSAIInclusionMode_inclusionMode (OSCTXT* pctxt
   , TS24501IE_NSSAIInclusionMode_inclusionMode value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   if (value >= 4) {
      rtxErrAddUIntParm (pctxt, value);
      return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RejectedNSSAI_cause (OSCTXT* pctxt
   , TS24501IE_RejectedNSSAI_cause value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_RejectedNSSAI_cause_unavailInCurrPlmn:
      case TS24501IE_RejectedNSSAI_cause_unavailInCurrRegisArea:
      case TS24501IE_RejectedNSSAI_cause_authPending:
      case TS24501IE_RejectedNSSAI_cause_causeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ExtRejectedNSSAI_cause (OSCTXT* pctxt
   , TS24501IE_ExtRejectedNSSAI_cause value)
{
   int ret = 0;

   /* Encode ENUMERATED value */
   switch (value) {
      case TS24501IE_ExtRejectedNSSAI_cause_unavailInCurrPlmn:
      case TS24501IE_ExtRejectedNSSAI_cause_unavailInCurrRegisArea:
      case TS24501IE_ExtRejectedNSSAI_cause_authPending:
      case TS24501IE_ExtRejectedNSSAI_cause_maxUEsReached:
      case TS24501IE_ExtRejectedNSSAI_cause_causeMAX:
         break;

      default:
         rtxErrAddUIntParm (pctxt, value);
         return LOG_RTERR (pctxt, RTERR_INVENUM);
   }

   RTDIAG_NEWBITFIELD (pctxt, "ENUMERATED");

   ret = rtxEncBits (pctxt, value, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_OpaqueData (OSCTXT* pctxt
   , TS24501IE_OpaqueData* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "OpaqueData");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AccessType (OSCTXT* pctxt
   , TS24501IE_AccessType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfAccess */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfAccess");

   ret = NASEnc_TS24501IE_AccessType_typeOfAccess (pctxt, pvalue->typeOfAccess
      );
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_DNNList (OSCTXT* pctxt, TS24501IE_DNNList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DNNList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode apn */

   RTXCTXTPUSHELEMNAME (pctxt, "apn");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->apn.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
         RTDIAG_NEWBITFIELD (pctxt, "IA5String length");

         if (OSCRTLSTRLEN(pvalue->apn.elem[i]) > 255) return LOG_RTERR(pctxt, RTERR_TOOBIG);
         ret = rtxEncUInt32(pctxt, (OSUINT32) OSCRTLSTRLEN(pvalue->apn.elem[i]), 1);
         if (ret < 0) return LOG_RTERR(pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTDIAG_NEWBITFIELD (pctxt, "IA5String");

         ret = rtxCopyAsciiText (pctxt, pvalue->apn.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EAPPacketFormat (OSCTXT* pctxt
   , TS24501IE_EAPPacketFormat* pvalue)
{
   int ret = 0;

   /* encode code */

   RTXCTXTPUSHELEMNAME (pctxt, "code");

   ret = NASEnc_TS24501IE_EAPFormatCode (pctxt, pvalue->code);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->id, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!(pvalue->length >= 4)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->length, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode data */

   RTXCTXTPUSHELEMNAME (pctxt, "data");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->data.data, pvalue->data.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EAPMessage (OSCTXT* pctxt
   , TS24501IE_EAPMessage* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EAPMessage");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode packetFormat */

   RTXCTXTPUSHELEMNAME (pctxt, "packetFormat");

   ret = NASEnc_TS24501IE_EAPPacketFormat (pctxt, &pvalue->packetFormat);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_IntraN1NASContainer (OSCTXT* pctxt
   , TS24501IE_IntraN1NASContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IntraN1NASContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode authCode */

   RTXCTXTPUSHELEMNAME (pctxt, "authCode");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->authCode, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipherType */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherType");
   if (!(pvalue->cipherType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->cipherType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->cipherType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode integrityType */

   RTXCTXTPUSHELEMNAME (pctxt, "integrityType");
   if (!(pvalue->integrityType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->integrityType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->integrityType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode kacf */

   RTXCTXTPUSHELEMNAME (pctxt, "kacf");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->kacf);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tsc */

   RTXCTXTPUSHELEMNAME (pctxt, "tsc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->tsc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode keysetId */

   RTXCTXTPUSHELEMNAME (pctxt, "keysetId");
   if (!(pvalue->keysetId <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->keysetId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->keysetId, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode seqNumber */

   RTXCTXTPUSHELEMNAME (pctxt, "seqNumber");
   if (!(pvalue->seqNumber >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->seqNumber);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->seqNumber, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SNSSAI (OSCTXT* pctxt, TS24501IE_SNSSAI* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SNSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sst */

   RTXCTXTPUSHELEMNAME (pctxt, "sst");

   ret = NASEnc_TS24501IE_SST (pctxt, pvalue->sst);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sd */

   RTXCTXTPUSHELEMNAME (pctxt, "sd");
   if (pvalue->m.sdPresent) {

      ret = NASEnc_TS24501IE_SD (pctxt, pvalue->sd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSST */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSST");
   if (pvalue->m.mappedSSTPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSST, 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSD */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSD");
   if (pvalue->m.mappedSDPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSD, 24);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_S1ToN1NASContainer (OSCTXT* pctxt
   , TS24501IE_S1ToN1NASContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "S1ToN1NASContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode authCode */

   RTXCTXTPUSHELEMNAME (pctxt, "authCode");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->authCode, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipherType */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherType");
   if (!(pvalue->cipherType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->cipherType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->cipherType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode integrityType */

   RTXCTXTPUSHELEMNAME (pctxt, "integrityType");
   if (!(pvalue->integrityType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->integrityType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->integrityType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ncc */

   RTXCTXTPUSHELEMNAME (pctxt, "ncc");
   if (!(pvalue->ncc <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->ncc);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->ncc, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tsc */

   RTXCTXTPUSHELEMNAME (pctxt, "tsc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->tsc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode keysetId */

   RTXCTXTPUSHELEMNAME (pctxt, "keysetId");
   if (!(pvalue->keysetId <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->keysetId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->keysetId, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->spare2, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLDeviceId (OSCTXT* pctxt
   , TS24501IE_SLDeviceId* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SLDeviceId");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");

   ret = NASEnc_TS24501IE_SLDeviceId_id (pctxt, &pvalue->id);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLAAServerAddr (OSCTXT* pctxt
   , TS24501IE_SLAAServerAddr* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SLAAServerAddr");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addrType */

   RTXCTXTPUSHELEMNAME (pctxt, "addrType");
   if (!(pvalue->addrType >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->addrType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->addrType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addr */

   RTXCTXTPUSHELEMNAME (pctxt, "addr");

   ret = NASEnc_TS24501IE_SLAAServerAddr_addr (pctxt, &pvalue->addr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLAAPayload (OSCTXT* pctxt
   , TS24501IE_SLAAPayload* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SLAAPayload");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode payload */

   RTXCTXTPUSHELEMNAME (pctxt, "payload");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->payload.numocts >= 1 && pvalue->payload.numocts <= 65532))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->payload.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->payload.numocts, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->payload.data, pvalue->payload.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLAAResponse (OSCTXT* pctxt
   , TS24501IE_SLAAResponse* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SLAAResponse");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode slar */

   RTXCTXTPUSHELEMNAME (pctxt, "slar");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->slar);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLAAParameter (OSCTXT* pctxt
   , TS24501IE_SLAAParameter* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SLAAParameter");

   /* encode type */

   RTXCTXTPUSHELEMNAME (pctxt, "type");

   ret = NASEnc_TS24501IE_SLAAParamTypes (pctxt, pvalue->type);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode param */

   RTXCTXTPUSHELEMNAME (pctxt, "param");
   /* Encode choice data value */

   switch (pvalue->type)
   {
      /* deviceId */
      case 16:
         RTXCTXTPUSHELEMNAME (pctxt, "deviceId");

         ret = NASEnc_TS24501IE_SLDeviceId (pctxt, &pvalue->param.u.deviceId);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* serverAddr */
      case 32:
         RTXCTXTPUSHELEMNAME (pctxt, "serverAddr");

         ret = NASEnc_TS24501IE_SLAAServerAddr (pctxt, &pvalue->param.
            u.serverAddr);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* payload */
      case 48:
         RTXCTXTPUSHELEMNAME (pctxt, "payload");

         ret = NASEnc_TS24501IE_SLAAPayload (pctxt, &pvalue->param.u.payload);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* response */
      case 112:
         RTXCTXTPUSHELEMNAME (pctxt, "response");

         ret = NASEnc_TS24501IE_SLAAResponse (pctxt, &pvalue->param.u.response
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SLAAContainer (OSCTXT* pctxt
   , TS24501IE_SLAAContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SLAAContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      if (!((pvalue->contents.n >= 1 && pvalue->contents.n <= 256))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_SLAAParameter (pctxt, &pvalue->contents.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MMCapability_octet4 (OSCTXT* pctxt
   , TS24501IE_MMCapability_octet4* pvalue)
{
   int ret = 0;

   /* encode racs */

   RTXCTXTPUSHELEMNAME (pctxt, "racs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->racs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nssaa */

   RTXCTXTPUSHELEMNAME (pctxt, "nssaa");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nssaa);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lcs */

   RTXCTXTPUSHELEMNAME (pctxt, "lcs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lcs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode v2xcnpc5 */

   RTXCTXTPUSHELEMNAME (pctxt, "v2xcnpc5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->v2xcnpc5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode v2xcepc5 */

   RTXCTXTPUSHELEMNAME (pctxt, "v2xcepc5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->v2xcepc5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode v2x */

   RTXCTXTPUSHELEMNAME (pctxt, "v2x");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->v2x);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode upCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "upCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->upCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode srvcc */

   RTXCTXTPUSHELEMNAME (pctxt, "srvcc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->srvcc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MMCapability_octet5 (OSCTXT* pctxt
   , TS24501IE_MMCapability_octet5* pvalue)
{
   int ret = 0;

   /* encode proSel2relay */

   RTXCTXTPUSHELEMNAME (pctxt, "proSel2relay");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->proSel2relay);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode proSedc */

   RTXCTXTPUSHELEMNAME (pctxt, "proSedc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->proSedc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode proSedd */

   RTXCTXTPUSHELEMNAME (pctxt, "proSedd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->proSedd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode erNssai */

   RTXCTXTPUSHELEMNAME (pctxt, "erNssai");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->erNssai);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ehcCpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "ehcCpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ehcCpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode multipleUp */

   RTXCTXTPUSHELEMNAME (pctxt, "multipleUp");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->multipleUp);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode wusa */

   RTXCTXTPUSHELEMNAME (pctxt, "wusa");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->wusa);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cag */

   RTXCTXTPUSHELEMNAME (pctxt, "cag");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cag);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MMCapability_octet6 (OSCTXT* pctxt
   , TS24501IE_MMCapability_octet6* pvalue)
{
   int ret = 0;

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode proSel3rmt */

   RTXCTXTPUSHELEMNAME (pctxt, "proSel3rmt");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->proSel3rmt);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode proSel2rmt */

   RTXCTXTPUSHELEMNAME (pctxt, "proSel2rmt");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->proSel2rmt);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode proSel3relay */

   RTXCTXTPUSHELEMNAME (pctxt, "proSel3relay");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->proSel3relay);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MMCapability (OSCTXT* pctxt
   , TS24501IE_MMCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MMCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sgc */

   RTXCTXTPUSHELEMNAME (pctxt, "sgc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->sgc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hcCpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "hcCpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->hcCpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode n3Data */

   RTXCTXTPUSHELEMNAME (pctxt, "n3Data");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->n3Data);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "cpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode restrictedEC */

   RTXCTXTPUSHELEMNAME (pctxt, "restrictedEC");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->restrictedEC);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lppSupported */

   RTXCTXTPUSHELEMNAME (pctxt, "lppSupported");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lppSupported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode handoverSupported */

   RTXCTXTPUSHELEMNAME (pctxt, "handoverSupported");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->handoverSupported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode s1Supported */

   RTXCTXTPUSHELEMNAME (pctxt, "s1Supported");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->s1Supported);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {

      ret = NASEnc_TS24501IE_MMCapability_octet4 (pctxt, &pvalue->octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet5 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet5");
   if (pvalue->m.octet5Present) {

      ret = NASEnc_TS24501IE_MMCapability_octet5 (pctxt, &pvalue->octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet6 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet6");
   if (pvalue->m.octet6Present) {

      ret = NASEnc_TS24501IE_MMCapability_octet6 (pctxt, &pvalue->octet6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_DRXParams (OSCTXT* pctxt
   , TS24501IE_DRXParams* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DRXParams");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode drxValue */

   RTXCTXTPUSHELEMNAME (pctxt, "drxValue");
   if (!(pvalue->drxValue <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->drxValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->drxValue, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_IdentityType (OSCTXT* pctxt
   , TS24501IE_IdentityType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IdentityType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfIdent */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfIdent");

   ret = NASEnc_TS24501IE_TypeOfIdentity (pctxt, pvalue->typeOfIdent);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MobileIdentity_SUCI_IMSI (OSCTXT* pctxt
   , TS24501IE_MobileIdentity_SUCI_IMSI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_SUCI_IMSI");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd2 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd2");
   if (!(pvalue->routingInd2 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd2, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd1 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd1");
   if (!(pvalue->routingInd1 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd1, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd4 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd4");
   if (!(pvalue->routingInd4 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd4);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd4, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode routingInd3 */

   RTXCTXTPUSHELEMNAME (pctxt, "routingInd3");
   if (!(pvalue->routingInd3 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->routingInd3);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->routingInd3, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode protSchemeId */

   RTXCTXTPUSHELEMNAME (pctxt, "protSchemeId");
   if (!(pvalue->protSchemeId <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->protSchemeId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->protSchemeId, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode homeNetId */

   RTXCTXTPUSHELEMNAME (pctxt, "homeNetId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->homeNetId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode schemeOutput */

   RTXCTXTPUSHELEMNAME (pctxt, "schemeOutput");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->schemeOutput.data, pvalue->schemeOutput.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MobileIdentity_SUCI_NetId (OSCTXT* pctxt
   , TS24501IE_MobileIdentity_SUCI_NetId* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_SUCI_NetId");

   /* encode nai */

   RTXCTXTPUSHELEMNAME (pctxt, "nai");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->nai.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->nai.data, pvalue->nai.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MobileIdentity_GUTI (OSCTXT* pctxt
   , TS24501IE_MobileIdentity_GUTI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_GUTI");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfRegionID */

   RTXCTXTPUSHELEMNAME (pctxt, "amfRegionID");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->amfRegionID, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfSetID */

   RTXCTXTPUSHELEMNAME (pctxt, "amfSetID");
   if (!(pvalue->amfSetID <= 1023)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfSetID);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfSetID, 10);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfPointer */

   RTXCTXTPUSHELEMNAME (pctxt, "amfPointer");
   if (!(pvalue->amfPointer <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfPointer);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfPointer, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tmsi */

   RTXCTXTPUSHELEMNAME (pctxt, "tmsi");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->tmsi, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MobileIdentity_STMSI (OSCTXT* pctxt
   , TS24501IE_MobileIdentity_STMSI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_STMSI");

   /* encode amfSetID */

   RTXCTXTPUSHELEMNAME (pctxt, "amfSetID");
   if (!(pvalue->amfSetID <= 1023)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfSetID);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfSetID, 10);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode amfPointer */

   RTXCTXTPUSHELEMNAME (pctxt, "amfPointer");
   if (!(pvalue->amfPointer <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->amfPointer);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->amfPointer, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tmsi */

   RTXCTXTPUSHELEMNAME (pctxt, "tmsi");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->tmsi, 32);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MobileIdentity_MAC (OSCTXT* pctxt
   , TS24501IE_MobileIdentity_MAC* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity_MAC");

   /* encode mauri */

   RTXCTXTPUSHELEMNAME (pctxt, "mauri");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mauri);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode macaddr */

   RTXCTXTPUSHELEMNAME (pctxt, "macaddr");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->macaddr, 48);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24501IESEnc_MobileIdentity.c */

/* Start custom code.
Handle first octet holding data for some of the cases, and use of nested
choice type.
*/
EXTERN int NASEnc_TS24501IE_MobileIdentity (OSCTXT* pctxt,
   TS24501IE_MobileIdentity* pvalue)
{
   int ret = 0;
   OSSIZE startIndex;
   OSUINT8 len = 0;          /* non-zero if known upfront. */
   OSUINT8 firstOctet = 0;   /* firstOctet for certain cases */

   RTXCTXTPUSHTYPENAME (pctxt, "MobileIdentity");

   /* We encode a length and the first octet for all cases except
      IMEI and IMEISV, for which we'll call separate functions.
   */   
   switch (pvalue->t) {
      case T_TS24501IE_MobileIdentity_none:
         len = 1; firstOctet = 0; break;
      case T_TS24501IE_MobileIdentity_suci: {
         /* SUCI */
         len = 0;    /* we'll fill in length afterward */
         firstOctet = 1;
         if ( pvalue->u.suci.t == T_TS24501IE_MobileIdentity_suci_supiNetSpecificId)
            firstOctet += 0x10;
         break;
      }
      case T_TS24501IE_MobileIdentity_guti:
         len = 11; firstOctet = 0xF2; break;
      case T_TS24501IE_MobileIdentity_stmsi:
         len = 7; firstOctet = 0xF4; break;
      case T_TS24501IE_MobileIdentity_mac: {
         len = 7; firstOctet = 6;
         if ( pvalue->u.mac.mauri ) firstOctet += 0x08;
         break;
      }
      case T_TS24501IE_MobileIdentity_eui_64:
         len = 9; firstOctet = 0x07; break;
      default:
         break;
   }
   
   if ( pvalue->t == T_TS24501IE_MobileIdentity_imei ||
         pvalue->t == T_TS24501IE_MobileIdentity_imeisv )
   {
      /* Encode 0 for the first octet of the two-octet length. */
      RTDIAG_NEWBITFIELD (pctxt, "length-1st-octet");

      ret = rtxEncUInt32 (pctxt, 0, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }         
   else {
      /* Encode zero or expected length.  We'll correct it after encoding,
         if necessary. */

      RTXCTXTPUSHELEMNAME (pctxt, "length");

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncUInt32 (pctxt, len, 2);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);
      
      startIndex = rtxCtxtGetBitOffset (pctxt);

      /* encode first octet */
      RTXCTXTPUSHELEMNAME (pctxt, "bits+type");

      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncBits (pctxt, firstOctet, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPELEMNAME (pctxt);
   }

   /* Encode whatever remains for each type. */
   switch (pvalue->t)
   {
      case T_TS24501IE_MobileIdentity_none:
         break;    /* None.  Nothing remains */
      case T_TS24501IE_MobileIdentity_suci: {       
         RTXCTXTPUSHELEMNAME (pctxt, "suci");

         switch (pvalue->u.suci.t) {
            case T_TS24501IE_MobileIdentity_suci_supiImsi:
               ret = NASEnc_TS24501IE_MobileIdentity_SUCI_IMSI(pctxt,
                  &pvalue->u.suci.u.supiImsi);
               break;
            case T_TS24501IE_MobileIdentity_suci_supiNetSpecificId:
               ret = NASEnc_TS24501IE_MobileIdentity_SUCI_NetId (pctxt,
                  &pvalue->u.suci.u.supiNetSpecificId);
               break;
            default:
               return LOG_RTERR (pctxt, RTERR_INVOPT);
         }       
         if (ret < 0) return LOG_RTERR (pctxt, ret);     

         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501IE_MobileIdentity_guti: {
         RTXCTXTPUSHELEMNAME (pctxt, "guti");
         ret = NASEnc_TS24501IE_MobileIdentity_GUTI(pctxt, &pvalue->u.guti);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501IE_MobileIdentity_imei: {
         /* IMEI */
         RTXCTXTPUSHELEMNAME (pctxt, "imei");

         ret = rtx3GPPEncMobileIdentityType1 
            (pctxt, 3, pvalue->u.imei);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501IE_MobileIdentity_stmsi: {
         /* stmsi */
         RTXCTXTPUSHELEMNAME (pctxt, "stmsi");
         ret = NASEnc_TS24501IE_MobileIdentity_STMSI(pctxt, &pvalue->u.stmsi);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501IE_MobileIdentity_imeisv: {
         /* IMEISV */
         RTXCTXTPUSHELEMNAME (pctxt, "imeisv");

         ret = rtx3GPPEncMobileIdentityType1 
            (pctxt, 5, pvalue->u.imeisv);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);        
         break;
      }
      case T_TS24501IE_MobileIdentity_mac: {
         /* mac */
         RTXCTXTPUSHELEMNAME (pctxt, "macaddr");
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->u.mac.macaddr, 48);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         
         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);
         break;
      }
      case T_TS24501IE_MobileIdentity_eui_64: {
         /* eui64 */
         RTXCTXTPUSHELEMNAME (pctxt, "eui-64");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->u.eui_64, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;
      }
      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   
   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)) {
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }

   if ( pvalue->t != T_TS24501IE_MobileIdentity_imei &&
         pvalue->t != T_TS24501IE_MobileIdentity_imeisv ) 
   {
      /* Go back and encode the correct length, if the previously encoded
         length is different than the actual length.
      */
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      OSUINT32 actualLen = (OSUINT32)((endIndex - startIndex)/8);
      if (len != actualLen) {
         rtxCtxtSetBitOffset (pctxt, startIndex - 16);
         ret = rtxMergeBits (pctxt, actualLen, 16);
         if (ret < 0) return LOG_RTERR (pctxt, ret);
         rtxCtxtSetBitOffset (pctxt, endIndex);
      }
   }
   
   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* End custom code */

/* end custom source file TS24501IESEnc_MobileIdentity.c */

EXTERN int NASEnc_TS24501IE_NetworkFeatureSupport_octet4 (OSCTXT* pctxt
   , TS24501IE_NetworkFeatureSupport_octet4* pvalue)
{
   int ret = 0;

   /* encode upCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "upCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->upCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hcCpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "hcCpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->hcCpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode n3Data */

   RTXCTXTPUSHELEMNAME (pctxt, "n3Data");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->n3Data);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "cpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode restrictedEC */

   RTXCTXTPUSHELEMNAME (pctxt, "restrictedEC");
   if (!(pvalue->restrictedEC <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->restrictedEC);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->restrictedEC, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mcsi */

   RTXCTXTPUSHELEMNAME (pctxt, "mcsi");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mcsi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emcn3 */

   RTXCTXTPUSHELEMNAME (pctxt, "emcn3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->emcn3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NetworkFeatureSupport_octet5 (OSCTXT* pctxt
   , TS24501IE_NetworkFeatureSupport_octet5* pvalue)
{
   int ret = 0;

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pr */

   RTXCTXTPUSHELEMNAME (pctxt, "pr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->pr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rpr */

   RTXCTXTPUSHELEMNAME (pctxt, "rpr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->rpr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode piv */

   RTXCTXTPUSHELEMNAME (pctxt, "piv");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->piv);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ncr */

   RTXCTXTPUSHELEMNAME (pctxt, "ncr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ncr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ehcCpCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "ehcCpCIoT");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ehcCpCIoT);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode atsInd */

   RTXCTXTPUSHELEMNAME (pctxt, "atsInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->atsInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode lcs */

   RTXCTXTPUSHELEMNAME (pctxt, "lcs");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->lcs);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NetworkFeatureSupport (OSCTXT* pctxt
   , TS24501IE_NetworkFeatureSupport* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetworkFeatureSupport");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mpsInd */

   RTXCTXTPUSHELEMNAME (pctxt, "mpsInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mpsInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode interNetworkWithoutN26Ind */

   RTXCTXTPUSHELEMNAME (pctxt, "interNetworkWithoutN26Ind");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->interNetworkWithoutN26Ind);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emfInd */

   RTXCTXTPUSHELEMNAME (pctxt, "emfInd");
   if (!(pvalue->emfInd <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->emfInd);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->emfInd, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emcInd */

   RTXCTXTPUSHELEMNAME (pctxt, "emcInd");
   if (!(pvalue->emcInd <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->emcInd);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->emcInd, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode imsVoPSN3GPPInd */

   RTXCTXTPUSHELEMNAME (pctxt, "imsVoPSN3GPPInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->imsVoPSN3GPPInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode imsVoPS3GPPInd */

   RTXCTXTPUSHELEMNAME (pctxt, "imsVoPS3GPPInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->imsVoPS3GPPInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {

      ret = NASEnc_TS24501IE_NetworkFeatureSupport_octet4 (pctxt, &pvalue->
         octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet5 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet5");
   if (pvalue->m.octet5Present) {

      ret = NASEnc_TS24501IE_NetworkFeatureSupport_octet5 (pctxt, &pvalue->
         octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RegistrationResult (OSCTXT* pctxt
   , TS24501IE_RegistrationResult* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationResult");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode emergencyRegistered */

   RTXCTXTPUSHELEMNAME (pctxt, "emergencyRegistered");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->emergencyRegistered);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nssaa */

   RTXCTXTPUSHELEMNAME (pctxt, "nssaa");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nssaa);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode smsAllowed */

   RTXCTXTPUSHELEMNAME (pctxt, "smsAllowed");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->smsAllowed);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode regResult */

   RTXCTXTPUSHELEMNAME (pctxt, "regResult");

   ret = NASEnc_TS24501IE_RegistrationResultValue (pctxt, pvalue->regResult);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RegistrationType (OSCTXT* pctxt
   , TS24501IE_RegistrationType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RegistrationType");

   /* encode forBit */

   RTXCTXTPUSHELEMNAME (pctxt, "forBit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->forBit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode regisType */

   RTXCTXTPUSHELEMNAME (pctxt, "regisType");

   ret = NASEnc_TS24501IE_RegistrationTypeValue (pctxt, pvalue->regisType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_TrackingAreaIdent (OSCTXT* pctxt
   , TS24501IE_TrackingAreaIdent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaIdent");

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tac */

   RTXCTXTPUSHELEMNAME (pctxt, "tac");

   ret = NASEnc_TS24501IE_TrackingAreaCode (pctxt, &pvalue->tac);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PartialTrkAreaIdent0 (OSCTXT* pctxt
   , TS24501IE_PartialTrkAreaIdent0* pvalue)
{
   int ret = 0;

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tacs */

   RTXCTXTPUSHELEMNAME (pctxt, "tacs");
   {
      OSUINT8 i;
      if (!((pvalue->tacs.n >= 1 && pvalue->tacs.n <= 32))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->tacs.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->tacs.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_TrackingAreaCode (pctxt, &pvalue->tacs.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PartialTrkAreaIdent1 (OSCTXT* pctxt
   , TS24501IE_PartialTrkAreaIdent1* pvalue)
{
   int ret = 0;

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tac */

   RTXCTXTPUSHELEMNAME (pctxt, "tac");

   ret = NASEnc_TS24501IE_TrackingAreaCode (pctxt, &pvalue->tac);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PartialTrkAreaIdent2 (OSCTXT* pctxt
   , TS24501IE_PartialTrkAreaIdent2* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   if (!((pvalue->n >= 1 && pvalue->n <= 32))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->n);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   for (i = 0; i < pvalue->n; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

      ret = NASEnc_TS24501IE_TrackingAreaIdent (pctxt, &pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501IE_TrackingAreaIdentListItem (OSCTXT* pctxt
   , TS24501IE_TrackingAreaIdentListItem* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaIdentListItem");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode typeOfList */

   RTXCTXTPUSHELEMNAME (pctxt, "typeOfList");
   if (!(pvalue->typeOfList <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->typeOfList);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->typeOfList, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numElements */

   RTXCTXTPUSHELEMNAME (pctxt, "numElements");
   if (!(pvalue->numElements <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numElements);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numElements, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode elements */

   RTXCTXTPUSHELEMNAME (pctxt, "elements");
   /* Encode choice data value */

   switch (pvalue->typeOfList)
   {
      /* partTrkIdentList0 */
      case 0:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList0");

         ret = NASEnc_TS24501IE_PartialTrkAreaIdent0 (pctxt, &pvalue->elements.
            u.partTrkIdentList0);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* partTrkIdentList1 */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList1");

         ret = NASEnc_TS24501IE_PartialTrkAreaIdent1 (pctxt, &pvalue->elements.
            u.partTrkIdentList1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* partTrkIdentList2 */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList2");

         ret = NASEnc_TS24501IE_PartialTrkAreaIdent2 (pctxt, &pvalue->elements.
            u.partTrkIdentList2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* partTrkIdentList3 */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "partTrkIdentList3");

         ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->elements.
            u.partTrkIdentList3);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_TrackingAreaIdentList (OSCTXT* pctxt
   , TS24501IE_TrackingAreaIdentList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TrackingAreaIdentList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode idents */

   RTXCTXTPUSHELEMNAME (pctxt, "idents");
   {
      OSUINT8 i;
      if (!((pvalue->idents.n >= 1 && pvalue->idents.n <= 16))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->idents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->idents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_TrackingAreaIdentListItem (pctxt, &pvalue->
            idents.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UpdateType (OSCTXT* pctxt
   , TS24501IE_UpdateType* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UpdateType");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsPnbCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "epsPnbCIoT");
   if (!(pvalue->epsPnbCIoT <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->epsPnbCIoT);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->epsPnbCIoT, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode pnbCIoT */

   RTXCTXTPUSHELEMNAME (pctxt, "pnbCIoT");
   if (!(pvalue->pnbCIoT <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->pnbCIoT);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->pnbCIoT, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ngranUpd */

   RTXCTXTPUSHELEMNAME (pctxt, "ngranUpd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ngranUpd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode smsReq */

   RTXCTXTPUSHELEMNAME (pctxt, "smsReq");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->smsReq);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AddlSecurityInfo (OSCTXT* pctxt
   , TS24501IE_AddlSecurityInfo* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddlSecurityInfo");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rinmr */

   RTXCTXTPUSHELEMNAME (pctxt, "rinmr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->rinmr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode hdp */

   RTXCTXTPUSHELEMNAME (pctxt, "hdp");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->hdp);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AdditionalInfoRequested (OSCTXT* pctxt
   , TS24501IE_AdditionalInfoRequested* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AdditionalInfoRequested");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cipherKey */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherKey");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cipherKey);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AllowedPDUSessionStatus_psi (OSCTXT* pctxt
   , TS24501IE_AllowedPDUSessionStatus_psi* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 16; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AllowedPDUSessionStatus (OSCTXT* pctxt
   , TS24501IE_AllowedPDUSessionStatus* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AllowedPDUSessionStatus");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psi */

   RTXCTXTPUSHELEMNAME (pctxt, "psi");

   ret = NASEnc_TS24501IE_AllowedPDUSessionStatus_psi (pctxt, &pvalue->psi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ConfigUpdateIndication (OSCTXT* pctxt
   , TS24501IE_ConfigUpdateIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ConfigUpdateIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode regRequested */

   RTXCTXTPUSHELEMNAME (pctxt, "regRequested");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->regRequested);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ack */

   RTXCTXTPUSHELEMNAME (pctxt, "ack");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ack);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CAGEntry (OSCTXT* pctxt, TS24501IE_CAGEntry* pvalue
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CAGEntry");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->length, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mcc-mnc */

   RTXCTXTPUSHELEMNAME (pctxt, "mcc-mnc");

   ret = NASEnc_TS24008IE_MCCMNCPair (pctxt, &pvalue->mcc_mnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cagOnly */

   RTXCTXTPUSHELEMNAME (pctxt, "cagOnly");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cagOnly);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cagID */

   RTXCTXTPUSHELEMNAME (pctxt, "cagID");
   if (pvalue->m.cagIDPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->cagID.data, pvalue->cagID.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CAGInfoList (OSCTXT* pctxt
   , TS24501IE_CAGInfoList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CAGInfoList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode entries */

   RTXCTXTPUSHELEMNAME (pctxt, "entries");
   if (pvalue->m.entriesPresent) {
      {
         OSUINT8 i;
         for (i = 0; i < pvalue->entries.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501IE_CAGEntry (pctxt, &pvalue->entries.elem[i]);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CIoTSmallDataContainer (OSCTXT* pctxt
   , TS24501IE_CIoTSmallDataContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CIoTSmallDataContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");

   ret = NASEnc_TS24501IE_CIoTDataTypes (pctxt, pvalue->dataType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode containerContents */

   RTXCTXTPUSHELEMNAME (pctxt, "containerContents");
   /* Encode choice data value */

   switch (pvalue->dataType)
   {
      /* ctrlPlaneUserData */
      case 0:
         RTXCTXTPUSHELEMNAME (pctxt, "ctrlPlaneUserData");

         /* encode ddx */

         RTXCTXTPUSHELEMNAME (pctxt, "ddx");
         if (!(pvalue->containerContents.u.ctrlPlaneUserData.ddx <= 3)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.ctrlPlaneUserData.ddx);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.ctrlPlaneUserData.ddx, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode pduSessionId */

         RTXCTXTPUSHELEMNAME (pctxt, "pduSessionId");
         if (!(pvalue->containerContents.u.ctrlPlaneUserData.pduSessionId <= 7)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.ctrlPlaneUserData.pduSessionId);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.ctrlPlaneUserData.pduSessionId, 3);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* sms */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "sms");

         /* encode spare */

         RTXCTXTPUSHELEMNAME (pctxt, "spare");
         if (!(pvalue->containerContents.u.sms.spare <= 31)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.sms.spare);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.sms.spare, 5);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* locSvcsMsgContainer */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "locSvcsMsgContainer");

         /* encode ddx */

         RTXCTXTPUSHELEMNAME (pctxt, "ddx");
         if (!(pvalue->containerContents.u.locSvcsMsgContainer.ddx <= 3)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.locSvcsMsgContainer.ddx);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.ddx, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode spare */

         RTXCTXTPUSHELEMNAME (pctxt, "spare");
         if (!(pvalue->containerContents.u.locSvcsMsgContainer.spare <= 7)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->containerContents.u.locSvcsMsgContainer.spare);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.spare, 3);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode addlInfoLen */

         RTXCTXTPUSHELEMNAME (pctxt, "addlInfoLen");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.addlInfoLen, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode addlInfo */

         RTXCTXTPUSHELEMNAME (pctxt, "addlInfo");
         if (pvalue->containerContents.u.locSvcsMsgContainer.m.addlInfoPresent) {
            RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

            ret = rtxEncBitsFromByteArray (pctxt, pvalue->containerContents.u.locSvcsMsgContainer.addlInfo.data, pvalue->containerContents.u.locSvcsMsgContainer.addlInfo.numocts * 8);

            RTDIAG_SETBITFLDCOUNT (pctxt);
         }
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CipherDataSet_eutraPosSIBType (OSCTXT* pctxt
   , TS24501IE_CipherDataSet_eutraPosSIBType* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 32; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CipherDataSet_nrPosSIBType (OSCTXT* pctxt
   , TS24501IE_CipherDataSet_nrPosSIBType* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 37; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CipherDataSet (OSCTXT* pctxt
   , TS24501IE_CipherDataSet* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CipherDataSet");

   /* encode cipherKey */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherKey");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->cipherKey, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   if (!(pvalue->spare1 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare1, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode c0Len */

   RTXCTXTPUSHELEMNAME (pctxt, "c0Len");
   if (!(pvalue->c0Len <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->c0Len);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->c0Len, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode c0 */

   RTXCTXTPUSHELEMNAME (pctxt, "c0");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->c0.data, pvalue->c0.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare2, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eutraPosSIBLen */

   RTXCTXTPUSHELEMNAME (pctxt, "eutraPosSIBLen");
   if (!(pvalue->eutraPosSIBLen <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->eutraPosSIBLen);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->eutraPosSIBLen, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eutraPosSIBType */

   RTXCTXTPUSHELEMNAME (pctxt, "eutraPosSIBType");

   ret = NASEnc_TS24501IE_CipherDataSet_eutraPosSIBType (pctxt, &pvalue->
      eutraPosSIBType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   if (!(pvalue->spare3 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare3);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare3, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nrPosSIBLen */

   RTXCTXTPUSHELEMNAME (pctxt, "nrPosSIBLen");
   if (!(pvalue->nrPosSIBLen <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nrPosSIBLen);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nrPosSIBLen, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nrPosSIBType */

   RTXCTXTPUSHELEMNAME (pctxt, "nrPosSIBType");

   ret = NASEnc_TS24501IE_CipherDataSet_nrPosSIBType (pctxt, &pvalue->
      nrPosSIBType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare4 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare4");
   if (!(pvalue->spare4 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare4);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare4, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode validityStartTime */

   RTXCTXTPUSHELEMNAME (pctxt, "validityStartTime");

   ret = NASEnc_TS24008IE_TimeZoneAndTime (pctxt, &pvalue->validityStartTime);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode validityDuration */

   RTXCTXTPUSHELEMNAME (pctxt, "validityDuration");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->validityDuration, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode taiList */

   RTXCTXTPUSHELEMNAME (pctxt, "taiList");

   ret = NASEnc_TS24501IE_TrackingAreaIdentList (pctxt, &pvalue->taiList);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CipheringKeyData (OSCTXT* pctxt
   , TS24501IE_CipheringKeyData* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CipheringKeyData");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSet */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSet");
   {
      OSUINT8 i;
      if (!((pvalue->dataSet.n >= 1 && pvalue->dataSet.n <= 16))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->dataSet.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->dataSet.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_CipherDataSet (pctxt, &pvalue->dataSet.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ControlPlaneServiceType (OSCTXT* pctxt
   , TS24501IE_ControlPlaneServiceType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ControlPlaneServiceType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   if (!(pvalue->value <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->value);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->value, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_DeregistrationType (OSCTXT* pctxt
   , TS24501IE_DeregistrationType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DeregistrationType");

   /* encode switchOff */

   RTXCTXTPUSHELEMNAME (pctxt, "switchOff");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->switchOff);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reregReqd */

   RTXCTXTPUSHELEMNAME (pctxt, "reregReqd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->reregReqd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode accessType */

   RTXCTXTPUSHELEMNAME (pctxt, "accessType");
   if (!(pvalue->accessType <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->accessType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->accessType, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EPSMessageContainer (OSCTXT* pctxt
   , TS24501IE_EPSMessageContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSMessageContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24301IE_NASMessageContainer (pctxt, &pvalue->contents.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_LADNIndication (OSCTXT* pctxt
   , TS24501IE_LADNIndication* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LADNIndication");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   if (pvalue->m.contentsPresent) {
      {
         OSUINT8 i;
         if (!(pvalue->contents.n <= 8)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         for (i = 0; i < pvalue->contents.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501IE_DNNList (pctxt, &pvalue->contents.elem[i]);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_LADN (OSCTXT* pctxt, TS24501IE_LADN* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LADN");

   /* encode dnn */

   RTXCTXTPUSHELEMNAME (pctxt, "dnn");

   ret = NASEnc_TS24501IE_DNNList (pctxt, &pvalue->dnn);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tai */

   RTXCTXTPUSHELEMNAME (pctxt, "tai");

   ret = NASEnc_TS24501IE_TrackingAreaIdent (pctxt, &pvalue->tai);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_LADNList (OSCTXT* pctxt, TS24501IE_LADNList* pvalue
   )
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "LADNList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      if (!(pvalue->contents.n <= 8)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_LADN (pctxt, &pvalue->contents.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 1 && pvalue->length <= 1715))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MICOIndication (OSCTXT* pctxt
   , TS24501IE_MICOIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MICOIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sprti */

   RTXCTXTPUSHELEMNAME (pctxt, "sprti");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->sprti);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode raai */

   RTXCTXTPUSHELEMNAME (pctxt, "raai");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->raai);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MappedSNSSAIContent (OSCTXT* pctxt
   , TS24501IE_MappedSNSSAIContent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MappedSNSSAIContent");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->length, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSST */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSST");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSST, 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSD */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSD");
   if (pvalue->m.mappedSDPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->mappedSD.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSD.data, pvalue->mappedSD.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MappedNSSAI (OSCTXT* pctxt
   , TS24501IE_MappedNSSAI* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MappedNSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      if (!((pvalue->contents.n >= 1 && pvalue->contents.n <= 8))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_MappedSNSSAIContent (pctxt, &pvalue->contents.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NASMessageContainer2 (OSCTXT* pctxt
   , TS24501IE_NASMessageContainer2* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NASMessageContainer2");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->contents.numocts >= 1 && pvalue->contents.numocts <= 65535))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->contents.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NASSecurityAlgorithm (OSCTXT* pctxt
   , TS24501IE_NASSecurityAlgorithm* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NASSecurityAlgorithm");

   /* encode cipherType */

   RTXCTXTPUSHELEMNAME (pctxt, "cipherType");

   ret = NASEnc_TS24501IE_CipherTypes (pctxt, pvalue->cipherType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode protectionType */

   RTXCTXTPUSHELEMNAME (pctxt, "protectionType");

   ret = NASEnc_TS24501IE_ProtectionTypes (pctxt, pvalue->protectionType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NetSliceIndication (OSCTXT* pctxt
   , TS24501IE_NetSliceIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetSliceIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dcni */

   RTXCTXTPUSHELEMNAME (pctxt, "dcni");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->dcni);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nssci */

   RTXCTXTPUSHELEMNAME (pctxt, "nssci");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nssci);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NSSAI (OSCTXT* pctxt, TS24501IE_NSSAI* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   {
      OSUINT8 i;
      if (!((pvalue->contents.n >= 1 && pvalue->contents.n <= 16))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->contents.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->contents.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_SNSSAI (pctxt, &pvalue->contents.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NSSAIInclusionMode (OSCTXT* pctxt
   , TS24501IE_NSSAIInclusionMode* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NSSAIInclusionMode");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode inclusionMode */

   RTXCTXTPUSHELEMNAME (pctxt, "inclusionMode");

   ret = NASEnc_TS24501IE_NSSAIInclusionMode_inclusionMode (pctxt, pvalue->
      inclusionMode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AccessCategoryDefinition_categories (OSCTXT* pctxt
   , TS24501IE_AccessCategoryDefinition_categories* pvalue)
{
   int ret = 0;

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare2, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode accessCategory */

   RTXCTXTPUSHELEMNAME (pctxt, "accessCategory");

   ret = NASEnc_TS24501IE_AccessCategories (pctxt, pvalue->accessCategory);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AccessCategoryDefinition (OSCTXT* pctxt
   , TS24501IE_AccessCategoryDefinition* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessCategoryDefinition");

   /* encode precedence */

   RTXCTXTPUSHELEMNAME (pctxt, "precedence");
   if (!(pvalue->precedence >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->precedence);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->precedence, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psac */

   RTXCTXTPUSHELEMNAME (pctxt, "psac");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->psac);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode categoryNum */

   RTXCTXTPUSHELEMNAME (pctxt, "categoryNum");
   if (!(pvalue->categoryNum <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->categoryNum);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->categoryNum, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode criteria */

   RTXCTXTPUSHELEMNAME (pctxt, "criteria");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->criteria.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncUInt32 (pctxt, pvalue->criteria.elem[i].numocts, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->criteria.elem[i].data, pvalue->criteria.elem[i].numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode categories */

   RTXCTXTPUSHELEMNAME (pctxt, "categories");
   if (pvalue->m.categoriesPresent) {

      ret = NASEnc_TS24501IE_AccessCategoryDefinition_categories (pctxt, &
         pvalue->categories);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AccessCategoryDefinitions (OSCTXT* pctxt
   , TS24501IE_AccessCategoryDefinitions* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AccessCategoryDefinitions");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   if (pvalue->m.contentsPresent) {
      {
         OSUINT8 i;
         for (i = 0; i < pvalue->contents.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501IE_AccessCategoryDefinition (pctxt, &pvalue->
               contents.elem[i]);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_OptionalIE (OSCTXT* pctxt
   , TS24501IE_OptionalIE* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "OptionalIE");

   /* encode type */

   RTXCTXTPUSHELEMNAME (pctxt, "type");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->type, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncUInt32 (pctxt, pvalue->value.numocts, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.data, pvalue->value.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PayloadContainerEntry (OSCTXT* pctxt
   , TS24501IE_PayloadContainerEntry* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PayloadContainerEntry");

   /* encode entryLength */

   RTXCTXTPUSHELEMNAME (pctxt, "entryLength");
   if (!(pvalue->entryLength >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->entryLength);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->entryLength, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numOptIEs */

   RTXCTXTPUSHELEMNAME (pctxt, "numOptIEs");
   if (!((pvalue->numOptIEs >= 1 && pvalue->numOptIEs <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numOptIEs);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numOptIEs, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode type */

   RTXCTXTPUSHELEMNAME (pctxt, "type");

   ret = NASEnc_TS24501IE_PayloadContainerType (pctxt, pvalue->type);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode optionalIEs */

   RTXCTXTPUSHELEMNAME (pctxt, "optionalIEs");
   {
      OSUINT8 i;
      if (!((pvalue->optionalIEs.n >= 1 && pvalue->optionalIEs.n <= 15))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->optionalIEs.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->optionalIEs.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_OptionalIE (pctxt, &pvalue->optionalIEs.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!(pvalue->contents.numocts <= 65535)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->contents.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PayloadContainerContents (OSCTXT* pctxt
   , TS24501IE_PayloadContainerContents* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PayloadContainerContents");

   /* encode numEntries */

   RTXCTXTPUSHELEMNAME (pctxt, "numEntries");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->numEntries, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode entries */

   RTXCTXTPUSHELEMNAME (pctxt, "entries");
   {
      OSUINT8 i;
      if (!(TRUE)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->entries.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->entries.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_PayloadContainerEntry (pctxt, &pvalue->entries.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MultiPayloadContainer (OSCTXT* pctxt
   , TS24501IE_MultiPayloadContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MultiPayloadContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");

   ret = NASEnc_TS24501IE_PayloadContainerContents (pctxt, &pvalue->contents);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ReactivateCause (OSCTXT* pctxt
   , TS24501IE_ReactivateCause* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReactivateCause");

   /* encode sessionId */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->sessionId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501IE_MMCause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SessionReactivateCause (OSCTXT* pctxt
   , TS24501IE_SessionReactivateCause* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionReactivateCause");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reactivateCause */

   RTXCTXTPUSHELEMNAME (pctxt, "reactivateCause");
   {
      OSUINT8 i;
      if (!(pvalue->reactivateCause.n >= 1)) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->reactivateCause.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->reactivateCause.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_ReactivateCause (pctxt, &pvalue->
            reactivateCause.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!((pvalue->length >= 1 && pvalue->length <= 512))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* begin custom source file TS24501IESEnc_RejectedNSSAI.c */

EXTERN int NASEnc_TS24501IE_RejectedNSSAI (OSCTXT* pctxt,
   TS24501IE_RejectedNSSAI* pvalue)
{
   int ret = 0;
   OSSIZE startIndex;

   RTXCTXTPUSHTYPENAME (pctxt, "RejectedNSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501IE_RejectedNSSAI_cause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sst */

   RTXCTXTPUSHELEMNAME (pctxt, "sst");

   ret = NASEnc_TS24501IE_SST (pctxt, pvalue->sst);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sd */

   RTXCTXTPUSHELEMNAME (pctxt, "sd");
   if (pvalue->m.sdPresent) {

      ret = NASEnc_TS24501IE_SD (pctxt, pvalue->sd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if (rtxCtxtTestFlag(pctxt, OSCONTCLOSED)) {
      if (!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else {
      rtxByteAlign (pctxt);
   }

   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 4);
      ret = rtxMergeBits (pctxt, pvalue->length, 4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   if (!((pvalue->length >= 1 && pvalue->length <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}


/* end custom source file TS24501IESEnc_RejectedNSSAI.c */

EXTERN int NASEnc_TS24501IE_RejectedNSSAIList (OSCTXT* pctxt
   , TS24501IE_RejectedNSSAIList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RejectedNSSAIList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rejectedNSSAI */

   RTXCTXTPUSHELEMNAME (pctxt, "rejectedNSSAI");
   {
      OSUINT8 i;
      if (!((pvalue->rejectedNSSAI.n >= 1 && pvalue->rejectedNSSAI.n <= 8))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->rejectedNSSAI.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->rejectedNSSAI.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_RejectedNSSAI (pctxt, &pvalue->rejectedNSSAI.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_RequestType (OSCTXT* pctxt
   , TS24501IE_RequestType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "RequestType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reqType */

   RTXCTXTPUSHELEMNAME (pctxt, "reqType");

   ret = NASEnc_TS24501IE_RequestTypes (pctxt, pvalue->reqType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SMSIndication (OSCTXT* pctxt
   , TS24501IE_SMSIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMSIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sai */

   RTXCTXTPUSHELEMNAME (pctxt, "sai");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->sai);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PLMNTechList (OSCTXT* pctxt
   , TS24501IE_PLMNTechList* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PLMNTechList");

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->id, 24);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode techId */

   RTXCTXTPUSHELEMNAME (pctxt, "techId");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->techId, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SORSteering (OSCTXT* pctxt
   , TS24501IE_SORSteering* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SORSteering");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ap */

   RTXCTXTPUSHELEMNAME (pctxt, "ap");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ap);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ack */

   RTXCTXTPUSHELEMNAME (pctxt, "ack");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ack);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode listType */

   RTXCTXTPUSHELEMNAME (pctxt, "listType");
   if (!(pvalue->listType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->listType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->listType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode listInd */

   RTXCTXTPUSHELEMNAME (pctxt, "listInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->listInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sorMAC */

   RTXCTXTPUSHELEMNAME (pctxt, "sorMAC");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->sorMAC, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode counter */

   RTXCTXTPUSHELEMNAME (pctxt, "counter");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->counter, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode content */

   RTXCTXTPUSHELEMNAME (pctxt, "content");
   if (pvalue->m.contentPresent) {
      /* Encode choice data value */

      switch (pvalue->listType)
      {
         /* securedPacket */
         case 0:
            RTXCTXTPUSHELEMNAME (pctxt, "securedPacket");

            RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

            ret = rtxEncBitsFromByteArray (pctxt, pvalue->content.u.securedPacket.data, pvalue->content.u.securedPacket.numocts * 8);

            RTDIAG_SETBITFLDCOUNT (pctxt);
            rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         /* plmnAccess */
         case 1:
            RTXCTXTPUSHELEMNAME (pctxt, "plmnAccess");

            {
               OSUINT8 i;
               for (i = 0; i < pvalue->content.u.plmnAccess.n; i++) {
                  RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

                  ret = NASEnc_TS24501IE_PLMNTechList (pctxt, &pvalue->content.
                     u.plmnAccess.elem[i]);
                  if (ret < 0) return LOG_RTERR (pctxt, ret);

                  RTXCTXTPOPARRAYELEMNAME (pctxt);
               }
            }
            rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

            RTXCTXTPOPELEMNAME (pctxt);
            break;

         default:
            return LOG_RTERR (pctxt, RTERR_INVOPT);
      }
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SORAck (OSCTXT* pctxt, TS24501IE_SORAck* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SORAck");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mssi */

   RTXCTXTPUSHELEMNAME (pctxt, "mssi");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mssi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sorMAC */

   RTXCTXTPUSHELEMNAME (pctxt, "sorMAC");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->sorMAC, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SORTransparentContainer_steeringOrAck (OSCTXT* pctxt
   , TS24501IE_SORTransparentContainer_steeringOrAck* pvalue)
{
   int ret = 0;

   /* Encode choice selector */

   RTDIAG_NEWBITFIELD (pctxt, "choice selector");

   ret = rtxEncBits (pctxt, pvalue->t - 1, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   /* Encode choice data value */

   switch (pvalue->t)
   {
      /* steering */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "steering");

         ret = NASEnc_TS24501IE_SORSteering (pctxt, &pvalue->u.steering);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ack */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "ack");

         ret = NASEnc_TS24501IE_SORAck (pctxt, &pvalue->u.ack);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }

   return (ret);
}

/* begin custom source file TS24501IESEnc_SORTransparentContainer.c */

/* Start custom code.
Handle first octet holding data for some of the cases, and use of nested
choice type.
*/
EXTERN int NASEnc_TS24501IE_SORTransparentContainer (OSCTXT* pctxt,
   TS24501IE_SORTransparentContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SORTransparentContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);
   
   /* encode steeringOrAck */
   RTXCTXTPUSHELEMNAME (pctxt, "steeringOrAck");
   
   if (pvalue->steeringOrAck.t == T_SORTransparentContainer_steeringOrAck_steering)
   {
      ret = NASEnc_TS24501IE_SORSteering (pctxt, &pvalue->steeringOrAck.u.steering);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else if (pvalue->steeringOrAck.t == T_SORTransparentContainer_steeringOrAck_ack)
   {
      ret = NASEnc_TS24501IE_SORAck (pctxt, &pvalue->steeringOrAck.u.ack);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else return LOG_RTERR (pctxt, RTERR_INVOPT);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* End custom code */

/* end custom source file TS24501IESEnc_SORTransparentContainer.c */

EXTERN int NASEnc_TS24501IE_UEParamUpdateDataSet (OSCTXT* pctxt
   , TS24501IE_UEParamUpdateDataSet* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdateDataSet");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSetType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSetType");
   if (!(pvalue->dataSetType <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataSetType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataSetType, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSetLen */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSetLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->dataSetLen, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataSet */

   RTXCTXTPUSHELEMNAME (pctxt, "dataSet");
   /* Encode choice data value */

   switch (pvalue->dataSetType)
   {
      /* securedPacket */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "securedPacket");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->dataSet.u.securedPacket.data, pvalue->dataSet.u.securedPacket.numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* defCfgNSSAI */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "defCfgNSSAI");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->dataSet.u.defCfgNSSAI.data, pvalue->dataSet.u.defCfgNSSAI.numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UEParamUpdate (OSCTXT* pctxt
   , TS24501IE_UEParamUpdate* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdate");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode reg */

   RTXCTXTPUSHELEMNAME (pctxt, "reg");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->reg);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ack */

   RTXCTXTPUSHELEMNAME (pctxt, "ack");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ack);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mac */

   RTXCTXTPUSHELEMNAME (pctxt, "mac");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mac, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode counter */

   RTXCTXTPUSHELEMNAME (pctxt, "counter");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->counter, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode updateList */

   RTXCTXTPUSHELEMNAME (pctxt, "updateList");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->updateList.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_UEParamUpdateDataSet (pctxt, &pvalue->
            updateList.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }
   rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UEParamUpdateAck (OSCTXT* pctxt
   , TS24501IE_UEParamUpdateAck* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdateAck");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dataType */

   RTXCTXTPUSHELEMNAME (pctxt, "dataType");
   if (!(pvalue->dataType <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->dataType);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->dataType, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mac */

   RTXCTXTPUSHELEMNAME (pctxt, "mac");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->mac, 128);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UEParamUpdateContainer_updateOrAck (OSCTXT* pctxt
   , TS24501IE_UEParamUpdateContainer_updateOrAck* pvalue)
{
   int ret = 0;

   /* Encode choice selector */

   RTDIAG_NEWBITFIELD (pctxt, "choice selector");

   ret = rtxEncBits (pctxt, pvalue->t - 1, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   /* Encode choice data value */

   switch (pvalue->t)
   {
      /* update */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "update");

         ret = NASEnc_TS24501IE_UEParamUpdate (pctxt, &pvalue->u.update);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ack */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "ack");

         ret = NASEnc_TS24501IE_UEParamUpdateAck (pctxt, &pvalue->u.ack);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }

   return (ret);
}

/* begin custom source file TS24501IESEnc_UEParamUpdateContainer.c */

/* Start custom code.
Handle first octet holding data for some of the cases, and use of nested
choice type.
*/
EXTERN int NASEnc_TS24501IE_UEParamUpdateContainer (OSCTXT* pctxt,
   TS24501IE_UEParamUpdateContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEParamUpdateContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);
   
   /* encode updateOrAck */
   RTXCTXTPUSHELEMNAME (pctxt, "updateOrAck");
   
   if (pvalue->updateOrAck.t == T_UEParamUpdateContainer_updateOrAck_update)
   {
      ret = NASEnc_TS24501IE_UEParamUpdate (pctxt, &pvalue->updateOrAck.u.update);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else if (pvalue->updateOrAck.t == T_UEParamUpdateContainer_updateOrAck_ack)
   {
      ret = NASEnc_TS24501IE_UEParamUpdateAck (pctxt, &pvalue->updateOrAck.u.ack);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
   }
   else return LOG_RTERR (pctxt, RTERR_INVOPT);

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

/* End custom code */

/* end custom source file TS24501IESEnc_UEParamUpdateContainer.c */

EXTERN int NASEnc_TS24501IE_UESecurityCapability_octet5 (OSCTXT* pctxt
   , TS24501IE_UESecurityCapability_octet5* pvalue)
{
   int ret = 0;

   /* encode eea0 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea1 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea2 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea3 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea4 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea5 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea6 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eea7 */

   RTXCTXTPUSHELEMNAME (pctxt, "eea7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eea7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UESecurityCapability_octet6 (OSCTXT* pctxt
   , TS24501IE_UESecurityCapability_octet6* pvalue)
{
   int ret = 0;

   /* encode eia0 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia1 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia2 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia3 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia4 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia5 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia6 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eia7 */

   RTXCTXTPUSHELEMNAME (pctxt, "eia7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eia7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UESecurityCapability (OSCTXT* pctxt
   , TS24501IE_UESecurityCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UESecurityCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea0 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea1 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea2 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea3 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea4 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea5 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea6 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ea7 */

   RTXCTXTPUSHELEMNAME (pctxt, "ea7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ea7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia0 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia0");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia0);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia1 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia2 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia3 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia4 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia4");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia5 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia5");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia6 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia6");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ia7 */

   RTXCTXTPUSHELEMNAME (pctxt, "ia7");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ia7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet5 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet5");
   if (pvalue->m.octet5Present) {

      ret = NASEnc_TS24501IE_UESecurityCapability_octet5 (pctxt, &pvalue->
         octet5);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet6 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet6");
   if (pvalue->m.octet6Present) {

      ret = NASEnc_TS24501IE_UESecurityCapability_octet6 (pctxt, &pvalue->
         octet6);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UEUsageSetting (OSCTXT* pctxt
   , TS24501IE_UEUsageSetting* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UEUsageSetting");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode usage */

   RTXCTXTPUSHELEMNAME (pctxt, "usage");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->usage);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UplinkDataStatus_psi (OSCTXT* pctxt
   , TS24501IE_UplinkDataStatus_psi* pvalue)
{
   OSUINT8 i;
   int ret = 0;

   for (i = 0; i < 15; i++) {
      RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);
      RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

      ret = rtxEncBit (pctxt, pvalue->elem[i]);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      RTXCTXTPOPARRAYELEMNAME (pctxt);
   }

   return (ret);
}

EXTERN int NASEnc_TS24501IE_UplinkDataStatus (OSCTXT* pctxt
   , TS24501IE_UplinkDataStatus* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "UplinkDataStatus");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode psi */

   RTXCTXTPUSHELEMNAME (pctxt, "psi");

   ret = NASEnc_TS24501IE_UplinkDataStatus_psi (pctxt, &pvalue->psi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (pvalue->m.spare2Present) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare2.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare2.data, pvalue->spare2.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 2)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_TruncatedTMSIConfig (OSCTXT* pctxt
   , TS24501IE_TruncatedTMSIConfig* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "TruncatedTMSIConfig");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode truncatedAMFId */

   RTXCTXTPUSHELEMNAME (pctxt, "truncatedAMFId");
   if (!(pvalue->truncatedAMFId <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->truncatedAMFId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->truncatedAMFId, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode truncatedAMFPtr */

   RTXCTXTPUSHELEMNAME (pctxt, "truncatedAMFPtr");
   if (!(pvalue->truncatedAMFPtr <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->truncatedAMFPtr);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->truncatedAMFPtr, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_N5GCIndication (OSCTXT* pctxt
   , TS24501IE_N5GCIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "N5GCIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode n5gcReg */

   RTXCTXTPUSHELEMNAME (pctxt, "n5gcReg");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->n5gcReg);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NBN1ModeDRXParams (OSCTXT* pctxt
   , TS24501IE_NBN1ModeDRXParams* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NBN1ModeDRXParams");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode drxValue */

   RTXCTXTPUSHELEMNAME (pctxt, "drxValue");
   if (!(pvalue->drxValue <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->drxValue);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->drxValue, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AddlConfigIndication (OSCTXT* pctxt
   , TS24501IE_AddlConfigIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AddlConfigIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode scmr */

   RTXCTXTPUSHELEMNAME (pctxt, "scmr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->scmr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ExtRejectedNSSAI (OSCTXT* pctxt
   , TS24501IE_ExtRejectedNSSAI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ExtRejectedNSSAI");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   if (!((pvalue->length >= 1 && pvalue->length <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->length, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cause */

   RTXCTXTPUSHELEMNAME (pctxt, "cause");

   ret = NASEnc_TS24501IE_ExtRejectedNSSAI_cause (pctxt, pvalue->cause);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sst */

   RTXCTXTPUSHELEMNAME (pctxt, "sst");

   ret = NASEnc_TS24501IE_SST (pctxt, pvalue->sst);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sd */

   RTXCTXTPUSHELEMNAME (pctxt, "sd");
   if (pvalue->m.sdPresent) {

      ret = NASEnc_TS24501IE_SD (pctxt, pvalue->sd);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSST */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSST");
   if (pvalue->m.mappedSSTPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSST, 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mappedSD */

   RTXCTXTPUSHELEMNAME (pctxt, "mappedSD");
   if (pvalue->m.mappedSDPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->mappedSD, 24);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PartialExtRejectedNSSAI (OSCTXT* pctxt
   , TS24501IE_PartialExtRejectedNSSAI* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PartialExtRejectedNSSAI");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode listType */

   RTXCTXTPUSHELEMNAME (pctxt, "listType");

   ret = NASEnc_TS24501IE_PERNTypes (pctxt, pvalue->listType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numElems */

   RTXCTXTPUSHELEMNAME (pctxt, "numElems");
   if (!((pvalue->numElems >= 1 && pvalue->numElems <= 15))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numElems);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numElems, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode backoffTimer */

   RTXCTXTPUSHELEMNAME (pctxt, "backoffTimer");
   /* Encode choice data value */

   switch (pvalue->listType)
   {
      /* withoutTimer */
      case 0:
         RTXCTXTPUSHELEMNAME (pctxt, "withoutTimer");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* timerValue */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "timerValue");

         if (!(pvalue->backoffTimer.u.timerValue >= 1)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->backoffTimer.u.timerValue);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->backoffTimer.u.timerValue, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rejectedSNSSAI */

   RTXCTXTPUSHELEMNAME (pctxt, "rejectedSNSSAI");
   {
      OSUINT8 i;
      if (!((pvalue->rejectedSNSSAI.n >= 1 && pvalue->rejectedSNSSAI.n <= 8))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->rejectedSNSSAI.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->rejectedSNSSAI.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_ExtRejectedNSSAI (pctxt, &pvalue->
            rejectedSNSSAI.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ExtRejectedNSSAIList (OSCTXT* pctxt
   , TS24501IE_ExtRejectedNSSAIList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ExtRejectedNSSAIList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rejectedNSSAI */

   RTXCTXTPUSHELEMNAME (pctxt, "rejectedNSSAI");
   {
      OSUINT8 i;
      if (!((pvalue->rejectedNSSAI.n >= 1 && pvalue->rejectedNSSAI.n <= 8))) {
         rtxErrAddElemNameParm (pctxt);
         rtxErrAddIntParm (pctxt, (int)pvalue->rejectedNSSAI.n);
         return LOG_RTERR (pctxt, RTERR_CONSVIO);
      }

      for (i = 0; i < pvalue->rejectedNSSAI.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_PartialExtRejectedNSSAI (pctxt, &pvalue->
            rejectedNSSAI.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MCCElement (OSCTXT* pctxt
   , TS24501IE_MCCElement* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MCCElement");

   /* encode mccDigit2 */

   RTXCTXTPUSHELEMNAME (pctxt, "mccDigit2");
   if (!(pvalue->mccDigit2 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->mccDigit2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->mccDigit2, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mccDigit1 */

   RTXCTXTPUSHELEMNAME (pctxt, "mccDigit1");
   if (!(pvalue->mccDigit1 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->mccDigit1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->mccDigit1, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mccInd */

   RTXCTXTPUSHELEMNAME (pctxt, "mccInd");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mccInd);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mccDigit3 */

   RTXCTXTPUSHELEMNAME (pctxt, "mccDigit3");
   if (!(pvalue->mccDigit3 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->mccDigit3);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->mccDigit3, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MCCList (OSCTXT* pctxt, TS24501IE_MCCList* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MCCList");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mccElements */

   RTXCTXTPUSHELEMNAME (pctxt, "mccElements");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->mccElements.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_MCCElement (pctxt, &pvalue->mccElements.elem[i]
            );
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_NetworkId (OSCTXT* pctxt
   , TS24501IE_NetworkId* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "NetworkId");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit1 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit1");
   if (!(pvalue->nidDigit1 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit1);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit1, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode assignMode */

   RTXCTXTPUSHELEMNAME (pctxt, "assignMode");
   if (!(pvalue->assignMode <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->assignMode);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->assignMode, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit3 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit3");
   if (!(pvalue->nidDigit3 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit3);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit3, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit2 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit2");
   if (!(pvalue->nidDigit2 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit2, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit5 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit5");
   if (!(pvalue->nidDigit5 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit5);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit5, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit4 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit4");
   if (!(pvalue->nidDigit4 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit4);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit4, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit7 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit7");
   if (!(pvalue->nidDigit7 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit7);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit7, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit6 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit6");
   if (!(pvalue->nidDigit6 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit6);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit6, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit9 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit9");
   if (!(pvalue->nidDigit9 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit9);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit9, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit8 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit8");
   if (!(pvalue->nidDigit8 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit8);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit8, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nidDigit10 */

   RTXCTXTPUSHELEMNAME (pctxt, "nidDigit10");
   if (!(pvalue->nidDigit10 <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->nidDigit10);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->nidDigit10, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SMCapability_octet4 (OSCTXT* pctxt
   , TS24501IE_SMCapability_octet4* pvalue)
{
   int ret = 0;

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode nonDefQosRule */

   RTXCTXTPUSHELEMNAME (pctxt, "nonDefQosRule");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->nonDefQosRule);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SMCapability (OSCTXT* pctxt
   , TS24501IE_SMCapability* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMCapability");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode tpmic */

   RTXCTXTPUSHELEMNAME (pctxt, "tpmic");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->tpmic);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode atsll */

   RTXCTXTPUSHELEMNAME (pctxt, "atsll");

   ret = NASEnc_TS24501IE_ATSSSModes (pctxt, pvalue->atsll);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epts1 */

   RTXCTXTPUSHELEMNAME (pctxt, "epts1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->epts1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode mh6Pdu */

   RTXCTXTPUSHELEMNAME (pctxt, "mh6Pdu");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->mh6Pdu);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rqos */

   RTXCTXTPUSHELEMNAME (pctxt, "rqos");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->rqos);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode octet4 */

   RTXCTXTPUSHELEMNAME (pctxt, "octet4");
   if (pvalue->m.octet4Present) {

      ret = NASEnc_TS24501IE_SMCapability_octet4 (pctxt, &pvalue->octet4);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (pvalue->m.sparePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->spare.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare.data, pvalue->spare.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AlwaysOnPDUSessionInd (OSCTXT* pctxt
   , TS24501IE_AlwaysOnPDUSessionInd* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AlwaysOnPDUSessionInd");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode apsi */

   RTXCTXTPUSHELEMNAME (pctxt, "apsi");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->apsi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AlwaysOnPDUSessionReq (OSCTXT* pctxt
   , TS24501IE_AlwaysOnPDUSessionReq* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AlwaysOnPDUSessionReq");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode apsr */

   RTXCTXTPUSHELEMNAME (pctxt, "apsr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->apsr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_AllowedSSCMode (OSCTXT* pctxt
   , TS24501IE_AllowedSSCMode* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "AllowedSSCMode");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ssc3 */

   RTXCTXTPUSHELEMNAME (pctxt, "ssc3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ssc3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ssc2 */

   RTXCTXTPUSHELEMNAME (pctxt, "ssc2");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ssc2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ssc1 */

   RTXCTXTPUSHELEMNAME (pctxt, "ssc1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ssc1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_IntegrityProtMaxDataRate (OSCTXT* pctxt
   , TS24501IE_IntegrityProtMaxDataRate* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "IntegrityProtMaxDataRate");

   /* encode maxUEDataRateUplink */

   RTXCTXTPUSHELEMNAME (pctxt, "maxUEDataRateUplink");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxUEDataRateUplink, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxUEDataRateDownlink */

   RTXCTXTPUSHELEMNAME (pctxt, "maxUEDataRateDownlink");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->maxUEDataRateDownlink, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EPSParam (OSCTXT* pctxt, TS24501IE_EPSParam* pvalue
   )
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSParam");

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");

   ret = NASEnc_TS24501IE_EPSParamId (pctxt, pvalue->id);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode content */

   RTXCTXTPUSHELEMNAME (pctxt, "content");
   /* Encode choice data value */

   switch (pvalue->id)
   {
      /* epsQoS */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "epsQoS");

         ret = NASEnc_TS24301IE_EPSQualityOfService (pctxt, &pvalue->content.
            u.epsQoS);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* extEpsQos */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "extEpsQos");

         ret = NASEnc_TS24008IE_ExtQualityOfService (pctxt, &pvalue->content.
            u.extEpsQos);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* tft */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "tft");

         ret = NASEnc_TS24008IE_TFT (pctxt, &pvalue->content.u.tft);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* apnAmbr */
      case 4:
         RTXCTXTPUSHELEMNAME (pctxt, "apnAmbr");

         ret = NASEnc_TS24301IE_APNAggMaxBitRate (pctxt, &pvalue->content.
            u.apnAmbr);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* extApnAmbr */
      case 5:
         RTXCTXTPUSHELEMNAME (pctxt, "extApnAmbr");

         ret = NASEnc_TS24301IE_ExtAPNAggMaxBitRate (pctxt, &pvalue->content.
            u.extApnAmbr);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* unknown */
      default:
         RTXCTXTPUSHELEMNAME (pctxt, "unknown");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncUInt32 (pctxt, pvalue->content.u.unknown.numocts, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->content.u.unknown.data, pvalue->content.u.unknown.numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EPSBearerCtxt (OSCTXT* pctxt
   , TS24501IE_EPSBearerCtxt* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSBearerCtxt");

   /* encode bearerId */

   RTXCTXTPUSHELEMNAME (pctxt, "bearerId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->bearerId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode bearerCtxtLen */

   RTXCTXTPUSHELEMNAME (pctxt, "bearerCtxtLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->bearerCtxtLen, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode opCode */

   RTXCTXTPUSHELEMNAME (pctxt, "opCode");
   if (!(pvalue->opCode <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->opCode);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->opCode, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eBit */

   RTXCTXTPUSHELEMNAME (pctxt, "eBit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eBit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numParams */

   RTXCTXTPUSHELEMNAME (pctxt, "numParams");
   if (!(pvalue->numParams <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numParams);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numParams, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode paramsList */

   RTXCTXTPUSHELEMNAME (pctxt, "paramsList");
   if (pvalue->m.paramsListPresent) {
      {
         OSUINT8 i;
         if (!(pvalue->paramsList.n <= 15)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->paramsList.n);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         for (i = 0; i < pvalue->paramsList.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501IE_EPSParam (pctxt, &pvalue->paramsList.elem[i]
               );
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EPSBearerCtxts (OSCTXT* pctxt
   , TS24501IE_EPSBearerCtxts* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EPSBearerCtxts");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode epsBearerCtxts */

   RTXCTXTPUSHELEMNAME (pctxt, "epsBearerCtxts");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->epsBearerCtxts.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_EPSBearerCtxt (pctxt, &pvalue->epsBearerCtxts.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_MaxSupportedPacketFilters (OSCTXT* pctxt
   , TS24501IE_MaxSupportedPacketFilters* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "MaxSupportedPacketFilters");

   /* encode maxFilters */

   RTXCTXTPUSHELEMNAME (pctxt, "maxFilters");
   if (!((pvalue->maxFilters >= 1 && pvalue->maxFilters <= 2047))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->maxFilters);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->maxFilters, 11);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PDUAddress (OSCTXT* pctxt
   , TS24501IE_PDUAddress* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUAddress");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode s16LLA */

   RTXCTXTPUSHELEMNAME (pctxt, "s16LLA");
   if (!(pvalue->s16LLA <= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->s16LLA);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->s16LLA, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionType */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionType");

   ret = NASEnc_TS24501IE_PDUAddressValues (pctxt, pvalue->sessionType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addressInfo */

   RTXCTXTPUSHELEMNAME (pctxt, "addressInfo");
   /* Encode choice data value */

   switch (pvalue->sessionType)
   {
      /* addressInfoIpv4 */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "addressInfoIpv4");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->addressInfo.u.addressInfoIpv4, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* addressInfoIpv6 */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "addressInfoIpv6");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->addressInfo.u.addressInfoIpv6, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* addressInfoIpv4v6 */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "addressInfoIpv4v6");

         /* encode ipv6 */

         RTXCTXTPUSHELEMNAME (pctxt, "ipv6");
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->addressInfo.u.addressInfoIpv4v6.ipv6, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode ipv4 */

         RTXCTXTPUSHELEMNAME (pctxt, "ipv4");
         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->addressInfo.u.addressInfoIpv4v6.ipv4, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode smfIp6Addr */

   RTXCTXTPUSHELEMNAME (pctxt, "smfIp6Addr");
   /* Encode choice data value */

   switch (pvalue->s16LLA)
   {
      /* absent */
      case 0:
         RTXCTXTPUSHELEMNAME (pctxt, "absent");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* present */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "present");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->smfIp6Addr.u.present, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PDUSessionType (OSCTXT* pctxt
   , TS24501IE_PDUSessionType* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PDUSessionType");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionType */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionType");

   ret = NASEnc_TS24501IE_SessionType (pctxt, pvalue->sessionType);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_Parameter (OSCTXT* pctxt
   , TS24501IE_Parameter* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "Parameter");

   /* encode id */

   RTXCTXTPUSHELEMNAME (pctxt, "id");

   ret = NASEnc_TS24501IE_ParameterId (pctxt, pvalue->id);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode content */

   RTXCTXTPUSHELEMNAME (pctxt, "content");
   /* Encode choice data value */

   switch (pvalue->id)
   {
      /* fiveQI */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "fiveQI");

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->content.u.fiveQI, 1);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* gfbrUL */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "gfbrUL");

         /* encode unit */

         RTXCTXTPUSHELEMNAME (pctxt, "unit");

         ret = NASEnc_TS24501IE_FlowRateUnit (pctxt, pvalue->content.u.gfbrUL.
            unit);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);

         /* encode guarFlow */

         RTXCTXTPUSHELEMNAME (pctxt, "guarFlow");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->content.u.gfbrUL.guarFlow, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* gfbrDL */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "gfbrDL");

         /* encode unit */

         RTXCTXTPUSHELEMNAME (pctxt, "unit");

         ret = NASEnc_TS24501IE_FlowRateUnit (pctxt, pvalue->content.u.gfbrDL.
            unit);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);

         /* encode guarFlow */

         RTXCTXTPUSHELEMNAME (pctxt, "guarFlow");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->content.u.gfbrDL.guarFlow, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* mfbrUL */
      case 4:
         RTXCTXTPUSHELEMNAME (pctxt, "mfbrUL");

         /* encode unit */

         RTXCTXTPUSHELEMNAME (pctxt, "unit");

         ret = NASEnc_TS24501IE_FlowRateUnit (pctxt, pvalue->content.u.mfbrUL.
            unit);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);

         /* encode guarFlow */

         RTXCTXTPUSHELEMNAME (pctxt, "guarFlow");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->content.u.mfbrUL.guarFlow, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* mfbrDL */
      case 5:
         RTXCTXTPUSHELEMNAME (pctxt, "mfbrDL");

         /* encode unit */

         RTXCTXTPUSHELEMNAME (pctxt, "unit");

         ret = NASEnc_TS24501IE_FlowRateUnit (pctxt, pvalue->content.u.mfbrDL.
            unit);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPELEMNAME (pctxt);

         /* encode guarFlow */

         RTXCTXTPUSHELEMNAME (pctxt, "guarFlow");
         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->content.u.mfbrDL.guarFlow, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* avgWindow */
      case 6:
         RTXCTXTPUSHELEMNAME (pctxt, "avgWindow");

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncUInt32 (pctxt, pvalue->content.u.avgWindow, 2);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* epsBearerIdent */
      case 7:
         RTXCTXTPUSHELEMNAME (pctxt, "epsBearerIdent");

         /* encode value */

         RTXCTXTPUSHELEMNAME (pctxt, "value");
         if (!(pvalue->content.u.epsBearerIdent.value <= 15)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->content.u.epsBearerIdent.value);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->content.u.epsBearerIdent.value, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         /* encode spare */

         RTXCTXTPUSHELEMNAME (pctxt, "spare");
         if (!(pvalue->content.u.epsBearerIdent.spare <= 15)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->content.u.epsBearerIdent.spare);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

         ret = rtxEncBits (pctxt, pvalue->content.u.epsBearerIdent.spare, 4);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         RTXCTXTPOPELEMNAME (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* unknown */
      default:
         RTXCTXTPUSHELEMNAME (pctxt, "unknown");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->content.u.unknown.data, pvalue->content.u.unknown.numocts * 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);
         rtxCtxtSetFlag(pctxt, OSCONTCLOSED);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_QOSFlowDescription (OSCTXT* pctxt
   , TS24501IE_QOSFlowDescription* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QOSFlowDescription");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qfi */

   RTXCTXTPUSHELEMNAME (pctxt, "qfi");
   if (!(pvalue->qfi <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->qfi);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->qfi, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode opCode */

   RTXCTXTPUSHELEMNAME (pctxt, "opCode");

   ret = NASEnc_TS24501IE_FlowOpCodes (pctxt, pvalue->opCode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (!(pvalue->spare2 <= 31)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare2);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare2, 5);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare3 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare3");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eBit */

   RTXCTXTPUSHELEMNAME (pctxt, "eBit");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eBit);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numParams */

   RTXCTXTPUSHELEMNAME (pctxt, "numParams");
   if (!(pvalue->numParams <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numParams);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numParams, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode paramsList */

   RTXCTXTPUSHELEMNAME (pctxt, "paramsList");
   if (pvalue->m.paramsListPresent) {
      {
         OSUINT8 i;
         if (!(pvalue->paramsList.n <= 63)) {
            rtxErrAddElemNameParm (pctxt);
            rtxErrAddIntParm (pctxt, (int)pvalue->paramsList.n);
            return LOG_RTERR (pctxt, RTERR_CONSVIO);
         }

         for (i = 0; i < pvalue->paramsList.n; i++) {
            RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

            ret = NASEnc_TS24501IE_Parameter (pctxt, &pvalue->paramsList.
               elem[i]);
            if (ret < 0) return LOG_RTERR (pctxt, ret);

            RTXCTXTPOPARRAYELEMNAME (pctxt);
         }
      }

   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_QOSFlowDescriptions (OSCTXT* pctxt
   , TS24501IE_QOSFlowDescriptions* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QOSFlowDescriptions");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode qosFlowDesr */

   RTXCTXTPUSHELEMNAME (pctxt, "qosFlowDesr");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->qosFlowDesr.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_QOSFlowDescription (pctxt, &pvalue->qosFlowDesr
            .elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 6)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PFComponent (OSCTXT* pctxt
   , TS24501IE_PFComponent* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PFComponent");

   /* encode typeId */

   RTXCTXTPUSHELEMNAME (pctxt, "typeId");

   ret = NASEnc_TS24501IE_PacketFilterTypeId (pctxt, pvalue->typeId);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode value */

   RTXCTXTPUSHELEMNAME (pctxt, "value");
   /* Encode choice data value */

   switch (pvalue->typeId)
   {
      /* matchAll */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "matchAll");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv4Remote */
      case 16:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv4Remote");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv4Remote, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv4Local */
      case 17:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv4Local");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv4Local, 64);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv6Remote */
      case 33:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv6Remote");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv6Remote, 136);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ipv6Local */
      case 35:
         RTXCTXTPUSHELEMNAME (pctxt, "ipv6Local");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ipv6Local, 136);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* protId */
      case 48:
         RTXCTXTPUSHELEMNAME (pctxt, "protId");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.protId, 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* singleLocalPort */
      case 64:
         RTXCTXTPUSHELEMNAME (pctxt, "singleLocalPort");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.singleLocalPort, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* localPortRange */
      case 65:
         RTXCTXTPUSHELEMNAME (pctxt, "localPortRange");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.localPortRange, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* singleRemPort */
      case 80:
         RTXCTXTPUSHELEMNAME (pctxt, "singleRemPort");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.singleRemPort, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* remPortRange */
      case 81:
         RTXCTXTPUSHELEMNAME (pctxt, "remPortRange");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.remPortRange, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* secParam */
      case 96:
         RTXCTXTPUSHELEMNAME (pctxt, "secParam");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.secParam, 32);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* typeOfSvc */
      case 112:
         RTXCTXTPUSHELEMNAME (pctxt, "typeOfSvc");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.typeOfSvc, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* flowLabel */
      case 128:
         RTXCTXTPUSHELEMNAME (pctxt, "flowLabel");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.flowLabel, 24);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* destMacAddr */
      case 129:
         RTXCTXTPUSHELEMNAME (pctxt, "destMacAddr");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.destMacAddr, 48);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* srcMacAddr */
      case 130:
         RTXCTXTPUSHELEMNAME (pctxt, "srcMacAddr");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.srcMacAddr, 48);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ctagVid */
      case 131:
         RTXCTXTPUSHELEMNAME (pctxt, "ctagVid");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ctagVid, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* stagVid */
      case 132:
         RTXCTXTPUSHELEMNAME (pctxt, "stagVid");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.stagVid, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ctagPcp */
      case 133:
         RTXCTXTPUSHELEMNAME (pctxt, "ctagPcp");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ctagPcp, 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* stagPcp */
      case 134:
         RTXCTXTPUSHELEMNAME (pctxt, "stagPcp");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.stagPcp, 8);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* ethernet */
      case 135:
         RTXCTXTPUSHELEMNAME (pctxt, "ethernet");

         RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

         ret = rtxEncBitsFromByteArray (pctxt, pvalue->value.u.ethernet, 16);

         RTDIAG_SETBITFLDCOUNT (pctxt);

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PFCreateNew (OSCTXT* pctxt
   , TS24501IE_PFCreateNew* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PFCreateNew");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterDirection */

   RTXCTXTPUSHELEMNAME (pctxt, "filterDirection");
   if (!(pvalue->filterDirection <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->filterDirection);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->filterDirection, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterId */

   RTXCTXTPUSHELEMNAME (pctxt, "filterId");
   if (!(pvalue->filterId <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->filterId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->filterId, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterContentLen */

   RTXCTXTPUSHELEMNAME (pctxt, "filterContentLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterContent */

   RTXCTXTPUSHELEMNAME (pctxt, "filterContent");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->filterContent.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_PFComponent (pctxt, &pvalue->filterContent.
            elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->filterContentLen = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->filterContentLen, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PFModifyAndDelete (OSCTXT* pctxt
   , TS24501IE_PFModifyAndDelete* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PFModifyAndDelete");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode filterId */

   RTXCTXTPUSHELEMNAME (pctxt, "filterId");
   if (!(pvalue->filterId <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->filterId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->filterId, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_QoSRule (OSCTXT* pctxt, TS24501IE_QoSRule* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QoSRule");

   /* encode ruleId */

   RTXCTXTPUSHELEMNAME (pctxt, "ruleId");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->ruleId, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ruleLen */

   RTXCTXTPUSHELEMNAME (pctxt, "ruleLen");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->ruleLen, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ruleOpCode */

   RTXCTXTPUSHELEMNAME (pctxt, "ruleOpCode");

   ret = NASEnc_TS24501IE_RuleOpCodes (pctxt, pvalue->ruleOpCode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dqr */

   RTXCTXTPUSHELEMNAME (pctxt, "dqr");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->dqr);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode numPacketFilters */

   RTXCTXTPUSHELEMNAME (pctxt, "numPacketFilters");
   if (!(pvalue->numPacketFilters <= 15)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->numPacketFilters);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->numPacketFilters, 4);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode packetFilterList */

   RTXCTXTPUSHELEMNAME (pctxt, "packetFilterList");
   /* Encode choice data value */

   switch (pvalue->ruleOpCode)
   {
      /* createNew */
      case 1:
         RTXCTXTPUSHELEMNAME (pctxt, "createNew");

         {
            OSUINT8 i;
            if (!(pvalue->packetFilterList.u.createNew.n <= 15)) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.createNew.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.createNew.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501IE_PFCreateNew (pctxt, &pvalue->
                  packetFilterList.u.createNew.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* delete */
      case 2:
         RTXCTXTPUSHELEMNAME (pctxt, "delete");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyAndAdd */
      case 3:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyAndAdd");

         {
            OSUINT8 i;
            if (!((pvalue->packetFilterList.u.modifyAndAdd.n >= 1 && pvalue->
               packetFilterList.u.modifyAndAdd.n <= 15))) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.modifyAndAdd.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.modifyAndAdd.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501IE_PFCreateNew (pctxt, &pvalue->
                  packetFilterList.u.modifyAndAdd.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyAndReplace */
      case 4:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyAndReplace");

         {
            OSUINT8 i;
            if (!(pvalue->packetFilterList.u.modifyAndReplace.n <= 15)) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.modifyAndReplace.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.modifyAndReplace.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501IE_PFCreateNew (pctxt, &pvalue->
                  packetFilterList.u.modifyAndReplace.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyAndDelete */
      case 5:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyAndDelete");

         {
            OSUINT8 i;
            if (!((pvalue->packetFilterList.u.modifyAndDelete.n >= 1 && pvalue->
               packetFilterList.u.modifyAndDelete.n <= 15))) {
               rtxErrAddElemNameParm (pctxt);
               rtxErrAddIntParm (pctxt, (int)pvalue->packetFilterList.u.modifyAndDelete.n);
               return LOG_RTERR (pctxt, RTERR_CONSVIO);
            }

            for (i = 0; i < pvalue->packetFilterList.u.modifyAndDelete.n; i++) {
               RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

               ret = NASEnc_TS24501IE_PFModifyAndDelete (pctxt, &pvalue->
                  packetFilterList.u.modifyAndDelete.elem[i]);
               if (ret < 0) return LOG_RTERR (pctxt, ret);

               RTXCTXTPOPARRAYELEMNAME (pctxt);
            }
         }

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      /* modifyNoModify */
      case 6:
         RTXCTXTPUSHELEMNAME (pctxt, "modifyNoModify");

         RTXCTXTPOPELEMNAME (pctxt);
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode precedence */

   RTXCTXTPUSHELEMNAME (pctxt, "precedence");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->precedence, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare1 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode segregation */

   RTXCTXTPUSHELEMNAME (pctxt, "segregation");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->segregation);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode flowId */

   RTXCTXTPUSHELEMNAME (pctxt, "flowId");
   if (!(pvalue->flowId <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->flowId);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->flowId, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_QoSRules (OSCTXT* pctxt, TS24501IE_QoSRules* pvalue
   )
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "QoSRules");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode rules */

   RTXCTXTPUSHELEMNAME (pctxt, "rules");
   {
      OSUINT8 i;
      for (i = 0; i < pvalue->rules.n; i++) {
         RTXCTXTPUSHARRAYELEMNAME (pctxt, "elem", i);

         ret = NASEnc_TS24501IE_QoSRule (pctxt, &pvalue->rules.elem[i]);
         if (ret < 0) return LOG_RTERR (pctxt, ret);

         RTXCTXTPOPARRAYELEMNAME (pctxt);
      }
   }

   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SessionAMBR (OSCTXT* pctxt
   , TS24501IE_SessionAMBR* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SessionAMBR");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode unitAmbrDL */

   RTXCTXTPUSHELEMNAME (pctxt, "unitAmbrDL");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->unitAmbrDL, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionAmbrDL */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionAmbrDL");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->sessionAmbrDL, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode unitAmbrUL */

   RTXCTXTPUSHELEMNAME (pctxt, "unitAmbrUL");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->unitAmbrUL, 1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sessionAmbrUL */

   RTXCTXTPUSHELEMNAME (pctxt, "sessionAmbrUL");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncUInt32 (pctxt, pvalue->sessionAmbrUL, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SmPduDnReqContainer (OSCTXT* pctxt
   , TS24501IE_SmPduDnReqContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SmPduDnReqContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode dnSpecificId */

   RTXCTXTPUSHELEMNAME (pctxt, "dnSpecificId");
   if (pvalue->m.dnSpecificIdPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->dnSpecificId.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->dnSpecificId.data, pvalue->dnSpecificId.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SSCMode (OSCTXT* pctxt, TS24501IE_SSCMode* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SSCMode");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode sscMode */

   RTXCTXTPUSHELEMNAME (pctxt, "sscMode");

   ret = NASEnc_TS24501IE_SSCModeValue (pctxt, pvalue->sscMode);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ReattemptIndicator (OSCTXT* pctxt
   , TS24501IE_ReattemptIndicator* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ReattemptIndicator");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eplmnc */

   RTXCTXTPUSHELEMNAME (pctxt, "eplmnc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eplmnc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode ratc */

   RTXCTXTPUSHELEMNAME (pctxt, "ratc");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->ratc);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length == 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_SMNetworkFeatureSupport (OSCTXT* pctxt
   , TS24501IE_SMNetworkFeatureSupport* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "SMNetworkFeatureSupport");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode eptS1 */

   RTXCTXTPUSHELEMNAME (pctxt, "eptS1");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->eptS1);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare2 */

   RTXCTXTPUSHELEMNAME (pctxt, "spare2");
   if (pvalue->m.spare2Present) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->spare2.data, pvalue->spare2.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
      rtxCtxtSetFlag(pctxt, OSCONTCLOSED);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_CongestionReattemptIndicator (OSCTXT* pctxt
   , TS24501IE_CongestionReattemptIndicator* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "CongestionReattemptIndicator");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 127)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 7);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode abo */

   RTXCTXTPUSHELEMNAME (pctxt, "abo");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->abo);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ATSSSContainer (OSCTXT* pctxt
   , TS24501IE_ATSSSContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ATSSSContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   if (pvalue->m.contentsPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->contents.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents.data, pvalue->contents.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_ControlPlaneIndication (OSCTXT* pctxt
   , TS24501IE_ControlPlaneIndication* pvalue)
{
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "ControlPlaneIndication");

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 7)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 3);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cpoi */

   RTXCTXTPUSHELEMNAME (pctxt, "cpoi");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->cpoi);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_HeaderCompressionConfig (OSCTXT* pctxt
   , TS24501IE_HeaderCompressionConfig* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "HeaderCompressionConfig");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->spare);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0104 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0104");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0104);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0103 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0103");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0103);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0102 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0102");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0102);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0006 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0006");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0006);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0004 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0004");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0004);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0003 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0003");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0003);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode p0x0002 */

   RTXCTXTPUSHELEMNAME (pctxt, "p0x0002");
   RTDIAG_NEWBITFIELD (pctxt, "BOOLEAN");

   ret = rtxEncBit (pctxt, pvalue->p0x0002);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode maxCID */

   RTXCTXTPUSHELEMNAME (pctxt, "maxCID");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->maxCID, 16);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addlCompressParamsType */

   RTXCTXTPUSHELEMNAME (pctxt, "addlCompressParamsType");
   if (pvalue->m.addlCompressParamsTypePresent) {
      RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

      ret = rtxEncUInt32 (pctxt, pvalue->addlCompressParamsType, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode addlCompressParamsContainer */

   RTXCTXTPUSHELEMNAME (pctxt, "addlCompressParamsContainer");
   if (pvalue->m.addlCompressParamsContainerPresent) {
      RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

      ret = rtxEncUInt32 (pctxt, pvalue->addlCompressParamsContainer.numocts, 1);
      if (ret < 0) return LOG_RTERR (pctxt, ret);

      ret = rtxEncBitsFromByteArray (pctxt, pvalue->addlCompressParamsContainer.data, pvalue->addlCompressParamsContainer.numocts * 8);

      RTDIAG_SETBITFLDCOUNT (pctxt);
   }
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_DSTTEthMACAddr (OSCTXT* pctxt
   , TS24501IE_DSTTEthMACAddr* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DSTTEthMACAddr");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents, 48);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_DSTTResidenceTime (OSCTXT* pctxt
   , TS24501IE_DSTTResidenceTime* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "DSTTResidenceTime");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode contents */

   RTXCTXTPUSHELEMNAME (pctxt, "contents");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->contents, 64);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_PortMgmtInfoContainer (OSCTXT* pctxt
   , TS24501IE_PortMgmtInfoContainer* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "PortMgmtInfoContainer");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 16);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode container */

   RTXCTXTPUSHELEMNAME (pctxt, "container");
   RTDIAG_NEWBITFIELD (pctxt, "OCTET STRING");

   if (!((pvalue->container.numocts >= 1 && pvalue->container.numocts <= 65535))) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->container.numocts);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   ret = rtxEncUInt32 (pctxt, pvalue->container.numocts, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   ret = rtxEncBitsFromByteArray (pctxt, pvalue->container.data, pvalue->container.numocts * 8);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 16);
      ret = rtxMergeBits (pctxt, pvalue->length, 16);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

EXTERN int NASEnc_TS24501IE_EthHdrCompressConfig (OSCTXT* pctxt
   , TS24501IE_EthHdrCompressConfig* pvalue)
{
   OSSIZE startIndex;
   int ret = 0;

   RTXCTXTPUSHTYPENAME (pctxt, "EthHdrCompressConfig");

   /* encode length */

   RTXCTXTPUSHELEMNAME (pctxt, "length");
   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, 0, 8);
   if (ret < 0) return LOG_RTERR (pctxt, ret);
   startIndex = rtxCtxtGetBitOffset (pctxt);

   RTDIAG_SETBITFLDCOUNT (pctxt);

   RTXCTXTPOPELEMNAME (pctxt);

   /* encode spare */

   RTXCTXTPUSHELEMNAME (pctxt, "spare");
   if (!(pvalue->spare <= 63)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->spare);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->spare, 6);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   /* encode cidLength */

   RTXCTXTPUSHELEMNAME (pctxt, "cidLength");
   if (!(pvalue->cidLength <= 3)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->cidLength);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTDIAG_NEWBITFIELD (pctxt, "INTEGER");

   ret = rtxEncBits (pctxt, pvalue->cidLength, 2);
   if (ret < 0) return LOG_RTERR (pctxt, ret);

   RTDIAG_SETBITFLDCOUNT (pctxt);
   RTXCTXTPOPELEMNAME (pctxt);

   if(rtxCtxtTestFlag(pctxt, OSCONTCLOSED)){
      if(!OSRTBYTEALIGNED(pctxt)) return LOG_RTERRNEW(pctxt, ASN_E_BAD_ALIGN);
      rtxCtxtClearFlag(pctxt, OSCONTCLOSED);
   }
   else  {
      rtxByteAlign (pctxt);
   }
   {
      OSSIZE endIndex = rtxCtxtGetBitOffset (pctxt);
      pvalue->length = (OSUINT8)((endIndex - startIndex)/8);
      rtxCtxtSetBitOffset (pctxt, startIndex - 8);
      ret = rtxMergeBits (pctxt, pvalue->length, 8);
      if (ret < 0) return LOG_RTERR (pctxt, ret);
      rtxCtxtSetBitOffset (pctxt, endIndex);
   }
   if (!(pvalue->length >= 1)) {
      rtxErrAddElemNameParm (pctxt);
      rtxErrAddIntParm (pctxt, (int)pvalue->length);
      return LOG_RTERR (pctxt, RTERR_CONSVIO);
   }

   RTXCTXTPOPTYPENAME (pctxt);

   return (ret);
}

